(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function yS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yy={exports:{}},Cc={},Jy={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),_S=Symbol.for("react.portal"),wS=Symbol.for("react.fragment"),ES=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),TS=Symbol.for("react.provider"),AS=Symbol.for("react.context"),IS=Symbol.for("react.forward_ref"),RS=Symbol.for("react.suspense"),PS=Symbol.for("react.memo"),CS=Symbol.for("react.lazy"),ig=Symbol.iterator;function bS(e){return e===null||typeof e!="object"?null:(e=ig&&e[ig]||e["@@iterator"],typeof e=="function"?e:null)}var Zy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e_=Object.assign,t_={};function ds(e,t,n){this.props=e,this.context=t,this.refs=t_,this.updater=n||Zy}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function n_(){}n_.prototype=ds.prototype;function Md(e,t,n){this.props=e,this.context=t,this.refs=t_,this.updater=n||Zy}var Fd=Md.prototype=new n_;Fd.constructor=Md;e_(Fd,ds.prototype);Fd.isPureReactComponent=!0;var og=Array.isArray,r_=Object.prototype.hasOwnProperty,jd={current:null},i_={key:!0,ref:!0,__self:!0,__source:!0};function o_(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)r_.call(t,r)&&!i_.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:za,type:e,key:o,ref:s,props:i,_owner:jd.current}}function xS(e,t){return{$$typeof:za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===za}function kS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sg=/\/+/g;function yf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kS(""+e.key):t.toString(36)}function lu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case za:case _S:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+yf(s,0):r,og(i)?(n="",e!=null&&(n=e.replace(sg,"$&/")+"/"),lu(i,t,n,"",function(c){return c})):i!=null&&(Ud(i)&&(i=xS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(sg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",og(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+yf(o,l);s+=lu(o,t,n,u,i)}else if(u=bS(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+yf(o,l++),s+=lu(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Nl(e,t,n){if(e==null)return e;var r=[],i=0;return lu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function OS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},uu={transition:null},DS={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:uu,ReactCurrentOwner:jd};function s_(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Nl,forEach:function(e,t,n){Nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nl(e,function(){t++}),t},toArray:function(e){return Nl(e,function(t){return t})||[]},only:function(e){if(!Ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ds;ce.Fragment=wS;ce.Profiler=SS;ce.PureComponent=Md;ce.StrictMode=ES;ce.Suspense=RS;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DS;ce.act=s_;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=e_({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=jd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)r_.call(t,u)&&!i_.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:za,type:e.type,key:i,ref:o,props:r,_owner:s}};ce.createContext=function(e){return e={$$typeof:AS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TS,_context:e},e.Consumer=e};ce.createElement=o_;ce.createFactory=function(e){var t=o_.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:IS,render:e}};ce.isValidElement=Ud;ce.lazy=function(e){return{$$typeof:CS,_payload:{_status:-1,_result:e},_init:OS}};ce.memo=function(e,t){return{$$typeof:PS,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=uu.transition;uu.transition={};try{e()}finally{uu.transition=t}};ce.unstable_act=s_;ce.useCallback=function(e,t){return Ot.current.useCallback(e,t)};ce.useContext=function(e){return Ot.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Ot.current.useEffect(e,t)};ce.useId=function(){return Ot.current.useId()};ce.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Ot.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};ce.useRef=function(e){return Ot.current.useRef(e)};ce.useState=function(e){return Ot.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Ot.current.useTransition()};ce.version="18.3.1";Jy.exports=ce;var L=Jy.exports;const ag=yS(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=L,VS=Symbol.for("react.element"),LS=Symbol.for("react.fragment"),MS=Object.prototype.hasOwnProperty,FS=NS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jS={key:!0,ref:!0,__self:!0,__source:!0};function a_(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)MS.call(t,r)&&!jS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:VS,type:e,key:o,ref:s,props:i,_owner:FS.current}}Cc.Fragment=LS;Cc.jsx=a_;Cc.jsxs=a_;Yy.exports=Cc;var j=Yy.exports,l_={exports:{}},tn={},u_={exports:{}},c_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,te){var oe=q.length;q.push(te);e:for(;0<oe;){var _e=oe-1>>>1,ue=q[_e];if(0<i(ue,te))q[_e]=te,q[oe]=ue,oe=_e;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var te=q[0],oe=q.pop();if(oe!==te){q[0]=oe;e:for(var _e=0,ue=q.length,we=ue>>>1;_e<we;){var Nt=2*(_e+1)-1,ut=q[Nt],_n=Nt+1,on=q[_n];if(0>i(ut,oe))_n<ue&&0>i(on,ut)?(q[_e]=on,q[_n]=oe,_e=_n):(q[_e]=ut,q[Nt]=oe,_e=Nt);else if(_n<ue&&0>i(on,oe))q[_e]=on,q[_n]=oe,_e=_n;else break e}}return te}function i(q,te){var oe=q.sortIndex-te.sortIndex;return oe!==0?oe:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,m=3,_=!1,C=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(q){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=q)r(c),te.sortIndex=te.expirationTime,t(u,te);else break;te=n(c)}}function V(q){if(x=!1,T(q),!C)if(n(u)!==null)C=!0,zn(R);else{var te=n(c);te!==null&&Ct(V,te.startTime-q)}}function R(q,te){C=!1,x&&(x=!1,w(v),v=-1),_=!0;var oe=m;try{for(T(te),p=n(u);p!==null&&(!(p.expirationTime>te)||q&&!b());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,m=p.priorityLevel;var ue=_e(p.expirationTime<=te);te=e.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&r(u),T(te)}else r(u);p=n(u)}if(p!==null)var we=!0;else{var Nt=n(c);Nt!==null&&Ct(V,Nt.startTime-te),we=!1}return we}finally{p=null,m=oe,_=!1}}var U=!1,S=null,v=-1,E=5,A=-1;function b(){return!(e.unstable_now()-A<E)}function k(){if(S!==null){var q=e.unstable_now();A=q;var te=!0;try{te=S(!0,q)}finally{te?I():(U=!1,S=null)}}else U=!1}var I;if(typeof y=="function")I=function(){y(k)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Re=lt.port2;lt.port1.onmessage=k,I=function(){Re.postMessage(null)}}else I=function(){N(k,0)};function zn(q){S=q,U||(U=!0,I())}function Ct(q,te){v=N(function(){q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){C||_||(C=!0,zn(R))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(q){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var oe=m;m=te;try{return q()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=m;m=q;try{return te()}finally{m=oe}},e.unstable_scheduleCallback=function(q,te,oe){var _e=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?_e+oe:_e):oe=_e,q){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=oe+ue,q={id:d++,callback:te,priorityLevel:q,startTime:oe,expirationTime:ue,sortIndex:-1},oe>_e?(q.sortIndex=oe,t(c,q),n(u)===null&&q===n(c)&&(x?(w(v),v=-1):x=!0,Ct(V,oe-_e))):(q.sortIndex=ue,t(u,q),C||_||(C=!0,zn(R))),q},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(q){var te=m;return function(){var oe=m;m=te;try{return q.apply(this,arguments)}finally{m=oe}}}})(c_);u_.exports=c_;var US=u_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S=L,en=US;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f_=new Set,va={};function lo(e,t){Xo(e,t),Xo(e+"Capture",t)}function Xo(e,t){for(va[e]=t,e=0;e<t.length;e++)f_.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dh=Object.prototype.hasOwnProperty,BS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lg={},ug={};function zS(e){return dh.call(ug,e)?!0:dh.call(lg,e)?!1:BS.test(e)?ug[e]=!0:(lg[e]=!0,!1)}function HS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KS(e,t,n,r){if(t===null||typeof t>"u"||HS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var $d=/[\-:]([a-z])/g;function Bd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($d,Bd);yt[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($d,Bd);yt[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($d,Bd);yt[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function zd(e,t,n,r){var i=yt.hasOwnProperty(t)?yt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KS(t,n,i,r)&&(n=null),r||i===null?zS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kr=$S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),Co=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),ph=Symbol.for("react.profiler"),h_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),Kd=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),Gd=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),p_=Symbol.for("react.offscreen"),cg=Symbol.iterator;function Ms(e){return e===null||typeof e!="object"?null:(e=cg&&e[cg]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,_f;function Qs(e){if(_f===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_f=t&&t[1]||""}return`
`+_f+e}var wf=!1;function Ef(e,t){if(!e||wf)return"";wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{wf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qs(e):""}function GS(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=Ef(e.type,!1),e;case 11:return e=Ef(e.type.render,!1),e;case 1:return e=Ef(e.type,!0),e;default:return""}}function vh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case Co:return"Portal";case ph:return"Profiler";case Hd:return"StrictMode";case mh:return"Suspense";case gh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d_:return(e.displayName||"Context")+".Consumer";case h_:return(e._context.displayName||"Context")+".Provider";case Kd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gd:return t=e.displayName||null,t!==null?t:vh(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return vh(e(t))}catch{}}return null}function WS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vh(t);case 8:return t===Hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function m_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qS(e){var t=m_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ll(e){e._valueTracker||(e._valueTracker=qS(e))}function g_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=m_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yh(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function v_(e,t){t=t.checked,t!=null&&zd(e,"checked",t,!1)}function _h(e,t){v_(e,t);var n=hi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wh(e,t.type,n):t.hasOwnProperty("defaultValue")&&wh(e,t.type,hi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wh(e,t,n){(t!=="number"||xu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xs=Array.isArray;function zo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Eh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Xs(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hi(n)}}function y_(e,t){var n=hi(t.value),r=hi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function __(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?__(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ml,w_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ml=Ml||document.createElement("div"),Ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QS=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(e){QS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ta[t]=ta[e]})});function E_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ta.hasOwnProperty(e)&&ta[e]?(""+t).trim():t+"px"}function S_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=E_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var XS=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Th(e,t){if(t){if(XS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Ah(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=null;function Wd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rh=null,Ho=null,Ko=null;function mg(e){if(e=Ga(e)){if(typeof Rh!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Dc(t),Rh(e.stateNode,e.type,t))}}function T_(e){Ho?Ko?Ko.push(e):Ko=[e]:Ho=e}function A_(){if(Ho){var e=Ho,t=Ko;if(Ko=Ho=null,mg(e),t)for(e=0;e<t.length;e++)mg(t[e])}}function I_(e,t){return e(t)}function R_(){}var Sf=!1;function P_(e,t,n){if(Sf)return e(t,n);Sf=!0;try{return I_(e,t,n)}finally{Sf=!1,(Ho!==null||Ko!==null)&&(R_(),A_())}}function _a(e,t){var n=e.stateNode;if(n===null)return null;var r=Dc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Ph=!1;if(Tr)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Ph=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Ph=!1}function YS(e,t,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var na=!1,ku=null,Ou=!1,Ch=null,JS={onError:function(e){na=!0,ku=e}};function ZS(e,t,n,r,i,o,s,l,u){na=!1,ku=null,YS.apply(JS,arguments)}function eT(e,t,n,r,i,o,s,l,u){if(ZS.apply(this,arguments),na){if(na){var c=ku;na=!1,ku=null}else throw Error(z(198));Ou||(Ou=!0,Ch=c)}}function uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function C_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gg(e){if(uo(e)!==e)throw Error(z(188))}function tT(e){var t=e.alternate;if(!t){if(t=uo(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gg(i),e;if(o===r)return gg(i),t;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function b_(e){return e=tT(e),e!==null?x_(e):null}function x_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=x_(e);if(t!==null)return t;e=e.sibling}return null}var k_=en.unstable_scheduleCallback,vg=en.unstable_cancelCallback,nT=en.unstable_shouldYield,rT=en.unstable_requestPaint,We=en.unstable_now,iT=en.unstable_getCurrentPriorityLevel,qd=en.unstable_ImmediatePriority,O_=en.unstable_UserBlockingPriority,Du=en.unstable_NormalPriority,oT=en.unstable_LowPriority,D_=en.unstable_IdlePriority,bc=null,Yn=null;function sT(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(bc,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:uT,aT=Math.log,lT=Math.LN2;function uT(e){return e>>>=0,e===0?32:31-(aT(e)/lT|0)|0}var Fl=64,jl=4194304;function Ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ys(l):(o&=s,o!==0&&(r=Ys(o)))}else s=n&~i,s!==0?r=Ys(s):o!==0&&(r=Ys(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nn(t),i=1<<n,r|=e[n],t&=~i;return r}function cT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Nn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=cT(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function bh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function N_(){var e=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),e}function Tf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ha(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=n}function hT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Nn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Qd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ae=0;function V_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var L_,Xd,M_,F_,j_,xh=!1,Ul=[],ei=null,ti=null,ni=null,wa=new Map,Ea=new Map,qr=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yg(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(t.pointerId)}}function js(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ga(t),t!==null&&Xd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pT(e,t,n,r,i){switch(t){case"focusin":return ei=js(ei,e,t,n,r,i),!0;case"dragenter":return ti=js(ti,e,t,n,r,i),!0;case"mouseover":return ni=js(ni,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return wa.set(o,js(wa.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ea.set(o,js(Ea.get(o)||null,e,t,n,r,i)),!0}return!1}function U_(e){var t=Li(e.target);if(t!==null){var n=uo(t);if(n!==null){if(t=n.tag,t===13){if(t=C_(n),t!==null){e.blockedOn=t,j_(e.priority,function(){M_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ih=r,n.target.dispatchEvent(r),Ih=null}else return t=Ga(n),t!==null&&Xd(t),e.blockedOn=n,!1;t.shift()}return!0}function _g(e,t,n){cu(e)&&n.delete(t)}function mT(){xh=!1,ei!==null&&cu(ei)&&(ei=null),ti!==null&&cu(ti)&&(ti=null),ni!==null&&cu(ni)&&(ni=null),wa.forEach(_g),Ea.forEach(_g)}function Us(e,t){e.blockedOn===t&&(e.blockedOn=null,xh||(xh=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,mT)))}function Sa(e){function t(i){return Us(i,e)}if(0<Ul.length){Us(Ul[0],e);for(var n=1;n<Ul.length;n++){var r=Ul[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ei!==null&&Us(ei,e),ti!==null&&Us(ti,e),ni!==null&&Us(ni,e),wa.forEach(t),Ea.forEach(t),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)U_(n),n.blockedOn===null&&qr.shift()}var Go=kr.ReactCurrentBatchConfig,Vu=!0;function gT(e,t,n,r){var i=Ae,o=Go.transition;Go.transition=null;try{Ae=1,Yd(e,t,n,r)}finally{Ae=i,Go.transition=o}}function vT(e,t,n,r){var i=Ae,o=Go.transition;Go.transition=null;try{Ae=4,Yd(e,t,n,r)}finally{Ae=i,Go.transition=o}}function Yd(e,t,n,r){if(Vu){var i=kh(e,t,n,r);if(i===null)Df(e,t,r,Lu,n),yg(e,r);else if(pT(i,e,t,n,r))r.stopPropagation();else if(yg(e,r),t&4&&-1<dT.indexOf(e)){for(;i!==null;){var o=Ga(i);if(o!==null&&L_(o),o=kh(e,t,n,r),o===null&&Df(e,t,r,Lu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Df(e,t,r,null,n)}}var Lu=null;function kh(e,t,n,r){if(Lu=null,e=Wd(r),e=Li(e),e!==null)if(t=uo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=C_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lu=e,null}function $_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iT()){case qd:return 1;case O_:return 4;case Du:case oT:return 16;case D_:return 536870912;default:return 16}default:return 16}}var Yr=null,Jd=null,fu=null;function B_(){if(fu)return fu;var e,t=Jd,n=t.length,r,i="value"in Yr?Yr.value:Yr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return fu=i.slice(e,1<r?1-r:void 0)}function hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function wg(){return!1}function nn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$l:wg,this.isPropagationStopped=wg,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zd=nn(ps),Ka=$e({},ps,{view:0,detail:0}),yT=nn(Ka),Af,If,$s,xc=$e({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(Af=e.screenX-$s.screenX,If=e.screenY-$s.screenY):If=Af=0,$s=e),Af)},movementY:function(e){return"movementY"in e?e.movementY:If}}),Eg=nn(xc),_T=$e({},xc,{dataTransfer:0}),wT=nn(_T),ET=$e({},Ka,{relatedTarget:0}),Rf=nn(ET),ST=$e({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),TT=nn(ST),AT=$e({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IT=nn(AT),RT=$e({},ps,{data:0}),Sg=nn(RT),PT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bT[e])?!!t[e]:!1}function ep(){return xT}var kT=$e({},Ka,{key:function(e){if(e.key){var t=PT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(e){return e.type==="keypress"?hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OT=nn(kT),DT=$e({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tg=nn(DT),NT=$e({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),VT=nn(NT),LT=$e({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),MT=nn(LT),FT=$e({},xc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jT=nn(FT),UT=[9,13,27,32],tp=Tr&&"CompositionEvent"in window,ra=null;Tr&&"documentMode"in document&&(ra=document.documentMode);var $T=Tr&&"TextEvent"in window&&!ra,z_=Tr&&(!tp||ra&&8<ra&&11>=ra),Ag=String.fromCharCode(32),Ig=!1;function H_(e,t){switch(e){case"keyup":return UT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xo=!1;function BT(e,t){switch(e){case"compositionend":return K_(t);case"keypress":return t.which!==32?null:(Ig=!0,Ag);case"textInput":return e=t.data,e===Ag&&Ig?null:e;default:return null}}function zT(e,t){if(xo)return e==="compositionend"||!tp&&H_(e,t)?(e=B_(),fu=Jd=Yr=null,xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return z_&&t.locale!=="ko"?null:t.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HT[e.type]:t==="textarea"}function G_(e,t,n,r){T_(r),t=Mu(t,"onChange"),0<t.length&&(n=new Zd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ia=null,Ta=null;function KT(e){r0(e,0)}function kc(e){var t=Do(e);if(g_(t))return e}function GT(e,t){if(e==="change")return t}var W_=!1;if(Tr){var Pf;if(Tr){var Cf="oninput"in document;if(!Cf){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Cf=typeof Pg.oninput=="function"}Pf=Cf}else Pf=!1;W_=Pf&&(!document.documentMode||9<document.documentMode)}function Cg(){ia&&(ia.detachEvent("onpropertychange",q_),Ta=ia=null)}function q_(e){if(e.propertyName==="value"&&kc(Ta)){var t=[];G_(t,Ta,e,Wd(e)),P_(KT,t)}}function WT(e,t,n){e==="focusin"?(Cg(),ia=t,Ta=n,ia.attachEvent("onpropertychange",q_)):e==="focusout"&&Cg()}function qT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kc(Ta)}function QT(e,t){if(e==="click")return kc(t)}function XT(e,t){if(e==="input"||e==="change")return kc(t)}function YT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:YT;function Aa(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dh.call(t,i)||!Fn(e[i],t[i]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,t){var n=bg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bg(n)}}function Q_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Q_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function X_(){for(var e=window,t=xu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xu(e.document)}return t}function np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JT(e){var t=X_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Q_(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xg(n,o);var s=xg(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZT=Tr&&"documentMode"in document&&11>=document.documentMode,ko=null,Oh=null,oa=null,Dh=!1;function kg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dh||ko==null||ko!==xu(r)||(r=ko,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&Aa(oa,r)||(oa=r,r=Mu(Oh,"onSelect"),0<r.length&&(t=new Zd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ko)))}function Bl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oo={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},bf={},Y_={};Tr&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Oc(e){if(bf[e])return bf[e];if(!Oo[e])return e;var t=Oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Y_)return bf[e]=t[n];return e}var J_=Oc("animationend"),Z_=Oc("animationiteration"),e0=Oc("animationstart"),t0=Oc("transitionend"),n0=new Map,Og="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){n0.set(e,t),lo(t,[e])}for(var xf=0;xf<Og.length;xf++){var kf=Og[xf],eA=kf.toLowerCase(),tA=kf[0].toUpperCase()+kf.slice(1);_i(eA,"on"+tA)}_i(J_,"onAnimationEnd");_i(Z_,"onAnimationIteration");_i(e0,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(t0,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function Dg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,eT(r,t,void 0,e),e.currentTarget=null}function r0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Dg(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Dg(i,l,c),o=u}}}if(Ou)throw e=Ch,Ou=!1,Ch=null,e}function De(e,t){var n=t[Fh];n===void 0&&(n=t[Fh]=new Set);var r=e+"__bubble";n.has(r)||(i0(t,e,2,!1),n.add(r))}function Of(e,t,n){var r=0;t&&(r|=4),i0(n,e,r,t)}var zl="_reactListening"+Math.random().toString(36).slice(2);function Ia(e){if(!e[zl]){e[zl]=!0,f_.forEach(function(n){n!=="selectionchange"&&(nA.has(n)||Of(n,!1,e),Of(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zl]||(t[zl]=!0,Of("selectionchange",!1,t))}}function i0(e,t,n,r){switch($_(t)){case 1:var i=gT;break;case 4:i=vT;break;default:i=Yd}n=i.bind(null,t,n,e),i=void 0,!Ph||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Df(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Li(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}P_(function(){var c=o,d=Wd(n),p=[];e:{var m=n0.get(e);if(m!==void 0){var _=Zd,C=e;switch(e){case"keypress":if(hu(n)===0)break e;case"keydown":case"keyup":_=OT;break;case"focusin":C="focus",_=Rf;break;case"focusout":C="blur",_=Rf;break;case"beforeblur":case"afterblur":_=Rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=wT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=VT;break;case J_:case Z_:case e0:_=TT;break;case t0:_=MT;break;case"scroll":_=yT;break;case"wheel":_=jT;break;case"copy":case"cut":case"paste":_=IT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Tg}var x=(t&4)!==0,N=!x&&e==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var y=c,T;y!==null;){T=y;var V=T.stateNode;if(T.tag===5&&V!==null&&(T=V,w!==null&&(V=_a(y,w),V!=null&&x.push(Ra(y,V,T)))),N)break;y=y.return}0<x.length&&(m=new _(m,C,null,n,d),p.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==Ih&&(C=n.relatedTarget||n.fromElement)&&(Li(C)||C[Ar]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=c,C=C?Li(C):null,C!==null&&(N=uo(C),C!==N||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=c),_!==C)){if(x=Eg,V="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Tg,V="onPointerLeave",w="onPointerEnter",y="pointer"),N=_==null?m:Do(_),T=C==null?m:Do(C),m=new x(V,y+"leave",_,n,d),m.target=N,m.relatedTarget=T,V=null,Li(d)===c&&(x=new x(w,y+"enter",C,n,d),x.target=T,x.relatedTarget=N,V=x),N=V,_&&C)t:{for(x=_,w=C,y=0,T=x;T;T=So(T))y++;for(T=0,V=w;V;V=So(V))T++;for(;0<y-T;)x=So(x),y--;for(;0<T-y;)w=So(w),T--;for(;y--;){if(x===w||w!==null&&x===w.alternate)break t;x=So(x),w=So(w)}x=null}else x=null;_!==null&&Ng(p,m,_,x,!1),C!==null&&N!==null&&Ng(p,N,C,x,!0)}}e:{if(m=c?Do(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var R=GT;else if(Rg(m))if(W_)R=XT;else{R=qT;var U=WT}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=QT);if(R&&(R=R(e,c))){G_(p,R,n,d);break e}U&&U(e,m,c),e==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&wh(m,"number",m.value)}switch(U=c?Do(c):window,e){case"focusin":(Rg(U)||U.contentEditable==="true")&&(ko=U,Oh=c,oa=null);break;case"focusout":oa=Oh=ko=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,kg(p,n,d);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":kg(p,n,d)}var S;if(tp)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else xo?H_(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(z_&&n.locale!=="ko"&&(xo||v!=="onCompositionStart"?v==="onCompositionEnd"&&xo&&(S=B_()):(Yr=d,Jd="value"in Yr?Yr.value:Yr.textContent,xo=!0)),U=Mu(c,v),0<U.length&&(v=new Sg(v,e,null,n,d),p.push({event:v,listeners:U}),S?v.data=S:(S=K_(n),S!==null&&(v.data=S)))),(S=$T?BT(e,n):zT(e,n))&&(c=Mu(c,"onBeforeInput"),0<c.length&&(d=new Sg("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=S))}r0(p,t)})}function Ra(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_a(e,n),o!=null&&r.unshift(Ra(e,o,i)),o=_a(e,t),o!=null&&r.push(Ra(e,o,i))),e=e.return}return r}function So(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ng(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=_a(n,o),u!=null&&s.unshift(Ra(n,u,l))):i||(u=_a(n,o),u!=null&&s.push(Ra(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var rA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function Vg(e){return(typeof e=="string"?e:""+e).replace(rA,`
`).replace(iA,"")}function Hl(e,t,n){if(t=Vg(t),Vg(e)!==t&&n)throw Error(z(425))}function Fu(){}var Nh=null,Vh=null;function Lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(e){return Lg.resolve(null).then(e).catch(aA)}:Mh;function aA(e){setTimeout(function(){throw e})}function Nf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Sa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sa(t)}function ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ms,Pa="__reactProps$"+ms,Ar="__reactContainer$"+ms,Fh="__reactEvents$"+ms,lA="__reactListeners$"+ms,uA="__reactHandles$"+ms;function Li(e){var t=e[Qn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ar]||n[Qn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mg(e);e!==null;){if(n=e[Qn])return n;e=Mg(e)}return t}e=n,n=e.parentNode}return null}function Ga(e){return e=e[Qn]||e[Ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Do(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Dc(e){return e[Pa]||null}var jh=[],No=-1;function wi(e){return{current:e}}function Ne(e){0>No||(e.current=jh[No],jh[No]=null,No--)}function be(e,t){No++,jh[No]=e.current,e.current=t}var di={},Pt=wi(di),jt=wi(!1),Gi=di;function Yo(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function ju(){Ne(jt),Ne(Pt)}function Fg(e,t,n){if(Pt.current!==di)throw Error(z(168));be(Pt,t),be(jt,n)}function o0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,WS(e)||"Unknown",i));return $e({},n,r)}function Uu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,Gi=Pt.current,be(Pt,e),be(jt,jt.current),!0}function jg(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=o0(e,t,Gi),r.__reactInternalMemoizedMergedChildContext=e,Ne(jt),Ne(Pt),be(Pt,e)):Ne(jt),be(jt,n)}var pr=null,Nc=!1,Vf=!1;function s0(e){pr===null?pr=[e]:pr.push(e)}function cA(e){Nc=!0,s0(e)}function Ei(){if(!Vf&&pr!==null){Vf=!0;var e=0,t=Ae;try{var n=pr;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pr=null,Nc=!1}catch(i){throw pr!==null&&(pr=pr.slice(e+1)),k_(qd,Ei),i}finally{Ae=t,Vf=!1}}return null}var Vo=[],Lo=0,$u=null,Bu=0,un=[],cn=0,Wi=null,vr=1,yr="";function Oi(e,t){Vo[Lo++]=Bu,Vo[Lo++]=$u,$u=e,Bu=t}function a0(e,t,n){un[cn++]=vr,un[cn++]=yr,un[cn++]=Wi,Wi=e;var r=vr;e=yr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var o=32-Nn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,vr=1<<32-Nn(t)+i|n<<i|r,yr=o+e}else vr=1<<o|n<<i|r,yr=e}function rp(e){e.return!==null&&(Oi(e,1),a0(e,1,0))}function ip(e){for(;e===$u;)$u=Vo[--Lo],Vo[Lo]=null,Bu=Vo[--Lo],Vo[Lo]=null;for(;e===Wi;)Wi=un[--cn],un[cn]=null,yr=un[--cn],un[cn]=null,vr=un[--cn],un[cn]=null}var Jt=null,Yt=null,Fe=!1,bn=null;function l0(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ug(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=ri(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wi!==null?{id:vr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,Yt=null,!0):!1;default:return!1}}function Uh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $h(e){if(Fe){var t=Yt;if(t){var n=t;if(!Ug(e,t)){if(Uh(e))throw Error(z(418));t=ri(n.nextSibling);var r=Jt;t&&Ug(e,t)?l0(r,n):(e.flags=e.flags&-4097|2,Fe=!1,Jt=e)}}else{if(Uh(e))throw Error(z(418));e.flags=e.flags&-4097|2,Fe=!1,Jt=e}}}function $g(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function Kl(e){if(e!==Jt)return!1;if(!Fe)return $g(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lh(e.type,e.memoizedProps)),t&&(t=Yt)){if(Uh(e))throw u0(),Error(z(418));for(;t;)l0(e,t),t=ri(t.nextSibling)}if($g(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yt=ri(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Jt?ri(e.stateNode.nextSibling):null;return!0}function u0(){for(var e=Yt;e;)e=ri(e.nextSibling)}function Jo(){Yt=Jt=null,Fe=!1}function op(e){bn===null?bn=[e]:bn.push(e)}var fA=kr.ReactCurrentBatchConfig;function Bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Gl(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bg(e){var t=e._init;return t(e._payload)}function c0(e){function t(w,y){if(e){var T=w.deletions;T===null?(w.deletions=[y],w.flags|=16):T.push(y)}}function n(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=ai(w,y),w.index=0,w.sibling=null,w}function o(w,y,T){return w.index=T,e?(T=w.alternate,T!==null?(T=T.index,T<y?(w.flags|=2,y):T):(w.flags|=2,y)):(w.flags|=1048576,y)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,y,T,V){return y===null||y.tag!==6?(y=Bf(T,w.mode,V),y.return=w,y):(y=i(y,T),y.return=w,y)}function u(w,y,T,V){var R=T.type;return R===bo?d(w,y,T.props.children,V,T.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gr&&Bg(R)===y.type)?(V=i(y,T.props),V.ref=Bs(w,y,T),V.return=w,V):(V=_u(T.type,T.key,T.props,null,w.mode,V),V.ref=Bs(w,y,T),V.return=w,V)}function c(w,y,T,V){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=zf(T,w.mode,V),y.return=w,y):(y=i(y,T.children||[]),y.return=w,y)}function d(w,y,T,V,R){return y===null||y.tag!==7?(y=zi(T,w.mode,V,R),y.return=w,y):(y=i(y,T),y.return=w,y)}function p(w,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bf(""+y,w.mode,T),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vl:return T=_u(y.type,y.key,y.props,null,w.mode,T),T.ref=Bs(w,null,y),T.return=w,T;case Co:return y=zf(y,w.mode,T),y.return=w,y;case Gr:var V=y._init;return p(w,V(y._payload),T)}if(Xs(y)||Ms(y))return y=zi(y,w.mode,T,null),y.return=w,y;Gl(w,y)}return null}function m(w,y,T,V){var R=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return R!==null?null:l(w,y,""+T,V);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vl:return T.key===R?u(w,y,T,V):null;case Co:return T.key===R?c(w,y,T,V):null;case Gr:return R=T._init,m(w,y,R(T._payload),V)}if(Xs(T)||Ms(T))return R!==null?null:d(w,y,T,V,null);Gl(w,T)}return null}function _(w,y,T,V,R){if(typeof V=="string"&&V!==""||typeof V=="number")return w=w.get(T)||null,l(y,w,""+V,R);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Vl:return w=w.get(V.key===null?T:V.key)||null,u(y,w,V,R);case Co:return w=w.get(V.key===null?T:V.key)||null,c(y,w,V,R);case Gr:var U=V._init;return _(w,y,T,U(V._payload),R)}if(Xs(V)||Ms(V))return w=w.get(T)||null,d(y,w,V,R,null);Gl(y,V)}return null}function C(w,y,T,V){for(var R=null,U=null,S=y,v=y=0,E=null;S!==null&&v<T.length;v++){S.index>v?(E=S,S=null):E=S.sibling;var A=m(w,S,T[v],V);if(A===null){S===null&&(S=E);break}e&&S&&A.alternate===null&&t(w,S),y=o(A,y,v),U===null?R=A:U.sibling=A,U=A,S=E}if(v===T.length)return n(w,S),Fe&&Oi(w,v),R;if(S===null){for(;v<T.length;v++)S=p(w,T[v],V),S!==null&&(y=o(S,y,v),U===null?R=S:U.sibling=S,U=S);return Fe&&Oi(w,v),R}for(S=r(w,S);v<T.length;v++)E=_(S,w,v,T[v],V),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?v:E.key),y=o(E,y,v),U===null?R=E:U.sibling=E,U=E);return e&&S.forEach(function(b){return t(w,b)}),Fe&&Oi(w,v),R}function x(w,y,T,V){var R=Ms(T);if(typeof R!="function")throw Error(z(150));if(T=R.call(T),T==null)throw Error(z(151));for(var U=R=null,S=y,v=y=0,E=null,A=T.next();S!==null&&!A.done;v++,A=T.next()){S.index>v?(E=S,S=null):E=S.sibling;var b=m(w,S,A.value,V);if(b===null){S===null&&(S=E);break}e&&S&&b.alternate===null&&t(w,S),y=o(b,y,v),U===null?R=b:U.sibling=b,U=b,S=E}if(A.done)return n(w,S),Fe&&Oi(w,v),R;if(S===null){for(;!A.done;v++,A=T.next())A=p(w,A.value,V),A!==null&&(y=o(A,y,v),U===null?R=A:U.sibling=A,U=A);return Fe&&Oi(w,v),R}for(S=r(w,S);!A.done;v++,A=T.next())A=_(S,w,v,A.value,V),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?v:A.key),y=o(A,y,v),U===null?R=A:U.sibling=A,U=A);return e&&S.forEach(function(k){return t(w,k)}),Fe&&Oi(w,v),R}function N(w,y,T,V){if(typeof T=="object"&&T!==null&&T.type===bo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vl:e:{for(var R=T.key,U=y;U!==null;){if(U.key===R){if(R=T.type,R===bo){if(U.tag===7){n(w,U.sibling),y=i(U,T.props.children),y.return=w,w=y;break e}}else if(U.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Gr&&Bg(R)===U.type){n(w,U.sibling),y=i(U,T.props),y.ref=Bs(w,U,T),y.return=w,w=y;break e}n(w,U);break}else t(w,U);U=U.sibling}T.type===bo?(y=zi(T.props.children,w.mode,V,T.key),y.return=w,w=y):(V=_u(T.type,T.key,T.props,null,w.mode,V),V.ref=Bs(w,y,T),V.return=w,w=V)}return s(w);case Co:e:{for(U=T.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(w,y.sibling),y=i(y,T.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else t(w,y);y=y.sibling}y=zf(T,w.mode,V),y.return=w,w=y}return s(w);case Gr:return U=T._init,N(w,y,U(T._payload),V)}if(Xs(T))return C(w,y,T,V);if(Ms(T))return x(w,y,T,V);Gl(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,T),y.return=w,w=y):(n(w,y),y=Bf(T,w.mode,V),y.return=w,w=y),s(w)):n(w,y)}return N}var Zo=c0(!0),f0=c0(!1),zu=wi(null),Hu=null,Mo=null,sp=null;function ap(){sp=Mo=Hu=null}function lp(e){var t=zu.current;Ne(zu),e._currentValue=t}function Bh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wo(e,t){Hu=e,sp=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(sp!==e)if(e={context:e,memoizedValue:t,next:null},Mo===null){if(Hu===null)throw Error(z(308));Mo=e,Hu.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var Mi=null;function up(e){Mi===null?Mi=[e]:Mi.push(e)}function h0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,up(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ir(e,r)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wr=!1;function cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ir(e,n)}return i=r.interleaved,i===null?(t.next=t,up(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ir(e,n)}function du(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qd(e,n)}}function zg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ku(e,t,n,r){var i=e.updateQueue;Wr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,d=c=u=null,l=o;do{var m=l.lane,_=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,x=l;switch(m=t,_=n,x.tag){case 1:if(C=x.payload,typeof C=="function"){p=C.call(_,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,m=typeof C=="function"?C.call(_,p,m):C,m==null)break e;p=$e({},p,m);break e;case 2:Wr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,u=p):d=d.next=_,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Qi|=s,e.lanes=s,e.memoizedState=p}}function Hg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Wa={},Jn=wi(Wa),Ca=wi(Wa),ba=wi(Wa);function Fi(e){if(e===Wa)throw Error(z(174));return e}function fp(e,t){switch(be(ba,t),be(Ca,e),be(Jn,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sh(t,e)}Ne(Jn),be(Jn,t)}function es(){Ne(Jn),Ne(Ca),Ne(ba)}function p0(e){Fi(ba.current);var t=Fi(Jn.current),n=Sh(t,e.type);t!==n&&(be(Ca,e),be(Jn,n))}function hp(e){Ca.current===e&&(Ne(Jn),Ne(Ca))}var je=wi(0);function Gu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lf=[];function dp(){for(var e=0;e<Lf.length;e++)Lf[e]._workInProgressVersionPrimary=null;Lf.length=0}var pu=kr.ReactCurrentDispatcher,Mf=kr.ReactCurrentBatchConfig,qi=0,Ue=null,Ze=null,nt=null,Wu=!1,sa=!1,xa=0,hA=0;function Et(){throw Error(z(321))}function pp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fn(e[n],t[n]))return!1;return!0}function mp(e,t,n,r,i,o){if(qi=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pu.current=e===null||e.memoizedState===null?gA:vA,e=n(r,i),sa){o=0;do{if(sa=!1,xa=0,25<=o)throw Error(z(301));o+=1,nt=Ze=null,t.updateQueue=null,pu.current=yA,e=n(r,i)}while(sa)}if(pu.current=qu,t=Ze!==null&&Ze.next!==null,qi=0,nt=Ze=Ue=null,Wu=!1,t)throw Error(z(300));return e}function gp(){var e=xa!==0;return xa=0,e}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ue.memoizedState=nt=e:nt=nt.next=e,nt}function yn(){if(Ze===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=nt===null?Ue.memoizedState:nt.next;if(t!==null)nt=t,Ze=e;else{if(e===null)throw Error(z(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},nt===null?Ue.memoizedState=nt=e:nt=nt.next=e}return nt}function ka(e,t){return typeof t=="function"?t(e):t}function Ff(e){var t=yn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((qi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,Ue.lanes|=d,Qi|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,Fn(r,t.memoizedState)||(Ft=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ue.lanes|=o,Qi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jf(e){var t=yn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Fn(o,t.memoizedState)||(Ft=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function m0(){}function g0(e,t){var n=Ue,r=yn(),i=t(),o=!Fn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ft=!0),r=r.queue,vp(_0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Oa(9,y0.bind(null,n,r,i,t),void 0,null),ot===null)throw Error(z(349));qi&30||v0(n,t,i)}return i}function v0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function y0(e,t,n,r){t.value=n,t.getSnapshot=r,w0(t)&&E0(e)}function _0(e,t,n){return n(function(){w0(t)&&E0(e)})}function w0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fn(e,n)}catch{return!0}}function E0(e){var t=Ir(e,1);t!==null&&Vn(t,e,1,-1)}function Kg(e){var t=Wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=mA.bind(null,Ue,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function S0(){return yn().memoizedState}function mu(e,t,n,r){var i=Wn();Ue.flags|=e,i.memoizedState=Oa(1|t,n,void 0,r===void 0?null:r)}function Vc(e,t,n,r){var i=yn();r=r===void 0?null:r;var o=void 0;if(Ze!==null){var s=Ze.memoizedState;if(o=s.destroy,r!==null&&pp(r,s.deps)){i.memoizedState=Oa(t,n,o,r);return}}Ue.flags|=e,i.memoizedState=Oa(1|t,n,o,r)}function Gg(e,t){return mu(8390656,8,e,t)}function vp(e,t){return Vc(2048,8,e,t)}function T0(e,t){return Vc(4,2,e,t)}function A0(e,t){return Vc(4,4,e,t)}function I0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R0(e,t,n){return n=n!=null?n.concat([e]):null,Vc(4,4,I0.bind(null,t,e),n)}function yp(){}function P0(e,t){var n=yn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function C0(e,t){var n=yn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function b0(e,t,n){return qi&21?(Fn(n,t)||(n=N_(),Ue.lanes|=n,Qi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n)}function dA(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=Mf.transition;Mf.transition={};try{e(!1),t()}finally{Ae=n,Mf.transition=r}}function x0(){return yn().memoizedState}function pA(e,t,n){var r=si(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k0(e))O0(t,n);else if(n=h0(e,t,n,r),n!==null){var i=kt();Vn(n,e,r,i),D0(n,t,r)}}function mA(e,t,n){var r=si(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k0(e))O0(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Fn(l,s)){var u=t.interleaved;u===null?(i.next=i,up(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=h0(e,t,i,r),n!==null&&(i=kt(),Vn(n,e,r,i),D0(n,t,r))}}function k0(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function O0(e,t){sa=Wu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function D0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qd(e,n)}}var qu={readContext:vn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},gA={readContext:vn,useCallback:function(e,t){return Wn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:Gg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mu(4194308,4,I0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mu(4194308,4,e,t)},useInsertionEffect:function(e,t){return mu(4,2,e,t)},useMemo:function(e,t){var n=Wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pA.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Wn();return e={current:e},t.memoizedState=e},useState:Kg,useDebugValue:yp,useDeferredValue:function(e){return Wn().memoizedState=e},useTransition:function(){var e=Kg(!1),t=e[0];return e=dA.bind(null,e[1]),Wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,i=Wn();if(Fe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),ot===null)throw Error(z(349));qi&30||v0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Gg(_0.bind(null,r,o,e),[e]),r.flags|=2048,Oa(9,y0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Wn(),t=ot.identifierPrefix;if(Fe){var n=yr,r=vr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vA={readContext:vn,useCallback:P0,useContext:vn,useEffect:vp,useImperativeHandle:R0,useInsertionEffect:T0,useLayoutEffect:A0,useMemo:C0,useReducer:Ff,useRef:S0,useState:function(){return Ff(ka)},useDebugValue:yp,useDeferredValue:function(e){var t=yn();return b0(t,Ze.memoizedState,e)},useTransition:function(){var e=Ff(ka)[0],t=yn().memoizedState;return[e,t]},useMutableSource:m0,useSyncExternalStore:g0,useId:x0,unstable_isNewReconciler:!1},yA={readContext:vn,useCallback:P0,useContext:vn,useEffect:vp,useImperativeHandle:R0,useInsertionEffect:T0,useLayoutEffect:A0,useMemo:C0,useReducer:jf,useRef:S0,useState:function(){return jf(ka)},useDebugValue:yp,useDeferredValue:function(e){var t=yn();return Ze===null?t.memoizedState=e:b0(t,Ze.memoizedState,e)},useTransition:function(){var e=jf(ka)[0],t=yn().memoizedState;return[e,t]},useMutableSource:m0,useSyncExternalStore:g0,useId:x0,unstable_isNewReconciler:!1};function Rn(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lc={isMounted:function(e){return(e=e._reactInternals)?uo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),i=si(e),o=_r(r,i);o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,i),t!==null&&(Vn(t,e,i,r),du(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),i=si(e),o=_r(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,i),t!==null&&(Vn(t,e,i,r),du(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=si(e),i=_r(n,r);i.tag=2,t!=null&&(i.callback=t),t=ii(e,i,r),t!==null&&(Vn(t,e,r,n),du(t,e,r))}};function Wg(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Aa(n,r)||!Aa(i,o):!0}function N0(e,t,n){var r=!1,i=di,o=t.contextType;return typeof o=="object"&&o!==null?o=vn(o):(i=Ut(t)?Gi:Pt.current,r=t.contextTypes,o=(r=r!=null)?Yo(e,i):di),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lc.enqueueReplaceState(t,t.state,null)}function Hh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},cp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=vn(o):(o=Ut(t)?Gi:Pt.current,i.context=Yo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Lc.enqueueReplaceState(i,i.state,null),Ku(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=GS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Uf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _A=typeof WeakMap=="function"?WeakMap:Map;function V0(e,t,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,td=r),Kh(e,t)},n}function L0(e,t,n){n=_r(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Kh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kh(e,t),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Qg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _A;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DA.bind(null,e,t,n),t.then(e,e))}function Xg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yg(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_r(-1,1),t.tag=2,ii(n,t,1))),n.lanes|=1),e)}var wA=kr.ReactCurrentOwner,Ft=!1;function xt(e,t,n,r){t.child=e===null?f0(t,null,n,r):Zo(t,e.child,n,r)}function Jg(e,t,n,r,i){n=n.render;var o=t.ref;return Wo(t,i),r=mp(e,t,n,r,o,i),n=gp(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(Fe&&n&&rp(t),t.flags|=1,xt(e,t,r,i),t.child)}function Zg(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Rp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,M0(e,t,o,r,i)):(e=_u(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Aa,n(s,r)&&e.ref===t.ref)return Rr(e,t,i)}return t.flags|=1,e=ai(o,r),e.ref=t.ref,e.return=t,t.child=e}function M0(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Aa(o,r)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,Rr(e,t,i)}return Gh(e,t,n,r,i)}function F0(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(jo,Wt),Wt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(jo,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,be(jo,Wt),Wt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,be(jo,Wt),Wt|=r;return xt(e,t,i,n),t.child}function j0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gh(e,t,n,r,i){var o=Ut(n)?Gi:Pt.current;return o=Yo(t,o),Wo(t,i),n=mp(e,t,n,r,o,i),r=gp(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rr(e,t,i)):(Fe&&r&&rp(t),t.flags|=1,xt(e,t,n,i),t.child)}function ev(e,t,n,r,i){if(Ut(n)){var o=!0;Uu(t)}else o=!1;if(Wo(t,i),t.stateNode===null)gu(e,t),N0(t,n,r),Hh(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=vn(c):(c=Ut(n)?Gi:Pt.current,c=Yo(t,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&qg(t,s,r,c),Wr=!1;var m=t.memoizedState;s.state=m,Ku(t,r,s,i),u=t.memoizedState,l!==r||m!==u||jt.current||Wr?(typeof d=="function"&&(zh(t,n,d,r),u=t.memoizedState),(l=Wr||Wg(t,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,d0(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Rn(t.type,l),s.props=c,p=t.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=vn(u):(u=Ut(n)?Gi:Pt.current,u=Yo(t,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&qg(t,s,r,u),Wr=!1,m=t.memoizedState,s.state=m,Ku(t,r,s,i);var C=t.memoizedState;l!==p||m!==C||jt.current||Wr?(typeof _=="function"&&(zh(t,n,_,r),C=t.memoizedState),(c=Wr||Wg(t,n,c,r,m,C,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),s.props=r,s.state=C,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Wh(e,t,n,r,o,i)}function Wh(e,t,n,r,i,o){j0(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&jg(t,n,!1),Rr(e,t,o);r=t.stateNode,wA.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,l,o)):xt(e,t,l,o),t.memoizedState=r.state,i&&jg(t,n,!0),t.child}function U0(e){var t=e.stateNode;t.pendingContext?Fg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fg(e,t.context,!1),fp(e,t.containerInfo)}function tv(e,t,n,r,i){return Jo(),op(i),t.flags|=256,xt(e,t,n,r),t.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Qh(e){return{baseLanes:e,cachePool:null,transitions:null}}function $0(e,t,n){var r=t.pendingProps,i=je.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),be(je,i&1),e===null)return $h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=jc(s,r,0,null),e=zi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qh(n),t.memoizedState=qh,e):_p(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return EA(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ai(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ai(l,o):(o=zi(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Qh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=qh,r}return o=e.child,e=o.sibling,r=ai(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _p(e,t){return t=jc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wl(e,t,n,r){return r!==null&&op(r),Zo(t,e.child,null,n),e=_p(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EA(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Uf(Error(z(422))),Wl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),o=zi(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Zo(t,e.child,null,s),t.child.memoizedState=Qh(s),t.memoizedState=qh,o);if(!(t.mode&1))return Wl(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(z(419)),r=Uf(o,r,void 0),Wl(e,t,s,r)}if(l=(s&e.childLanes)!==0,Ft||l){if(r=ot,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ir(e,i),Vn(r,e,i,-1))}return Ip(),r=Uf(Error(z(421))),Wl(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=NA.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yt=ri(i.nextSibling),Jt=t,Fe=!0,bn=null,e!==null&&(un[cn++]=vr,un[cn++]=yr,un[cn++]=Wi,vr=e.id,yr=e.overflow,Wi=t),t=_p(t,r.children),t.flags|=4096,t)}function nv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bh(e.return,t,n)}function $f(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function B0(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xt(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nv(e,n,t);else if(e.tag===19)nv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(be(je,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Gu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$f(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$f(t,!0,n,null,o);break;case"together":$f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SA(e,t,n){switch(t.tag){case 3:U0(t),Jo();break;case 5:p0(t);break;case 1:Ut(t.type)&&Uu(t);break;case 4:fp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;be(zu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(be(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?$0(e,t,n):(be(je,je.current&1),e=Rr(e,t,n),e!==null?e.sibling:null);be(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return B0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,F0(e,t,n)}return Rr(e,t,n)}var z0,Xh,H0,K0;z0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xh=function(){};H0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fi(Jn.current);var o=null;switch(n){case"input":i=yh(e,i),r=yh(e,r),o=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":i=Eh(e,i),r=Eh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fu)}Th(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(va.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(va.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&De("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};K0=function(e,t,n,r){n!==r&&(t.flags|=4)};function zs(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TA(e,t,n){var r=t.pendingProps;switch(ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Ut(t.type)&&ju(),St(t),null;case 3:return r=t.stateNode,es(),Ne(jt),Ne(Pt),dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(id(bn),bn=null))),Xh(e,t),St(t),null;case 5:hp(t);var i=Fi(ba.current);if(n=t.type,e!==null&&t.stateNode!=null)H0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return St(t),null}if(e=Fi(Jn.current),Kl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qn]=t,r[Pa]=o,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Js.length;i++)De(Js[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":fg(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":dg(r,o),De("invalid",r)}Th(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Hl(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Hl(r.textContent,l,e),i=["children",""+l]):va.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&De("scroll",r)}switch(n){case"input":Ll(r),hg(r,o,!0);break;case"textarea":Ll(r),pg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=__(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Qn]=t,e[Pa]=r,z0(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ah(n,r),n){case"dialog":De("cancel",e),De("close",e),i=r;break;case"iframe":case"object":case"embed":De("load",e),i=r;break;case"video":case"audio":for(i=0;i<Js.length;i++)De(Js[i],e);i=r;break;case"source":De("error",e),i=r;break;case"img":case"image":case"link":De("error",e),De("load",e),i=r;break;case"details":De("toggle",e),i=r;break;case"input":fg(e,r),i=yh(e,r),De("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),De("invalid",e);break;case"textarea":dg(e,r),i=Eh(e,r),De("invalid",e);break;default:i=r}Th(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?S_(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&w_(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ya(e,u):typeof u=="number"&&ya(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(va.hasOwnProperty(o)?u!=null&&o==="onScroll"&&De("scroll",e):u!=null&&zd(e,o,u,s))}switch(n){case"input":Ll(e),hg(e,r,!1);break;case"textarea":Ll(e),pg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?zo(e,!!r.multiple,o,!1):r.defaultValue!=null&&zo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)K0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Fi(ba.current),Fi(Jn.current),Kl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qn]=t,(o=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:Hl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=t,t.stateNode=r}return St(t),null;case 13:if(Ne(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Yt!==null&&t.mode&1&&!(t.flags&128))u0(),Jo(),t.flags|=98560,o=!1;else if(o=Kl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Qn]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),o=!1}else bn!==null&&(id(bn),bn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?et===0&&(et=3):Ip())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return es(),Xh(e,t),e===null&&Ia(t.stateNode.containerInfo),St(t),null;case 10:return lp(t.type._context),St(t),null;case 17:return Ut(t.type)&&ju(),St(t),null;case 19:if(Ne(je),o=t.memoizedState,o===null)return St(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)zs(o,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Gu(e),s!==null){for(t.flags|=128,zs(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return be(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&We()>ns&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Gu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Fe)return St(t),null}else 2*We()-o.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=We(),t.sibling=null,n=je.current,be(je,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return Ap(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function AA(e,t){switch(ip(t),t.tag){case 1:return Ut(t.type)&&ju(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),Ne(jt),Ne(Pt),dp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hp(t),null;case 13:if(Ne(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(je),null;case 4:return es(),null;case 10:return lp(t.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var ql=!1,It=!1,IA=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Fo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function Yh(e,t,n){try{n()}catch(r){He(e,t,r)}}var rv=!1;function RA(e,t){if(Nh=Vu,e=X_(),np(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,m=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===e)break t;if(m===n&&++c===i&&(l=s),m===o&&++d===r&&(u=s),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vh={focusedElem:e,selectionRange:n},Vu=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var x=C.memoizedProps,N=C.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:Rn(t.type,x),N);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(V){He(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return C=rv,rv=!1,C}function aa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Yh(t,n,o)}i=i.next}while(i!==r)}}function Mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function G0(e){var t=e.alternate;t!==null&&(e.alternate=null,G0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Pa],delete t[Fh],delete t[lA],delete t[uA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W0(e){return e.tag===5||e.tag===3||e.tag===4}function iv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fu));else if(r!==4&&(e=e.child,e!==null))for(Zh(e,t,n),e=e.sibling;e!==null;)Zh(e,t,n),e=e.sibling}function ed(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ed(e,t,n),e=e.sibling;e!==null;)ed(e,t,n),e=e.sibling}var ht=null,Pn=!1;function Hr(e,t,n){for(n=n.child;n!==null;)q0(e,t,n),n=n.sibling}function q0(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:It||Fo(n,t);case 6:var r=ht,i=Pn;ht=null,Hr(e,t,n),ht=r,Pn=i,ht!==null&&(Pn?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Pn?(e=ht,n=n.stateNode,e.nodeType===8?Nf(e.parentNode,n):e.nodeType===1&&Nf(e,n),Sa(e)):Nf(ht,n.stateNode));break;case 4:r=ht,i=Pn,ht=n.stateNode.containerInfo,Pn=!0,Hr(e,t,n),ht=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Yh(n,t,s),i=i.next}while(i!==r)}Hr(e,t,n);break;case 1:if(!It&&(Fo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,t,l)}Hr(e,t,n);break;case 21:Hr(e,t,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Hr(e,t,n),It=r):Hr(e,t,n);break;default:Hr(e,t,n)}}function ov(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IA),t.forEach(function(r){var i=VA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Pn=!1;break e;case 3:ht=l.stateNode.containerInfo,Pn=!0;break e;case 4:ht=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(ht===null)throw Error(z(160));q0(o,s,i),ht=null,Pn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){He(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Q0(t,e),t=t.sibling}function Q0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),Gn(e),r&4){try{aa(3,e,e.return),Mc(3,e)}catch(x){He(e,e.return,x)}try{aa(5,e,e.return)}catch(x){He(e,e.return,x)}}break;case 1:In(t,e),Gn(e),r&512&&n!==null&&Fo(n,n.return);break;case 5:if(In(t,e),Gn(e),r&512&&n!==null&&Fo(n,n.return),e.flags&32){var i=e.stateNode;try{ya(i,"")}catch(x){He(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&v_(i,o),Ah(l,s);var c=Ah(l,o);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];d==="style"?S_(i,p):d==="dangerouslySetInnerHTML"?w_(i,p):d==="children"?ya(i,p):zd(i,d,p,c)}switch(l){case"input":_h(i,o);break;case"textarea":y_(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?zo(i,!!o.multiple,_,!1):m!==!!o.multiple&&(o.defaultValue!=null?zo(i,!!o.multiple,o.defaultValue,!0):zo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Pa]=o}catch(x){He(e,e.return,x)}}break;case 6:if(In(t,e),Gn(e),r&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){He(e,e.return,x)}}break;case 3:if(In(t,e),Gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(t.containerInfo)}catch(x){He(e,e.return,x)}break;case 4:In(t,e),Gn(e);break;case 13:In(t,e),Gn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sp=We())),r&4&&ov(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(It=(c=It)||d,In(t,e),It=c):In(t,e),Gn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(p=Y=d;Y!==null;){switch(m=Y,_=m.child,m.tag){case 0:case 11:case 14:case 15:aa(4,m,m.return);break;case 1:Fo(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(x){He(r,n,x)}}break;case 5:Fo(m,m.return);break;case 22:if(m.memoizedState!==null){av(p);continue}}_!==null?(_.return=m,Y=_):av(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=E_("display",s))}catch(x){He(e,e.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){He(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:In(t,e),Gn(e),r&4&&ov(e);break;case 21:break;default:In(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(W0(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ya(i,""),r.flags&=-33);var o=iv(e);ed(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=iv(e);Zh(e,l,s);break;default:throw Error(z(161))}}catch(u){He(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PA(e,t,n){Y=e,X0(e)}function X0(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ql;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||It;l=ql;var c=It;if(ql=s,(It=u)&&!c)for(Y=i;Y!==null;)s=Y,u=s.child,s.tag===22&&s.memoizedState!==null?lv(i):u!==null?(u.return=s,Y=u):lv(i);for(;o!==null;)Y=o,X0(o),o=o.sibling;Y=i,ql=l,It=c}sv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):sv(e)}}function sv(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:It||Mc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Rn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hg(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hg(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Sa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}It||t.flags&512&&Jh(t)}catch(m){He(t,t.return,m)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function av(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function lv(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mc(4,t)}catch(u){He(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){He(t,i,u)}}var o=t.return;try{Jh(t)}catch(u){He(t,o,u)}break;case 5:var s=t.return;try{Jh(t)}catch(u){He(t,s,u)}}}catch(u){He(t,t.return,u)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var CA=Math.ceil,Qu=kr.ReactCurrentDispatcher,wp=kr.ReactCurrentOwner,gn=kr.ReactCurrentBatchConfig,ge=0,ot=null,Xe=null,gt=0,Wt=0,jo=wi(0),et=0,Da=null,Qi=0,Fc=0,Ep=0,la=null,Mt=null,Sp=0,ns=1/0,dr=null,Xu=!1,td=null,oi=null,Ql=!1,Jr=null,Yu=0,ua=0,nd=null,vu=-1,yu=0;function kt(){return ge&6?We():vu!==-1?vu:vu=We()}function si(e){return e.mode&1?ge&2&&gt!==0?gt&-gt:fA.transition!==null?(yu===0&&(yu=N_()),yu):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:$_(e.type)),e):1}function Vn(e,t,n,r){if(50<ua)throw ua=0,nd=null,Error(z(185));Ha(e,n,r),(!(ge&2)||e!==ot)&&(e===ot&&(!(ge&2)&&(Fc|=n),et===4&&Qr(e,gt)),$t(e,r),n===1&&ge===0&&!(t.mode&1)&&(ns=We()+500,Nc&&Ei()))}function $t(e,t){var n=e.callbackNode;fT(e,t);var r=Nu(e,e===ot?gt:0);if(r===0)n!==null&&vg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vg(n),t===1)e.tag===0?cA(uv.bind(null,e)):s0(uv.bind(null,e)),sA(function(){!(ge&6)&&Ei()}),n=null;else{switch(V_(r)){case 1:n=qd;break;case 4:n=O_;break;case 16:n=Du;break;case 536870912:n=D_;break;default:n=Du}n=iw(n,Y0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Y0(e,t){if(vu=-1,yu=0,ge&6)throw Error(z(327));var n=e.callbackNode;if(qo()&&e.callbackNode!==n)return null;var r=Nu(e,e===ot?gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ju(e,r);else{t=r;var i=ge;ge|=2;var o=Z0();(ot!==e||gt!==t)&&(dr=null,ns=We()+500,Bi(e,t));do try{kA();break}catch(l){J0(e,l)}while(1);ap(),Qu.current=o,ge=i,Xe!==null?t=0:(ot=null,gt=0,t=et)}if(t!==0){if(t===2&&(i=bh(e),i!==0&&(r=i,t=rd(e,i))),t===1)throw n=Da,Bi(e,0),Qr(e,r),$t(e,We()),n;if(t===6)Qr(e,r);else{if(i=e.current.alternate,!(r&30)&&!bA(i)&&(t=Ju(e,r),t===2&&(o=bh(e),o!==0&&(r=o,t=rd(e,o))),t===1))throw n=Da,Bi(e,0),Qr(e,r),$t(e,We()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Di(e,Mt,dr);break;case 3:if(Qr(e,r),(r&130023424)===r&&(t=Sp+500-We(),10<t)){if(Nu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Mh(Di.bind(null,e,Mt,dr),t);break}Di(e,Mt,dr);break;case 4:if(Qr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Nn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CA(r/1960))-r,10<r){e.timeoutHandle=Mh(Di.bind(null,e,Mt,dr),r);break}Di(e,Mt,dr);break;case 5:Di(e,Mt,dr);break;default:throw Error(z(329))}}}return $t(e,We()),e.callbackNode===n?Y0.bind(null,e):null}function rd(e,t){var n=la;return e.current.memoizedState.isDehydrated&&(Bi(e,t).flags|=256),e=Ju(e,t),e!==2&&(t=Mt,Mt=n,t!==null&&id(t)),e}function id(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function bA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qr(e,t){for(t&=~Ep,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nn(t),r=1<<n;e[n]=-1,t&=~r}}function uv(e){if(ge&6)throw Error(z(327));qo();var t=Nu(e,0);if(!(t&1))return $t(e,We()),null;var n=Ju(e,t);if(e.tag!==0&&n===2){var r=bh(e);r!==0&&(t=r,n=rd(e,r))}if(n===1)throw n=Da,Bi(e,0),Qr(e,t),$t(e,We()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,Mt,dr),$t(e,We()),null}function Tp(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(ns=We()+500,Nc&&Ei())}}function Xi(e){Jr!==null&&Jr.tag===0&&!(ge&6)&&qo();var t=ge;ge|=1;var n=gn.transition,r=Ae;try{if(gn.transition=null,Ae=1,e)return e()}finally{Ae=r,gn.transition=n,ge=t,!(ge&6)&&Ei()}}function Ap(){Wt=jo.current,Ne(jo)}function Bi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oA(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ju();break;case 3:es(),Ne(jt),Ne(Pt),dp();break;case 5:hp(r);break;case 4:es();break;case 13:Ne(je);break;case 19:Ne(je);break;case 10:lp(r.type._context);break;case 22:case 23:Ap()}n=n.return}if(ot=e,Xe=e=ai(e.current,null),gt=Wt=t,et=0,Da=null,Ep=Fc=Qi=0,Mt=la=null,Mi!==null){for(t=0;t<Mi.length;t++)if(n=Mi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Mi=null}return e}function J0(e,t){do{var n=Xe;try{if(ap(),pu.current=qu,Wu){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wu=!1}if(qi=0,nt=Ze=Ue=null,sa=!1,xa=0,wp.current=null,n===null||n.return===null){et=1,Da=t,Xe=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=gt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Xg(s);if(_!==null){_.flags&=-257,Yg(_,s,l,o,t),_.mode&1&&Qg(o,c,t),t=_,u=c;var C=t.updateQueue;if(C===null){var x=new Set;x.add(u),t.updateQueue=x}else C.add(u);break e}else{if(!(t&1)){Qg(o,c,t),Ip();break e}u=Error(z(426))}}else if(Fe&&l.mode&1){var N=Xg(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Yg(N,s,l,o,t),op(ts(u,l));break e}}o=u=ts(u,l),et!==4&&(et=2),la===null?la=[o]:la.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=V0(o,u,t);zg(o,w);break e;case 1:l=u;var y=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(oi===null||!oi.has(T)))){o.flags|=65536,t&=-t,o.lanes|=t;var V=L0(o,l,t);zg(o,V);break e}}o=o.return}while(o!==null)}tw(n)}catch(R){t=R,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(1)}function Z0(){var e=Qu.current;return Qu.current=qu,e===null?qu:e}function Ip(){(et===0||et===3||et===2)&&(et=4),ot===null||!(Qi&268435455)&&!(Fc&268435455)||Qr(ot,gt)}function Ju(e,t){var n=ge;ge|=2;var r=Z0();(ot!==e||gt!==t)&&(dr=null,Bi(e,t));do try{xA();break}catch(i){J0(e,i)}while(1);if(ap(),ge=n,Qu.current=r,Xe!==null)throw Error(z(261));return ot=null,gt=0,et}function xA(){for(;Xe!==null;)ew(Xe)}function kA(){for(;Xe!==null&&!nT();)ew(Xe)}function ew(e){var t=rw(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?tw(e):Xe=t,wp.current=null}function tw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AA(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Xe=null;return}}else if(n=TA(n,t,Wt),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);et===0&&(et=5)}function Di(e,t,n){var r=Ae,i=gn.transition;try{gn.transition=null,Ae=1,OA(e,t,n,r)}finally{gn.transition=i,Ae=r}return null}function OA(e,t,n,r){do qo();while(Jr!==null);if(ge&6)throw Error(z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(hT(e,o),e===ot&&(Xe=ot=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ql||(Ql=!0,iw(Du,function(){return qo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=gn.transition,gn.transition=null;var s=Ae;Ae=1;var l=ge;ge|=4,wp.current=null,RA(e,n),Q0(n,e),JT(Vh),Vu=!!Nh,Vh=Nh=null,e.current=n,PA(n),rT(),ge=l,Ae=s,gn.transition=o}else e.current=n;if(Ql&&(Ql=!1,Jr=e,Yu=i),o=e.pendingLanes,o===0&&(oi=null),sT(n.stateNode),$t(e,We()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xu)throw Xu=!1,e=td,td=null,e;return Yu&1&&e.tag!==0&&qo(),o=e.pendingLanes,o&1?e===nd?ua++:(ua=0,nd=e):ua=0,Ei(),null}function qo(){if(Jr!==null){var e=V_(Yu),t=gn.transition,n=Ae;try{if(gn.transition=null,Ae=16>e?16:e,Jr===null)var r=!1;else{if(e=Jr,Jr=null,Yu=0,ge&6)throw Error(z(331));var i=ge;for(ge|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:aa(8,d,o)}var p=d.child;if(p!==null)p.return=d,Y=p;else for(;Y!==null;){d=Y;var m=d.sibling,_=d.return;if(G0(d),d===c){Y=null;break}if(m!==null){m.return=_,Y=m;break}Y=_}}}var C=o.alternate;if(C!==null){var x=C.child;if(x!==null){C.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:aa(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Y=w;break e}Y=o.return}}var y=e.current;for(Y=y;Y!==null;){s=Y;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,Y=T;else e:for(s=y;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mc(9,l)}}catch(R){He(l,l.return,R)}if(l===s){Y=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,Y=V;break e}Y=l.return}}if(ge=i,Ei(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(bc,e)}catch{}r=!0}return r}finally{Ae=n,gn.transition=t}}return!1}function cv(e,t,n){t=ts(n,t),t=V0(e,t,1),e=ii(e,t,1),t=kt(),e!==null&&(Ha(e,1,t),$t(e,t))}function He(e,t,n){if(e.tag===3)cv(e,e,n);else for(;t!==null;){if(t.tag===3){cv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){e=ts(n,e),e=L0(t,e,1),t=ii(t,e,1),e=kt(),t!==null&&(Ha(t,1,e),$t(t,e));break}}t=t.return}}function DA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,ot===e&&(gt&n)===n&&(et===4||et===3&&(gt&130023424)===gt&&500>We()-Sp?Bi(e,0):Ep|=n),$t(e,t)}function nw(e,t){t===0&&(e.mode&1?(t=jl,jl<<=1,!(jl&130023424)&&(jl=4194304)):t=1);var n=kt();e=Ir(e,t),e!==null&&(Ha(e,t,n),$t(e,n))}function NA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nw(e,n)}function VA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),nw(e,n)}var rw;rw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ft=!1,SA(e,t,n);Ft=!!(e.flags&131072)}else Ft=!1,Fe&&t.flags&1048576&&a0(t,Bu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gu(e,t),e=t.pendingProps;var i=Yo(t,Pt.current);Wo(t,n),i=mp(null,t,r,e,i,n);var o=gp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,Uu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cp(t),i.updater=Lc,t.stateNode=i,i._reactInternals=t,Hh(t,r,e,n),t=Wh(null,t,r,!0,o,n)):(t.tag=0,Fe&&o&&rp(t),xt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=MA(r),e=Rn(r,e),i){case 0:t=Gh(null,t,r,e,n);break e;case 1:t=ev(null,t,r,e,n);break e;case 11:t=Jg(null,t,r,e,n);break e;case 14:t=Zg(null,t,r,Rn(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),Gh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),ev(e,t,r,i,n);case 3:e:{if(U0(t),e===null)throw Error(z(387));r=t.pendingProps,o=t.memoizedState,i=o.element,d0(e,t),Ku(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ts(Error(z(423)),t),t=tv(e,t,r,n,i);break e}else if(r!==i){i=ts(Error(z(424)),t),t=tv(e,t,r,n,i);break e}else for(Yt=ri(t.stateNode.containerInfo.firstChild),Jt=t,Fe=!0,bn=null,n=f0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jo(),r===i){t=Rr(e,t,n);break e}xt(e,t,r,n)}t=t.child}return t;case 5:return p0(t),e===null&&$h(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Lh(r,i)?s=null:o!==null&&Lh(r,o)&&(t.flags|=32),j0(e,t),xt(e,t,s,n),t.child;case 6:return e===null&&$h(t),null;case 13:return $0(e,t,n);case 4:return fp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zo(t,null,r,n):xt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),Jg(e,t,r,i,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,be(zu,r._currentValue),r._currentValue=s,o!==null)if(Fn(o.value,s)){if(o.children===i.children&&!jt.current){t=Rr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=_r(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Bh(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(z(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bh(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Wo(t,n),i=vn(i),r=r(i),t.flags|=1,xt(e,t,r,n),t.child;case 14:return r=t.type,i=Rn(r,t.pendingProps),i=Rn(r.type,i),Zg(e,t,r,i,n);case 15:return M0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rn(r,i),gu(e,t),t.tag=1,Ut(r)?(e=!0,Uu(t)):e=!1,Wo(t,n),N0(t,r,i),Hh(t,r,i,n),Wh(null,t,r,!0,e,n);case 19:return B0(e,t,n);case 22:return F0(e,t,n)}throw Error(z(156,t.tag))};function iw(e,t){return k_(e,t)}function LA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,r){return new LA(e,t,n,r)}function Rp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MA(e){if(typeof e=="function")return Rp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kd)return 11;if(e===Gd)return 14}return 2}function ai(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _u(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Rp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case bo:return zi(n.children,i,o,t);case Hd:s=8,i|=8;break;case ph:return e=dn(12,n,t,i|2),e.elementType=ph,e.lanes=o,e;case mh:return e=dn(13,n,t,i),e.elementType=mh,e.lanes=o,e;case gh:return e=dn(19,n,t,i),e.elementType=gh,e.lanes=o,e;case p_:return jc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h_:s=10;break e;case d_:s=9;break e;case Kd:s=11;break e;case Gd:s=14;break e;case Gr:s=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=dn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function zi(e,t,n,r){return e=dn(7,e,r,t),e.lanes=n,e}function jc(e,t,n,r){return e=dn(22,e,r,t),e.elementType=p_,e.lanes=n,e.stateNode={isHidden:!1},e}function Bf(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function zf(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tf(0),this.expirationTimes=Tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pp(e,t,n,r,i,o,s,l,u){return e=new FA(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=dn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(o),e}function jA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ow(e){if(!e)return di;e=e._reactInternals;e:{if(uo(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(Ut(n))return o0(e,n,t)}return t}function sw(e,t,n,r,i,o,s,l,u){return e=Pp(n,r,!0,e,i,o,s,l,u),e.context=ow(null),n=e.current,r=kt(),i=si(n),o=_r(r,i),o.callback=t??null,ii(n,o,i),e.current.lanes=i,Ha(e,i,r),$t(e,r),e}function Uc(e,t,n,r){var i=t.current,o=kt(),s=si(i);return n=ow(n),t.context===null?t.context=n:t.pendingContext=n,t=_r(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ii(i,t,s),e!==null&&(Vn(e,i,s,o),du(e,i,s)),s}function Zu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cp(e,t){fv(e,t),(e=e.alternate)&&fv(e,t)}function UA(){return null}var aw=typeof reportError=="function"?reportError:function(e){console.error(e)};function bp(e){this._internalRoot=e}$c.prototype.render=bp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Uc(e,t,null,null)};$c.prototype.unmount=bp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xi(function(){Uc(null,e,null,null)}),t[Ar]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=F_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qr.length&&t!==0&&t<qr[n].priority;n++);qr.splice(n,0,e),n===0&&U_(e)}};function xp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hv(){}function $A(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Zu(s);o.call(c)}}var s=sw(t,r,e,0,null,!1,!1,"",hv);return e._reactRootContainer=s,e[Ar]=s.current,Ia(e.nodeType===8?e.parentNode:e),Xi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Zu(u);l.call(c)}}var u=Pp(e,0,!1,null,null,!1,!1,"",hv);return e._reactRootContainer=u,e[Ar]=u.current,Ia(e.nodeType===8?e.parentNode:e),Xi(function(){Uc(t,u,n,r)}),u}function zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Zu(s);l.call(u)}}Uc(t,s,e,i)}else s=$A(n,t,e,i,r);return Zu(s)}L_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ys(t.pendingLanes);n!==0&&(Qd(t,n|1),$t(t,We()),!(ge&6)&&(ns=We()+500,Ei()))}break;case 13:Xi(function(){var r=Ir(e,1);if(r!==null){var i=kt();Vn(r,e,1,i)}}),Cp(e,1)}};Xd=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var n=kt();Vn(t,e,134217728,n)}Cp(e,134217728)}};M_=function(e){if(e.tag===13){var t=si(e),n=Ir(e,t);if(n!==null){var r=kt();Vn(n,e,t,r)}Cp(e,t)}};F_=function(){return Ae};j_=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};Rh=function(e,t,n){switch(t){case"input":if(_h(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Dc(r);if(!i)throw Error(z(90));g_(r),_h(r,i)}}}break;case"textarea":y_(e,n);break;case"select":t=n.value,t!=null&&zo(e,!!n.multiple,t,!1)}};I_=Tp;R_=Xi;var BA={usingClientEntryPoint:!1,Events:[Ga,Do,Dc,T_,A_,Tp]},Hs={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zA={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b_(e),e===null?null:e.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||UA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{bc=Xl.inject(zA),Yn=Xl}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BA;tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(t))throw Error(z(200));return jA(e,t,null,n)};tn.createRoot=function(e,t){if(!xp(e))throw Error(z(299));var n=!1,r="",i=aw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pp(e,1,!1,null,null,n,!1,r,i),e[Ar]=t.current,Ia(e.nodeType===8?e.parentNode:e),new bp(t)};tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=b_(t),e=e===null?null:e.stateNode,e};tn.flushSync=function(e){return Xi(e)};tn.hydrate=function(e,t,n){if(!Bc(t))throw Error(z(200));return zc(null,e,t,!0,n)};tn.hydrateRoot=function(e,t,n){if(!xp(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=aw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=sw(t,null,e,1,n??null,i,!1,o,s),e[Ar]=t.current,Ia(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)};tn.render=function(e,t,n){if(!Bc(t))throw Error(z(200));return zc(null,e,t,!1,n)};tn.unmountComponentAtNode=function(e){if(!Bc(e))throw Error(z(40));return e._reactRootContainer?(Xi(function(){zc(null,null,e,!1,function(){e._reactRootContainer=null,e[Ar]=null})}),!0):!1};tn.unstable_batchedUpdates=Tp;tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bc(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return zc(e,t,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lw)}catch(e){console.error(e)}}lw(),l_.exports=tn;var kp=l_.exports,uw,dv=kp;uw=dv.createRoot,dv.hydrateRoot;const HA="modulepreload",KA=function(e,t){return new URL(e,t).href},pv={},GA=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=KA(o,r),o in pv)return;pv[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===o&&(!s||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":HA,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.parse=ZA;Op.serialize=eI;const WA=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,qA=/^[\u0021-\u003A\u003C-\u007E]*$/,QA=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,XA=/^[\u0020-\u003A\u003D-\u007E]*$/,YA=Object.prototype.toString,JA=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function ZA(e,t){const n=new JA,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||tI;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const l=e.indexOf(";",o),u=l===-1?r:l;if(s>u){o=e.lastIndexOf(";",s-1)+1;continue}const c=mv(e,o,s),d=gv(e,s,c),p=e.slice(c,d);if(n[p]===void 0){let m=mv(e,s+1,u),_=gv(e,u,m);const C=i(e.slice(m,_));n[p]=C}o=u+1}while(o<r);return n}function mv(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function gv(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function eI(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!WA.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!qA.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!QA.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!XA.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!nI(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function tI(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function nI(e){return YA.call(e)==="[object Date]"}var vv="popstate";function rI(e={}){function t(i,o){let{pathname:s="/",search:l="",hash:u=""}=ar(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Na("",{pathname:s,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");l=c===-1?u:u.slice(0,c)}return l+"#"+(typeof o=="string"?o:pi(o))}function r(i,o){st(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return oI(t,n,r,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function st(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iI(){return Math.random().toString(36).substring(2,10)}function yv(e,t){return{usr:e.state,key:e.key,idx:t}}function Na(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ar(t):t,state:n,key:t&&t.key||r||iI()}}function pi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ar(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function oI(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l="POP",u=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function p(){l="POP";let N=d(),w=N==null?null:N-c;c=N,u&&u({action:l,location:x.location,delta:w})}function m(N,w){l="PUSH";let y=Na(x.location,N,w);n&&n(y,N),c=d()+1;let T=yv(y,c),V=x.createHref(y);try{s.pushState(T,"",V)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(V)}o&&u&&u({action:l,location:x.location,delta:1})}function _(N,w){l="REPLACE";let y=Na(x.location,N,w);n&&n(y,N),c=d();let T=yv(y,c),V=x.createHref(y);s.replaceState(T,"",V),o&&u&&u({action:l,location:x.location,delta:0})}function C(N){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof N=="string"?N:pi(N);return y=y.replace(/ $/,"%20"),fe(w,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,w)}let x={get action(){return l},get location(){return e(i,s)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(vv,p),u=N,()=>{i.removeEventListener(vv,p),u=null}},createHref(N){return t(i,N)},createURL:C,encodeLocation(N){let w=C(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:_,go(N){return s.go(N)}};return x}var sI=new Set(["lazy","caseSensitive","path","id","index","children"]);function aI(e){return e.index===!0}function ec(e,t,n=[],r={}){return e.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(fe(i.index!==!0||!i.children,"Cannot specify children on an index route"),fe(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),aI(i)){let u={...i,...t(i),id:l};return r[l]=u,u}else{let u={...i,...t(i),id:l,children:void 0};return r[l]=u,i.children&&(u.children=ec(i.children,t,s,r)),u}})}function Xr(e,t,n="/"){return wu(e,t,n,!1)}function wu(e,t,n,r){let i=typeof t=="string"?ar(t):t,o=jn(i.pathname||"/",n);if(o==null)return null;let s=cw(e);uI(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=wI(o);l=yI(s[u],c,r)}return l}function lI(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function cw(e,t=[],n=[],r=""){let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(fe(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Zn([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),cw(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:gI(c,o.index),routesMeta:d})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of fw(o.path))i(o,s,u)}),t}function fw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=fw(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function uI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cI=/^:[\w-]+$/,fI=3,hI=2,dI=1,pI=10,mI=-2,_v=e=>e==="*";function gI(e,t){let n=e.split("/"),r=n.length;return n.some(_v)&&(r+=mI),t&&(r+=hI),n.filter(i=>!_v(i)).reduce((i,o)=>i+(cI.test(o)?fI:o===""?dI:pI),r)}function vI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function yI(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",p=tc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=tc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Zn([o,p.pathname]),pathnameBase:TI(Zn([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=Zn([o,p.pathnameBase]))}return s}function tc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_I(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},m)=>{if(d==="*"){let C=l[m]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const _=l[m];return p&&!_?c[d]=void 0:c[d]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function _I(e,t=!1,n=!0){st(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return st(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function EI(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ar(e):e;return{pathname:n?n.startsWith("/")?n:SI(n,t):t,search:AI(r),hash:II(i)}}function SI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dp(e){let t=hw(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Np(e,t,n,r=!1){let i;typeof e=="string"?i=ar(e):(i={...e},fe(!i.pathname||!i.pathname.includes("?"),Hf("?","pathname","search",i)),fe(!i.pathname||!i.pathname.includes("#"),Hf("#","pathname","hash",i)),fe(!i.search||!i.search.includes("#"),Hf("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?t[p]:"/"}let u=EI(i,l),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Zn=e=>e.join("/").replace(/\/\/+/g,"/"),TI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,II=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,nc=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Hc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var dw=["POST","PUT","PATCH","DELETE"],RI=new Set(dw),PI=["GET",...dw],CI=new Set(PI),bI=new Set([301,302,303,307,308]),xI=new Set([307,308]),Kf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ks={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OI=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),pw="remix-router-transitions",mw=Symbol("ResetLoaderData");function DI(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";fe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.mapRouteProperties||OI,i={},o=ec(e.routes,r,void 0,i),s,l=e.basename||"/",u=e.dataStrategy||FI,c=e.patchRoutesOnNavigation,d={...e.future},p=null,m=new Set,_=null,C=null,x=null,N=e.hydrationData!=null,w=Xr(o,e.history.location,l),y=null;if(w==null&&!c){let P=ln(404,{pathname:e.history.location.pathname}),{matches:D,route:M}=xv(o);w=D,y={[M.id]:P}}w&&!e.hydrationData&&Mr(w,o,e.history.location.pathname).active&&(w=null);let T;if(w)if(w.some(P=>P.route.lazy))T=!1;else if(!w.some(P=>P.route.loader))T=!0;else{let P=e.hydrationData?e.hydrationData.loaderData:null,D=e.hydrationData?e.hydrationData.errors:null;if(D){let M=w.findIndex(B=>D[B.route.id]!==void 0);T=w.slice(0,M+1).every(B=>!sd(B.route,P,D))}else T=w.every(M=>!sd(M.route,P,D))}else{T=!1,w=[];let P=Mr(null,o,e.history.location.pathname);P.active&&P.matches&&(w=P.matches)}let V,R={historyAction:e.history.action,location:e.history.location,matches:w,initialized:T,navigation:Kf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},U="POP",S=!1,v,E=!1,A=new Map,b=null,k=!1,I=!1,lt=new Set,Re=new Map,zn=0,Ct=-1,q=new Map,te=new Set,oe=new Map,_e=new Map,ue=new Set,we=new Map,Nt,ut=null;function _n(){if(p=e.history.listen(({action:P,location:D,delta:M})=>{if(Nt){Nt(),Nt=void 0;return}st(we.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=_l({currentLocation:R.location,nextLocation:D,historyAction:P});if(B&&M!=null){let K=new Promise(ee=>{Nt=ee});e.history.go(M*-1),Vr(B,{state:"blocked",location:D,proceed(){Vr(B,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),K.then(()=>e.history.go(M))},reset(){let ee=new Map(R.blockers);ee.set(B,Ks),ct({blockers:ee})}});return}return En(P,D)}),n){QI(t,A);let P=()=>XI(t,A);t.addEventListener("pagehide",P),b=()=>t.removeEventListener("pagehide",P)}return R.initialized||En("POP",R.location,{initialHydration:!0}),V}function on(){p&&p(),b&&b(),m.clear(),v&&v.abort(),R.fetchers.forEach((P,D)=>Je(D)),R.blockers.forEach((P,D)=>Is(D))}function uf(P){return m.add(P),()=>m.delete(P)}function ct(P,D={}){R={...R,...P};let M=[],B=[];R.fetchers.forEach((K,ee)=>{K.state==="idle"&&(ue.has(ee)?M.push(ee):B.push(ee))}),ue.forEach(K=>{!R.fetchers.has(K)&&!Re.has(K)&&M.push(K)}),[...m].forEach(K=>K(R,{deletedFetchers:M,viewTransitionOpts:D.viewTransitionOpts,flushSync:D.flushSync===!0})),M.forEach(K=>Je(K)),B.forEach(K=>R.fetchers.delete(K))}function wn(P,D,{flushSync:M}={}){var Q,re;let B=R.actionData!=null&&R.navigation.formMethod!=null&&Cn(R.navigation.formMethod)&&R.navigation.state==="loading"&&((Q=P.state)==null?void 0:Q._isRedirect)!==!0,K;D.actionData?Object.keys(D.actionData).length>0?K=D.actionData:K=null:B?K=R.actionData:K=null;let ee=D.loaderData?Cv(R.loaderData,D.loaderData,D.matches||[],D.errors):R.loaderData,ne=R.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((ae,Pe)=>ne.set(Pe,Ks)));let X=S===!0||R.navigation.formMethod!=null&&Cn(R.navigation.formMethod)&&((re=P.state)==null?void 0:re._isRedirect)!==!0;s&&(o=s,s=void 0),k||U==="POP"||(U==="PUSH"?e.history.push(P,P.state):U==="REPLACE"&&e.history.replace(P,P.state));let Z;if(U==="POP"){let ae=A.get(R.location.pathname);ae&&ae.has(P.pathname)?Z={currentLocation:R.location,nextLocation:P}:A.has(P.pathname)&&(Z={currentLocation:P,nextLocation:R.location})}else if(E){let ae=A.get(R.location.pathname);ae?ae.add(P.pathname):(ae=new Set([P.pathname]),A.set(R.location.pathname,ae)),Z={currentLocation:R.location,nextLocation:P}}ct({...D,actionData:K,loaderData:ee,historyAction:U,location:P,initialized:!0,navigation:Kf,revalidation:"idle",restoreScrollPosition:Lr(P,D.matches||R.matches),preventScrollReset:X,blockers:ne},{viewTransitionOpts:Z,flushSync:M===!0}),U="POP",S=!1,E=!1,k=!1,I=!1,ut==null||ut.resolve(),ut=null}async function Pi(P,D){if(typeof P=="number"){e.history.go(P);return}let M=od(R.location,R.matches,l,P,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:B,submission:K,error:ee}=wv(!1,M,D),ne=R.location,X=Na(R.location,B,D&&D.state);X={...X,...e.history.encodeLocation(X)};let Z=D&&D.replace!=null?D.replace:void 0,Q="PUSH";Z===!0?Q="REPLACE":Z===!1||K!=null&&Cn(K.formMethod)&&K.formAction===R.location.pathname+R.location.search&&(Q="REPLACE");let re=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,ae=(D&&D.flushSync)===!0,Pe=_l({currentLocation:ne,nextLocation:X,historyAction:Q});if(Pe){Vr(Pe,{state:"blocked",location:X,proceed(){Vr(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),Pi(P,D)},reset(){let Be=new Map(R.blockers);Be.set(Pe,Ks),ct({blockers:Be})}});return}await En(Q,X,{submission:K,pendingError:ee,preventScrollReset:re,replace:D&&D.replace,enableViewTransition:D&&D.viewTransition,flushSync:ae})}function ws(){ut||(ut=YI()),Ci(),ct({revalidation:"loading"});let P=ut.promise;return R.navigation.state==="submitting"?P:R.navigation.state==="idle"?(En(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),P):(En(U||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:E===!0}),P)}async function En(P,D,M){v&&v.abort(),v=null,U=P,k=(M&&M.startUninterruptedRevalidation)===!0,wl(R.location,R.matches),S=(M&&M.preventScrollReset)===!0,E=(M&&M.enableViewTransition)===!0;let B=s||o,K=M&&M.overrideNavigation,ee=Xr(B,D,l),ne=(M&&M.flushSync)===!0,X=Mr(ee,B,D.pathname);if(X.active&&X.matches&&(ee=X.matches),!ee){let{error:Ce,notFoundMatches:Ee,route:Ve}=Rs(D.pathname);wn(D,{matches:Ee,loaderData:{},errors:{[Ve.id]:Ce}},{flushSync:ne});return}if(R.initialized&&!I&&HI(R.location,D)&&!(M&&M.submission&&Cn(M.submission.formMethod))){wn(D,{matches:ee},{flushSync:ne});return}v=new AbortController;let Z=To(e.history,D,v.signal,M&&M.submission),Q;if(M&&M.pendingError)Q=[Vi(ee).route.id,{type:"error",error:M.pendingError}];else if(M&&M.submission&&Cn(M.submission.formMethod)){let Ce=await Es(Z,D,M.submission,ee,X.active,{replace:M.replace,flushSync:ne});if(Ce.shortCircuited)return;if(Ce.pendingActionResult){let[Ee,Ve]=Ce.pendingActionResult;if(qt(Ve)&&Hc(Ve.error)&&Ve.error.status===404){v=null,wn(D,{matches:Ce.matches,loaderData:{},errors:{[Ee]:Ve.error}});return}}ee=Ce.matches||ee,Q=Ce.pendingActionResult,K=Gf(D,M.submission),ne=!1,X.active=!1,Z=To(e.history,Z.url,Z.signal)}let{shortCircuited:re,matches:ae,loaderData:Pe,errors:Be}=await Ss(Z,D,ee,X.active,K,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,ne,Q);re||(v=null,wn(D,{matches:ae||ee,...bv(Q),loaderData:Pe,errors:Be}))}async function Es(P,D,M,B,K,ee={}){Ci();let ne=WI(D,M);if(ct({navigation:ne},{flushSync:ee.flushSync===!0}),K){let Q=await Fr(B,D.pathname,P.signal);if(Q.type==="aborted")return{shortCircuited:!0};if(Q.type==="error"){let re=Vi(Q.partialMatches).route.id;return{matches:Q.partialMatches,pendingActionResult:[re,{type:"error",error:Q.error}]}}else if(Q.matches)B=Q.matches;else{let{notFoundMatches:re,error:ae,route:Pe}=Rs(D.pathname);return{matches:re,pendingActionResult:[Pe.id,{type:"error",error:ae}]}}}let X,Z=Zs(B,D);if(!Z.route.action&&!Z.route.lazy)X={type:"error",error:ln(405,{method:P.method,pathname:D.pathname,routeId:Z.route.id})};else if(X=(await Dr("action",R,P,[Z],B,null))[Z.route.id],P.signal.aborted)return{shortCircuited:!0};if(ji(X)){let Q;return ee&&ee.replace!=null?Q=ee.replace:Q=Iv(X.response.headers.get("Location"),new URL(P.url),l)===R.location.pathname+R.location.search,await Sn(P,X,!0,{submission:M,replace:Q}),{shortCircuited:!0}}if(qt(X)){let Q=Vi(B,Z.route.id);return(ee&&ee.replace)!==!0&&(U="PUSH"),{matches:B,pendingActionResult:[Q.route.id,X]}}return{matches:B,pendingActionResult:[Z.route.id,X]}}async function Ss(P,D,M,B,K,ee,ne,X,Z,Q,re){let ae=K||Gf(D,ee),Pe=ee||ne||Ov(ae),Be=!k&&!Z;if(B){if(Be){let qe=Ts(re);ct({navigation:ae,...qe!==void 0?{actionData:qe}:{}},{flushSync:Q})}let Se=await Fr(M,D.pathname,P.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let qe=Vi(Se.partialMatches).route.id;return{matches:Se.partialMatches,loaderData:{},errors:{[qe]:Se.error}}}else if(Se.matches)M=Se.matches;else{let{error:qe,notFoundMatches:Kn,route:Kt}=Rs(D.pathname);return{matches:Kn,loaderData:{},errors:{[Kt.id]:qe}}}}let Ce=s||o,[Ee,Ve]=Sv(e.history,R,M,Pe,D,Z===!0,I,lt,ue,oe,te,Ce,l,re);if(Ct=++zn,Ee.length===0&&Ve.length===0){let Se=vl();return wn(D,{matches:M,loaderData:{},errors:re&&qt(re[1])?{[re[0]]:re[1].error}:null,...bv(re),...Se?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Q}),{shortCircuited:!0}}if(Be){let Se={};if(!B){Se.navigation=ae;let qe=Ts(re);qe!==void 0&&(Se.actionData=qe)}Ve.length>0&&(Se.fetchers=dl(Ve)),ct(Se,{flushSync:Q})}Ve.forEach(Se=>{Tn(Se.key),Se.controller&&Re.set(Se.key,Se.controller)});let bt=()=>Ve.forEach(Se=>Tn(Se.key));v&&v.signal.addEventListener("abort",bt);let{loaderResults:jr,fetcherResults:an}=await gl(R,M,Ee,Ve,P);if(P.signal.aborted)return{shortCircuited:!0};v&&v.signal.removeEventListener("abort",bt),Ve.forEach(Se=>Re.delete(Se.key));let Vt=Yl(jr);if(Vt)return await Sn(P,Vt.result,!0,{replace:X}),{shortCircuited:!0};if(Vt=Yl(an),Vt)return te.add(Vt.key),await Sn(P,Vt.result,!0,{replace:X}),{shortCircuited:!0};let{loaderData:bi,errors:Ur}=Pv(R,M,jr,re,Ve,an);Z&&R.errors&&(Ur={...R.errors,...Ur});let Hn=vl(),yo=Nr(Ct),cr=Hn||yo||Ve.length>0;return{matches:M,loaderData:bi,errors:Ur,...cr?{fetchers:new Map(R.fetchers)}:{}}}function Ts(P){if(P&&!qt(P[1]))return{[P[0]]:P[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function dl(P){return P.forEach(D=>{let M=R.fetchers.get(D.key),B=Gs(void 0,M?M.data:void 0);R.fetchers.set(D.key,B)}),new Map(R.fetchers)}async function cf(P,D,M,B){Tn(P);let K=(B&&B.flushSync)===!0,ee=s||o,ne=od(R.location,R.matches,l,M,D,B==null?void 0:B.relative),X=Xr(ee,ne,l),Z=Mr(X,ee,ne);if(Z.active&&Z.matches&&(X=Z.matches),!X){Ht(P,D,ln(404,{pathname:ne}),{flushSync:K});return}let{path:Q,submission:re,error:ae}=wv(!0,ne,B);if(ae){Ht(P,D,ae,{flushSync:K});return}let Pe=Zs(X,Q),Be=(B&&B.preventScrollReset)===!0;if(re&&Cn(re.formMethod)){await pl(P,D,Q,Pe,X,Z.active,K,Be,re);return}oe.set(P,{routeId:D,path:Q}),await ml(P,D,Q,Pe,X,Z.active,K,Be,re)}async function pl(P,D,M,B,K,ee,ne,X,Z){Ci(),oe.delete(P);function Q(Le){if(!Le.route.action&&!Le.route.lazy){let $r=ln(405,{method:Z.formMethod,pathname:M,routeId:D});return Ht(P,D,$r,{flushSync:ne}),!0}return!1}if(!ee&&Q(B))return;let re=R.fetchers.get(P);sn(P,qI(Z,re),{flushSync:ne});let ae=new AbortController,Pe=To(e.history,M,ae.signal,Z);if(ee){let Le=await Fr(K,M,Pe.signal);if(Le.type==="aborted")return;if(Le.type==="error"){Ht(P,D,Le.error,{flushSync:ne});return}else if(Le.matches){if(K=Le.matches,B=Zs(K,M),Q(B))return}else{Ht(P,D,ln(404,{pathname:M}),{flushSync:ne});return}}Re.set(P,ae);let Be=zn,Ee=(await Dr("action",R,Pe,[B],K,P))[B.route.id];if(Pe.signal.aborted){Re.get(P)===ae&&Re.delete(P);return}if(ue.has(P)){if(ji(Ee)||qt(Ee)){sn(P,Kr(void 0));return}}else{if(ji(Ee))if(Re.delete(P),Ct>Be){sn(P,Kr(void 0));return}else return te.add(P),sn(P,Gs(Z)),Sn(Pe,Ee,!1,{fetcherSubmission:Z,preventScrollReset:X});if(qt(Ee)){Ht(P,D,Ee.error);return}}let Ve=R.navigation.location||R.location,bt=To(e.history,Ve,ae.signal),jr=s||o,an=R.navigation.state!=="idle"?Xr(jr,R.navigation.location,l):R.matches;fe(an,"Didn't find any matches after fetcher action");let Vt=++zn;q.set(P,Vt);let bi=Gs(Z,Ee.data);R.fetchers.set(P,bi);let[Ur,Hn]=Sv(e.history,R,an,Z,Ve,!1,I,lt,ue,oe,te,jr,l,[B.route.id,Ee]);Hn.filter(Le=>Le.key!==P).forEach(Le=>{let $r=Le.key,bs=R.fetchers.get($r),Sl=Gs(void 0,bs?bs.data:void 0);R.fetchers.set($r,Sl),Tn($r),Le.controller&&Re.set($r,Le.controller)}),ct({fetchers:new Map(R.fetchers)});let yo=()=>Hn.forEach(Le=>Tn(Le.key));ae.signal.addEventListener("abort",yo);let{loaderResults:cr,fetcherResults:Se}=await gl(R,an,Ur,Hn,bt);if(ae.signal.aborted)return;ae.signal.removeEventListener("abort",yo),q.delete(P),Re.delete(P),Hn.forEach(Le=>Re.delete(Le.key));let qe=Yl(cr);if(qe)return Sn(bt,qe.result,!1,{preventScrollReset:X});if(qe=Yl(Se),qe)return te.add(qe.key),Sn(bt,qe.result,!1,{preventScrollReset:X});let{loaderData:Kn,errors:Kt}=Pv(R,an,cr,void 0,Hn,Se);if(R.fetchers.has(P)){let Le=Kr(Ee.data);R.fetchers.set(P,Le)}Nr(Vt),R.navigation.state==="loading"&&Vt>Ct?(fe(U,"Expected pending action"),v&&v.abort(),wn(R.navigation.location,{matches:an,loaderData:Kn,errors:Kt,fetchers:new Map(R.fetchers)})):(ct({errors:Kt,loaderData:Cv(R.loaderData,Kn,an,Kt),fetchers:new Map(R.fetchers)}),I=!1)}async function ml(P,D,M,B,K,ee,ne,X,Z){let Q=R.fetchers.get(P);sn(P,Gs(Z,Q?Q.data:void 0),{flushSync:ne});let re=new AbortController,ae=To(e.history,M,re.signal);if(ee){let Ee=await Fr(K,M,ae.signal);if(Ee.type==="aborted")return;if(Ee.type==="error"){Ht(P,D,Ee.error,{flushSync:ne});return}else if(Ee.matches)K=Ee.matches,B=Zs(K,M);else{Ht(P,D,ln(404,{pathname:M}),{flushSync:ne});return}}Re.set(P,re);let Pe=zn,Ce=(await Dr("loader",R,ae,[B],K,P))[B.route.id];if(Re.get(P)===re&&Re.delete(P),!ae.signal.aborted){if(ue.has(P)){sn(P,Kr(void 0));return}if(ji(Ce))if(Ct>Pe){sn(P,Kr(void 0));return}else{te.add(P),await Sn(ae,Ce,!1,{preventScrollReset:X});return}if(qt(Ce)){Ht(P,D,Ce.error);return}sn(P,Kr(Ce.data))}}async function Sn(P,D,M,{submission:B,fetcherSubmission:K,preventScrollReset:ee,replace:ne}={}){D.response.headers.has("X-Remix-Revalidate")&&(I=!0);let X=D.response.headers.get("Location");fe(X,"Expected a Location header on the redirect Response"),X=Iv(X,new URL(P.url),l);let Z=Na(R.location,X,{_isRedirect:!0});if(n){let Ce=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ce=!0;else if(Vp.test(X)){const Ee=e.history.createURL(X);Ce=Ee.origin!==t.location.origin||jn(Ee.pathname,l)==null}if(Ce){ne?t.location.replace(X):t.location.assign(X);return}}v=null;let Q=ne===!0||D.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:re,formAction:ae,formEncType:Pe}=R.navigation;!B&&!K&&re&&ae&&Pe&&(B=Ov(R.navigation));let Be=B||K;if(xI.has(D.response.status)&&Be&&Cn(Be.formMethod))await En(Q,Z,{submission:{...Be,formAction:X},preventScrollReset:ee||S,enableViewTransition:M?E:void 0});else{let Ce=Gf(Z,B);await En(Q,Z,{overrideNavigation:Ce,fetcherSubmission:K,preventScrollReset:ee||S,enableViewTransition:M?E:void 0})}}async function Dr(P,D,M,B,K,ee){let ne,X={};try{ne=await jI(u,P,D,M,B,K,ee,i,r)}catch(Z){return B.forEach(Q=>{X[Q.route.id]={type:"error",error:Z}}),X}for(let[Z,Q]of Object.entries(ne))if(KI(Q)){let re=Q.result;X[Z]={type:"redirect",response:BI(re,M,Z,K,l)}}else X[Z]=await $I(Q);return X}async function gl(P,D,M,B,K){let ee=Dr("loader",P,K,M,D,null),ne=Promise.all(B.map(async Q=>{if(Q.matches&&Q.match&&Q.controller){let ae=(await Dr("loader",P,To(e.history,Q.path,Q.controller.signal),[Q.match],Q.matches,Q.key))[Q.match.route.id];return{[Q.key]:ae}}else return Promise.resolve({[Q.key]:{type:"error",error:ln(404,{pathname:Q.path})}})})),X=await ee,Z=(await ne).reduce((Q,re)=>Object.assign(Q,re),{});return{loaderResults:X,fetcherResults:Z}}function Ci(){I=!0,oe.forEach((P,D)=>{Re.has(D)&&lt.add(D),Tn(D)})}function sn(P,D,M={}){R.fetchers.set(P,D),ct({fetchers:new Map(R.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Ht(P,D,M,B={}){let K=Vi(R.matches,D);Je(P),ct({errors:{[K.route.id]:M},fetchers:new Map(R.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Ye(P){return _e.set(P,(_e.get(P)||0)+1),ue.has(P)&&ue.delete(P),R.fetchers.get(P)||kI}function Je(P){let D=R.fetchers.get(P);Re.has(P)&&!(D&&D.state==="loading"&&q.has(P))&&Tn(P),oe.delete(P),q.delete(P),te.delete(P),ue.delete(P),lt.delete(P),R.fetchers.delete(P)}function vo(P){let D=(_e.get(P)||0)-1;D<=0?(_e.delete(P),ue.add(P)):_e.set(P,D),ct({fetchers:new Map(R.fetchers)})}function Tn(P){let D=Re.get(P);D&&(D.abort(),Re.delete(P))}function As(P){for(let D of P){let M=Ye(D),B=Kr(M.data);R.fetchers.set(D,B)}}function vl(){let P=[],D=!1;for(let M of te){let B=R.fetchers.get(M);fe(B,`Expected fetcher: ${M}`),B.state==="loading"&&(te.delete(M),P.push(M),D=!0)}return As(P),D}function Nr(P){let D=[];for(let[M,B]of q)if(B<P){let K=R.fetchers.get(M);fe(K,`Expected fetcher: ${M}`),K.state==="loading"&&(Tn(M),q.delete(M),D.push(M))}return As(D),D.length>0}function yl(P,D){let M=R.blockers.get(P)||Ks;return we.get(P)!==D&&we.set(P,D),M}function Is(P){R.blockers.delete(P),we.delete(P)}function Vr(P,D){let M=R.blockers.get(P)||Ks;fe(M.state==="unblocked"&&D.state==="blocked"||M.state==="blocked"&&D.state==="blocked"||M.state==="blocked"&&D.state==="proceeding"||M.state==="blocked"&&D.state==="unblocked"||M.state==="proceeding"&&D.state==="unblocked",`Invalid blocker state transition: ${M.state} -> ${D.state}`);let B=new Map(R.blockers);B.set(P,D),ct({blockers:B})}function _l({currentLocation:P,nextLocation:D,historyAction:M}){if(we.size===0)return;we.size>1&&st(!1,"A router only supports one blocker at a time");let B=Array.from(we.entries()),[K,ee]=B[B.length-1],ne=R.blockers.get(K);if(!(ne&&ne.state==="proceeding")&&ee({currentLocation:P,nextLocation:D,historyAction:M}))return K}function Rs(P){let D=ln(404,{pathname:P}),M=s||o,{matches:B,route:K}=xv(M);return{notFoundMatches:B,route:K,error:D}}function Ps(P,D,M){if(_=P,x=D,C=M||null,!N&&R.navigation===Kf){N=!0;let B=Lr(R.location,R.matches);B!=null&&ct({restoreScrollPosition:B})}return()=>{_=null,x=null,C=null}}function Cs(P,D){return C&&C(P,D.map(B=>lI(B,R.loaderData)))||P.key}function wl(P,D){if(_&&x){let M=Cs(P,D);_[M]=x()}}function Lr(P,D){if(_){let M=Cs(P,D),B=_[M];if(typeof B=="number")return B}return null}function Mr(P,D,M){if(c)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:wu(D,M,l,!0)}}else return{active:!0,matches:wu(D,M,l,!0)||[]};return{active:!1,matches:null}}async function Fr(P,D,M){if(!c)return{type:"success",matches:P};let B=P;for(;;){let K=s==null,ee=s||o,ne=i;try{await c({path:D,matches:B,patch:(Q,re)=>{M.aborted||Av(Q,re,ee,ne,r)}})}catch(Q){return{type:"error",error:Q,partialMatches:B}}finally{K&&!M.aborted&&(o=[...o])}if(M.aborted)return{type:"aborted"};let X=Xr(ee,D,l);if(X)return{type:"success",matches:X};let Z=wu(ee,D,l,!0);if(!Z||B.length===Z.length&&B.every((Q,re)=>Q.route.id===Z[re].route.id))return{type:"success",matches:null};B=Z}}function ur(P){i={},s=ec(P,r,void 0,i)}function El(P,D){let M=s==null;Av(P,D,s||o,i,r),M&&(o=[...o],ct({}))}return V={get basename(){return l},get future(){return d},get state(){return R},get routes(){return o},get window(){return t},initialize:_n,subscribe:uf,enableScrollRestoration:Ps,navigate:Pi,fetch:cf,revalidate:ws,createHref:P=>e.history.createHref(P),encodeLocation:P=>e.history.encodeLocation(P),getFetcher:Ye,deleteFetcher:vo,dispose:on,getBlocker:yl,deleteBlocker:Is,patchRoutes:El,_internalFetchControllers:Re,_internalSetRoutes:ur},V}function NI(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function od(e,t,n,r,i,o){let s,l;if(i){s=[];for(let c of t)if(s.push(c),c.route.id===i){l=c;break}}else s=t,l=t[t.length-1];let u=Np(r||".",Dp(s),jn(e.pathname,n)||e.pathname,o==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&l){let c=Lp(u.search);if(l.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&c){let d=new URLSearchParams(u.search),p=d.getAll("index");d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let m=d.toString();u.search=m?`?${m}`:""}}return n!=="/"&&(u.pathname=u.pathname==="/"?n:Zn([n,u.pathname])),pi(u)}function wv(e,t,n){if(!n||!NI(n))return{path:t};if(n.formMethod&&!GI(n.formMethod))return{path:t,error:ln(405,{method:n.formMethod})};let r=()=>({path:t,error:ln(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),s=vw(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Cn(o))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[_,C])=>`${m}${_}=${C}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Cn(o))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}fe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=ad(n.formData),u=n.formData;else if(n.body instanceof FormData)l=ad(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Rv(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Rv(l)}catch{return r()}let c={formMethod:o,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Cn(c.formMethod))return{path:t,submission:c};let d=ar(t);return e&&d.search&&Lp(d.search)&&l.append("index",""),d.search=`?${l}`,{path:pi(d),submission:c}}function Ev(e,t,n=!1){let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Sv(e,t,n,r,i,o,s,l,u,c,d,p,m,_){let C=_?qt(_[1])?_[1].error:_[1].data:void 0,x=e.createURL(t.location),N=e.createURL(i),w=n;o&&t.errors?w=Ev(n,Object.keys(t.errors)[0],!0):_&&qt(_[1])&&(w=Ev(n,_[0]));let y=_?_[1].statusCode:void 0,T=y&&y>=400,V=w.filter((U,S)=>{let{route:v}=U;if(v.lazy)return!0;if(v.loader==null)return!1;if(o)return sd(v,t.loaderData,t.errors);if(VI(t.loaderData,t.matches[S],U))return!0;let E=t.matches[S],A=U;return Tv(U,{currentUrl:x,currentParams:E.params,nextUrl:N,nextParams:A.params,...r,actionResult:C,actionStatus:y,defaultShouldRevalidate:T?!1:s||x.pathname+x.search===N.pathname+N.search||x.search!==N.search||LI(E,A)})}),R=[];return c.forEach((U,S)=>{if(o||!n.some(k=>k.route.id===U.routeId)||u.has(S))return;let v=Xr(p,U.path,m);if(!v){R.push({key:S,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let E=t.fetchers.get(S),A=Zs(v,U.path),b=!1;d.has(S)?b=!1:l.has(S)?(l.delete(S),b=!0):E&&E.state!=="idle"&&E.data===void 0?b=s:b=Tv(A,{currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:N,nextParams:n[n.length-1].params,...r,actionResult:C,actionStatus:y,defaultShouldRevalidate:T?!1:s}),b&&R.push({key:S,routeId:U.routeId,path:U.path,matches:v,match:A,controller:new AbortController})}),[V,R]}function sd(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function VI(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function LI(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Tv(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Av(e,t,n,r,i){let o;if(e){let u=r[e];fe(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),o=u.children}else o=n;let s=t.filter(u=>!o.some(c=>gw(u,c))),l=ec(s,i,[e||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...l)}function gw(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(o=>gw(n,o))}):!1}async function MI(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];fe(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";st(!u,`Route "${i.id}" has a static property "${s}" defined but its lazy function is also returning a value for this property. The lazy route property "${s}" will be ignored.`),!u&&!sI.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,{...t(i),lazy:void 0})}async function FI({matches:e}){let t=e.filter(r=>r.shouldLoad);return(await Promise.all(t.map(r=>r.resolve()))).reduce((r,i,o)=>Object.assign(r,{[t[o].route.id]:i}),{})}async function jI(e,t,n,r,i,o,s,l,u,c){let d=o.map(_=>_.route.lazy?MI(_.route,u,l):void 0),p=o.map((_,C)=>{let x=d[C],N=i.some(y=>y.route.id===_.route.id);return{..._,shouldLoad:N,resolve:async y=>(y&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(N=!0),N?UI(t,r,_,x,y,c):Promise.resolve({type:"data",result:void 0}))}}),m=await e({matches:p,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(d)}catch{}return m}async function UI(e,t,n,r,i,o){let s,l,u=c=>{let d,p=new Promise((C,x)=>d=x);l=()=>d(),t.signal.addEventListener("abort",l);let m=C=>typeof c!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${n.route.id}]`)):c({request:t,params:n.params,context:o},...C!==void 0?[C]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(x=>m(x)):m())}}catch(C){return{type:"error",result:C}}})();return Promise.race([_,p])};try{let c=n.route[e];if(r)if(c){let d,[p]=await Promise.all([u(c).catch(m=>{d=m}),r]);if(d!==void 0)throw d;s=p}else if(await r,c=n.route[e],c)s=await u(c);else if(e==="action"){let d=new URL(t.url),p=d.pathname+d.search;throw ln(405,{method:t.method,pathname:p,routeId:n.route.id})}else return{type:"data",result:void 0};else if(c)s=await u(c);else{let d=new URL(t.url),p=d.pathname+d.search;throw ln(404,{pathname:p})}}catch(c){return{type:"error",result:c}}finally{l&&t.signal.removeEventListener("abort",l)}return s}async function $I(e){var r,i,o,s;let{result:t,type:n}=e;if(yw(t)){let l;try{let u=t.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?t.body==null?l=null:l=await t.json():l=await t.text()}catch(u){return{type:"error",error:u}}return n==="error"?{type:"error",error:new nc(t.status,t.statusText,l),statusCode:t.status,headers:t.headers}:{type:"data",data:l,statusCode:t.status,headers:t.headers}}if(n==="error"){if(kv(t)){if(t.data instanceof Error)return{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status};t=new nc(((i=t.init)==null?void 0:i.status)||500,void 0,t.data)}return{type:"error",error:t,statusCode:Hc(t)?t.status:void 0}}return kv(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function BI(e,t,n,r,i){let o=e.headers.get("Location");if(fe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Vp.test(o)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=od(new URL(t.url),s,i,o),e.headers.set("Location",o)}return e}function Iv(e,t,n){if(Vp.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=jn(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function To(e,t,n,r){let i=e.createURL(vw(t)).toString(),o={signal:n};if(r&&Cn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=ad(r.formData):o.body=r.formData}return new Request(i,o)}function ad(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Rv(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function zI(e,t,n,r=!1,i=!1){let o={},s=null,l,u=!1,c={},d=n&&qt(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let m=p.route.id,_=t[m];if(fe(!ji(_),"Cannot handle redirect results in processLoaderData"),qt(_)){let C=_.error;if(d!==void 0&&(C=d,d=void 0),s=s||{},i)s[m]=C;else{let x=Vi(e,m);s[x.route.id]==null&&(s[x.route.id]=C)}r||(o[m]=mw),u||(u=!0,l=Hc(_.error)?_.error.status:500),_.headers&&(c[m]=_.headers)}else o[m]=_.data,_.statusCode&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(c[m]=_.headers)}),d!==void 0&&n&&(s={[n[0]]:d},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:c}}function Pv(e,t,n,r,i,o){let{loaderData:s,errors:l}=zI(t,n,r);return i.forEach(u=>{let{key:c,match:d,controller:p}=u,m=o[c];if(fe(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(qt(m)){let _=Vi(e.matches,d==null?void 0:d.route.id);l&&l[_.route.id]||(l={...l,[_.route.id]:m.error}),e.fetchers.delete(c)}else if(ji(m))fe(!1,"Unhandled fetcher revalidation redirect");else{let _=Kr(m.data);e.fetchers.set(c,_)}}),{loaderData:s,errors:l}}function Cv(e,t,n,r){let i=Object.entries(t).filter(([,o])=>o!==mw).reduce((o,[s,l])=>(o[s]=l,o),{});for(let o of n){let s=o.route.id;if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function bv(e){return e?qt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Vi(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function xv(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ln(e,{pathname:t,routeId:n,method:r,type:i,message:o}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",r&&t&&n?l=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l=`Route "${n}" does not match URL "${t}"`):e===404?(s="Not Found",l=`No route matches URL "${t}"`):e===405&&(s="Method Not Allowed",r&&t&&n?l=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new nc(e||500,s,new Error(l),!0)}function Yl(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(ji(i))return{key:r,result:i}}}function vw(e){let t=typeof e=="string"?ar(e):e;return pi({...t,hash:""})}function HI(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function KI(e){return yw(e.result)&&bI.has(e.result.status)}function qt(e){return e.type==="error"}function ji(e){return(e&&e.type)==="redirect"}function kv(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function yw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function GI(e){return CI.has(e.toUpperCase())}function Cn(e){return RI.has(e.toUpperCase())}function Lp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Zs(e,t){let n=typeof t=="string"?ar(t).search:t.search;if(e[e.length-1].route.index&&Lp(n||""))return e[e.length-1];let r=hw(e);return r[r.length-1]}function Ov(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Gf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WI(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Gs(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qI(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Kr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function QI(e,t){try{let n=e.sessionStorage.getItem(pw);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function XI(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(pw,JSON.stringify(n))}catch(r){st(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function YI(){let e,t,n=new Promise((r,i)=>{e=async o=>{r(o);try{await n}catch{}},t=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var co=L.createContext(null);co.displayName="DataRouter";var qa=L.createContext(null);qa.displayName="DataRouterState";var Mp=L.createContext({isTransitioning:!1});Mp.displayName="ViewTransition";var _w=L.createContext(new Map);_w.displayName="Fetchers";var JI=L.createContext(null);JI.displayName="Await";var lr=L.createContext(null);lr.displayName="Navigation";var Qa=L.createContext(null);Qa.displayName="Location";var Or=L.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var Fp=L.createContext(null);Fp.displayName="RouteError";function ZI(e,{relative:t}={}){fe(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(lr),{hash:i,pathname:o,search:s}=Ja(e,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:Zn([n,o])),r.createHref({pathname:l,search:s,hash:i})}function Xa(){return L.useContext(Qa)!=null}function fo(){return fe(Xa(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Qa).location}var ww="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ew(e){L.useContext(lr).static||L.useLayoutEffect(e)}function Ya(){let{isDataRoute:e}=L.useContext(Or);return e?hR():eR()}function eR(){fe(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(co),{basename:t,navigator:n}=L.useContext(lr),{matches:r}=L.useContext(Or),{pathname:i}=fo(),o=JSON.stringify(Dp(r)),s=L.useRef(!1);return Ew(()=>{s.current=!0}),L.useCallback((u,c={})=>{if(st(s.current,ww),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=Np(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Zn([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,i,e])}L.createContext(null);function Ja(e,{relative:t}={}){let{matches:n}=L.useContext(Or),{pathname:r}=fo(),i=JSON.stringify(Dp(n));return L.useMemo(()=>Np(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function tR(e,t,n,r){var w;fe(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(lr),{matches:o}=L.useContext(Or),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",d=s&&s.route;{let y=d&&d.path||"";Sw(u,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let p=fo(),m;if(t){let y=typeof t=="string"?ar(t):t;fe(c==="/"||((w=y.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),m=y}else m=p;let _=m.pathname||"/",C=_;if(c!=="/"){let y=c.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Xr(e,{pathname:C});st(d||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),st(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=sR(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Zn([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Zn([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&N?L.createElement(Qa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},N):N}function nR(){let e=fR(),t=Hc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:i},n):null,s)}var rR=L.createElement(nR,null),iR=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Or.Provider,{value:this.props.routeContext},L.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oR({routeContext:e,match:t,children:n}){let r=L.useContext(co);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Or.Provider,{value:e},n)}function sR(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);fe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:p}=n,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let p,m=!1,_=null,C=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,_=c.route.errorElement||rR,s&&(l<0&&d===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):l===d&&(m=!0,C=c.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,d+1)),N=()=>{let w;return p?w=_:m?w=C:c.route.Component?w=L.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=u,L.createElement(oR,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?L.createElement(iR,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}function jp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aR(e){let t=L.useContext(co);return fe(t,jp(e)),t}function lR(e){let t=L.useContext(qa);return fe(t,jp(e)),t}function uR(e){let t=L.useContext(Or);return fe(t,jp(e)),t}function Up(e){let t=uR(e),n=t.matches[t.matches.length-1];return fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cR(){return Up("useRouteId")}function fR(){var r;let e=L.useContext(Fp),t=lR("useRouteError"),n=Up("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function hR(){let{router:e}=aR("useNavigate"),t=Up("useNavigate"),n=L.useRef(!1);return Ew(()=>{n.current=!0}),L.useCallback(async(i,o={})=>{st(n.current,ww),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Dv={};function Sw(e,t,n){!t&&!Dv[e]&&(Dv[e]=!0,st(!1,n))}var Nv={};function Vv(e,t){!e&&!Nv[t]&&(Nv[t]=!0,console.warn(t))}function dR(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&st(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:L.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&st(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:L.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&st(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:L.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var pR=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mR({router:e,flushSync:t}){let[n,r]=L.useState(e.state),[i,o]=L.useState(),[s,l]=L.useState({isTransitioning:!1}),[u,c]=L.useState(),[d,p]=L.useState(),[m,_]=L.useState(),C=L.useRef(new Map),x=L.useCallback((T,{deletedFetchers:V,flushSync:R,viewTransitionOpts:U})=>{T.fetchers.forEach((v,E)=>{v.data!==void 0&&C.current.set(E,v.data)}),V.forEach(v=>C.current.delete(v)),Vv(R===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let S=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Vv(U==null||S,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!S){t&&R?t(()=>r(T)):L.startTransition(()=>r(T));return}if(t&&R){t(()=>{d&&(u&&u.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let v=e.window.document.startViewTransition(()=>{t(()=>r(T))});v.finished.finally(()=>{t(()=>{c(void 0),p(void 0),o(void 0),l({isTransitioning:!1})})}),t(()=>p(v));return}d?(u&&u.resolve(),d.skipTransition(),_({state:T,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(o(T),l({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[e.window,t,d,u]);L.useLayoutEffect(()=>e.subscribe(x),[e,x]),L.useEffect(()=>{s.isTransitioning&&!s.flushSync&&c(new pR)},[s]),L.useEffect(()=>{if(u&&i&&e.window){let T=i,V=u.promise,R=e.window.document.startViewTransition(async()=>{L.startTransition(()=>r(T)),await V});R.finished.finally(()=>{c(void 0),p(void 0),o(void 0),l({isTransitioning:!1})}),p(R)}},[i,u,e.window]),L.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,d,n.location,i]),L.useEffect(()=>{!s.isTransitioning&&m&&(o(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),_(void 0))},[s.isTransitioning,m]);let N=L.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:T=>e.navigate(T),push:(T,V,R)=>e.navigate(T,{state:V,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(T,V,R)=>e.navigate(T,{replace:!0,state:V,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[e]),w=e.basename||"/",y=L.useMemo(()=>({router:e,navigator:N,static:!1,basename:w}),[e,N,w]);return L.createElement(L.Fragment,null,L.createElement(co.Provider,{value:y},L.createElement(qa.Provider,{value:n},L.createElement(_w.Provider,{value:C.current},L.createElement(Mp.Provider,{value:s},L.createElement(yR,{basename:w,location:n.location,navigationType:n.historyAction,navigator:N},L.createElement(gR,{routes:e.routes,future:e.future,state:n})))))),null)}var gR=L.memo(vR);function vR({routes:e,future:t,state:n}){return tR(e,void 0,n,t)}function yR({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){fe(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=ar(n));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:m="default"}=n,_=L.useMemo(()=>{let C=jn(u,s);return C==null?null:{location:{pathname:C,search:c,hash:d,state:p,key:m},navigationType:r}},[s,u,c,d,p,m,r]);return st(_!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:L.createElement(lr.Provider,{value:l},L.createElement(Qa.Provider,{children:t,value:_}))}var Eu="get",Su="application/x-www-form-urlencoded";function Kc(e){return e!=null&&typeof e.tagName=="string"}function _R(e){return Kc(e)&&e.tagName.toLowerCase()==="button"}function wR(e){return Kc(e)&&e.tagName.toLowerCase()==="form"}function ER(e){return Kc(e)&&e.tagName.toLowerCase()==="input"}function SR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TR(e,t){return e.button===0&&(!t||t==="_self")&&!SR(e)}var Jl=null;function AR(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var IR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wf(e){return e!=null&&!IR.has(e)?(st(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):e}function RR(e,t){let n,r,i,o,s;if(wR(e)){let l=e.getAttribute("action");r=l?jn(l,t):null,n=e.getAttribute("method")||Eu,i=Wf(e.getAttribute("enctype"))||Su,o=new FormData(e)}else if(_R(e)||ER(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?jn(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Eu,i=Wf(e.getAttribute("formenctype"))||Wf(l.getAttribute("enctype"))||Su,o=new FormData(l,e),!AR()){let{name:c,type:d,value:p}=e;if(d==="image"){let m=c?`${c}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else c&&o.append(c,p)}}else{if(Kc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eu,r=null,i=Su,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function $p(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function PR(e,t){if(e.id in t)return t[e.id];try{let n=await GA(()=>import(e.module),[],import.meta.url);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CR(e){return e!=null&&typeof e.page=="string"}function bR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function xR(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await PR(o,n);return s.links?s.links():[]}return[]}));return NR(r.flat(1).filter(bR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lv(e,t,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?t.filter((u,c)=>s(u,c)||l(u,c)):o==="data"?t.filter((u,c)=>{var p;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function kR(e,t){return OR(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function OR(e){return[...new Set(e)]}function DR(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function NR(e,t){let n=new Set,r=new Set(t);return e.reduce((i,o)=>{if(t&&!CR(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let l=JSON.stringify(DR(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function VR(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function LR(){let e=L.useContext(co);return $p(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function MR(){let e=L.useContext(qa);return $p(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bp=L.createContext(void 0);Bp.displayName="FrameworkContext";function Tw(){let e=L.useContext(Bp);return $p(e,"You must render this element inside a <HydratedRouter> element"),e}function FR(e,t){let n=L.useContext(Bp),[r,i]=L.useState(!1),[o,s]=L.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=t,m=L.useRef(null);L.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=w=>{w.forEach(y=>{s(y.isIntersecting)})},N=new IntersectionObserver(x,{threshold:.5});return m.current&&N.observe(m.current),()=>{N.disconnect()}}},[e]),L.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let _=()=>{i(!0)},C=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,m,{}]:[o,m,{onFocus:Ws(l,_),onBlur:Ws(u,C),onMouseEnter:Ws(c,_),onMouseLeave:Ws(d,C),onTouchStart:Ws(p,_)}]:[!1,m,{}]}function Ws(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function jR({page:e,...t}){let{router:n}=LR(),r=L.useMemo(()=>Xr(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?L.createElement($R,{page:e,matches:r,...t}):null}function UR(e){let{manifest:t,routeModules:n}=Tw(),[r,i]=L.useState([]);return L.useEffect(()=>{let o=!1;return xR(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function $R({page:e,matches:t,...n}){let r=fo(),{manifest:i,routeModules:o}=Tw(),{loaderData:s,matches:l}=MR(),u=L.useMemo(()=>Lv(e,t,l,i,r,"data"),[e,t,l,i,r]),c=L.useMemo(()=>Lv(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=L.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,C=!1;if(t.forEach(N=>{var y;let w=i.routes[N.route.id];!w||!w.hasLoader||(!u.some(T=>T.route.id===N.route.id)&&N.route.id in s&&((y=o[N.route.id])!=null&&y.shouldRevalidate)||w.hasClientLoader?C=!0:_.add(N.route.id))}),_.size===0)return[];let x=VR(e);return C&&_.size>0&&x.searchParams.set("_routes",t.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[x.pathname+x.search]},[s,r,i,u,t,e,o]),p=L.useMemo(()=>kR(c,i),[c,i]),m=UR(c);return L.createElement(L.Fragment,null,d.map(_=>L.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),p.map(_=>L.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),m.map(({key:_,link:C})=>L.createElement("link",{key:_,...C})))}function BR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Aw&&(window.__reactRouterVersion="7.1.2")}catch{}function zR(e,t){return DI({basename:t==null?void 0:t.basename,future:t==null?void 0:t.future,history:rI({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||HR(),routes:e,mapRouteProperties:dR,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function HR(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:KR(e.errors)}),e}function KR(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new nc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var Iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rw=L.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p,...m},_){let{basename:C}=L.useContext(lr),x=typeof c=="string"&&Iw.test(c),N,w=!1;if(typeof c=="string"&&x&&(N=c,Aw))try{let E=new URL(window.location.href),A=c.startsWith("//")?new URL(E.protocol+c):new URL(c),b=jn(A.pathname,C);A.origin===E.origin&&b!=null?c=b+A.search+A.hash:w=!0}catch{st(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=ZI(c,{relative:i}),[T,V,R]=FR(r,m),U=QR(c,{replace:s,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:p});function S(E){t&&t(E),E.defaultPrevented||U(E)}let v=L.createElement("a",{...m,...R,href:N||y,onClick:w||o?t:S,ref:BR(_,V),target:u,"data-discover":!x&&n==="render"?"true":void 0});return T&&!x?L.createElement(L.Fragment,null,v,L.createElement(jR,{page:y})):v});Rw.displayName="Link";var GR=L.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:l,children:u,...c},d){let p=Ja(s,{relative:c.relative}),m=fo(),_=L.useContext(qa),{navigator:C,basename:x}=L.useContext(lr),N=_!=null&&eP(p)&&l===!0,w=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,y=m.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(y=y.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&x&&(T=jn(T,x)||T);const V=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let R=y===w||!i&&y.startsWith(w)&&y.charAt(V)==="/",U=T!=null&&(T===w||!i&&T.startsWith(w)&&T.charAt(w.length)==="/"),S={isActive:R,isPending:U,isTransitioning:N},v=R?t:void 0,E;typeof r=="function"?E=r(S):E=[r,R?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(S):o;return L.createElement(Rw,{...c,"aria-current":v,className:E,ref:d,style:A,to:s,viewTransition:l},typeof u=="function"?u(S):u)});GR.displayName="NavLink";var WR=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Eu,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,...m},_)=>{let C=JR(),x=ZR(l,{relative:c}),N=s.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&Iw.test(l),y=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let V=T.nativeEvent.submitter,R=(V==null?void 0:V.getAttribute("formmethod"))||s;C(V||T.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:p})};return L.createElement("form",{ref:_,method:N,action:x,onSubmit:r?u:y,...m,"data-discover":!w&&e==="render"?"true":void 0})});WR.displayName="Form";function qR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pw(e){let t=L.useContext(co);return fe(t,qR(e)),t}function QR(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=Ya(),u=fo(),c=Ja(e,{relative:o});return L.useCallback(d=>{if(TR(d,t)){d.preventDefault();let p=n!==void 0?n:pi(u)===pi(c);l(e,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,c,n,r,t,e,i,o,s])}var XR=0,YR=()=>`__${String(++XR)}__`;function JR(){let{router:e}=Pw("useSubmit"),{basename:t}=L.useContext(lr),n=cR();return L.useCallback(async(r,i={})=>{let{action:o,method:s,encType:l,formData:u,body:c}=RR(r,t);if(i.navigate===!1){let d=i.fetcherKey||YR();await e.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function ZR(e,{relative:t}={}){let{basename:n}=L.useContext(lr),r=L.useContext(Or);fe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ja(e||".",{relative:t})},s=fo();if(e==null){o.search=s.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Zn([n,o.pathname])),pi(o)}function eP(e,t={}){let n=L.useContext(Mp);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Pw("useViewTransitionState"),i=Ja(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=jn(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=jn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tc(i.pathname,s)!=null||tc(i.pathname,o)!=null}new TextEncoder;/**
 * react-router v7.1.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tP(e){return L.createElement(mR,{flushSync:kp.flushSync,...e})}function nP({onNavigateToLogin:e}){const t=L.useRef(null),[n,r]=L.useState(!1),i=()=>{const o=t.current;o&&(n?o.pause():o.play(),r(!n))};return j.jsxs("div",{className:"start-container",children:[j.jsx("h1",{className:"start-title",children:"Instruktioner för Testet"}),j.jsx("h2",{className:"section-title",children:"Så går testet till"}),j.jsxs("ul",{className:"start-list",children:[j.jsx("li",{children:"Du kommer göra fyra tester i olika ljudmiljöer, varav en är tyst."}),j.jsx("li",{children:"Uppgiften är att para ihop identiska par så snabbt som möjligt."}),j.jsx("li",{children:"Du kommer att se flera skepp på skärmen. Målet är att identifiera alla identiska par."}),j.jsx("li",{children:"Klicka på skepp för att markera dem som ett par. Om du vill avmarkera ett skepp, klicka på det igen."}),j.jsx("li",{children:"När du tror att du hittat alla identiska par, klickar du på knappen “Klar” för att slutföra testet."})]}),j.jsx("h2",{className:"section-title",children:"Så här ser testet ut:"}),j.jsx("div",{className:"image-container",children:j.jsx("img",{src:"/images/TestShip_infobild.jpg",alt:"Testbild",className:"test-image"})}),j.jsx("h2",{className:"section-title",children:"Innan du börjar testet:"}),j.jsxs("ul",{className:"start-list",children:[j.jsx("li",{children:"Se till att ha samma ljudnivå på datorn för alla testerna."}),j.jsx("li",{children:"Använd hörlurar för att säkerställa att du hör ljudmiljöerna tydligt."}),j.jsx("li",{children:"Välj en lugn miljö för att minimera störningar utanför själva testet."}),j.jsx("li",{children:"Fokusera på att vara snabb, men noggrann!"})]}),j.jsx("h2",{className:"section-title",children:"Testa ljudvolym"}),j.jsx("p",{children:"Lyssna på ljuden nedan, och hitta ett bekvämt volymläge."}),j.jsxs("div",{className:"audio-player",children:[j.jsx("audio",{ref:t,src:"/public/sounds/testsound.mp3"}),j.jsx("button",{className:"starttest-button",onClick:i,children:n?"⏸ Pausa ljud":"▶ Spela upp ljud"})]}),j.jsx("div",{className:"button-container",children:j.jsx("button",{className:"starttest-button",onClick:e,children:"Starta testet"})})]})}function rP(){const e=Ya(),t=()=>{e("/login")};return j.jsx(nP,{onNavigateToLogin:t})}function iP({formData:e,onChange:t,onSubmit:n}){return L.useEffect(()=>{document.querySelectorAll(".user-input").forEach(i=>{const o=()=>{i.value.trim()!==""?i.classList.add("filled"):i.classList.remove("filled")};return i.addEventListener("input",o),o(),()=>{i.removeEventListener("input",o)}})},[]),j.jsx("div",{className:"modal-overlay",children:j.jsxs("div",{className:"modal-content",children:[j.jsx("h2",{children:"Fyll i dina uppgifter"}),j.jsxs("form",{onSubmit:n,children:[j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"fullName",children:"Fullständigt namn:"}),j.jsx("input",{id:"fullName",name:"fullName",type:"text",value:e.fullName,onChange:t,className:"user-input"})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"gender",children:"Kön:"}),j.jsxs("select",{id:"gender",name:"gender",value:e.gender,onChange:t,className:"user-input",children:[j.jsx("option",{value:"",children:"Välj kön"}),j.jsx("option",{value:"Kvinna",children:"Kvinna"}),j.jsx("option",{value:"Man",children:"Man"}),j.jsx("option",{value:"Övrigt",children:"Övrigt"})]})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"age",children:"Ålder:"}),j.jsx("input",{id:"age",name:"age",type:"number",value:e.age,onChange:t,className:"user-input"})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"year",children:"Läsår på KTH:"}),j.jsxs("select",{id:"year",name:"year",value:e.year,onChange:t,className:"user-input",children:[j.jsx("option",{value:"",children:"Välj år"}),[1,2,3,4,5].map(r=>j.jsx("option",{value:r,children:r},r))]})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"program",children:"Program på KTH:"}),j.jsx("input",{id:"program",name:"program",type:"text",value:e.program,onChange:t,className:"user-input"})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"email",children:"E-postadress:"}),j.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:t,className:"user-input"})]}),j.jsx("button",{type:"submit",className:"login-button",children:"Vidare till testet"})]})]})})}function oP({model:e}){const[t,n]=L.useState({fullName:"",gender:"",age:"",year:"",program:"",email:""}),r=Ya(),i=s=>{const{name:l,value:u}=s.target;n(c=>({...c,[l]:u}))},o=s=>{if(s.preventDefault(),Object.values(t).some(l=>!l)){alert("Please fill in all fields.");return}e.userData=t,r("/test/1")};return j.jsx(iP,{formData:t,onChange:i,onSubmit:o})}function me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var sP={};function Gc(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:sP}var Cw=Object.assign,rc=Object.getOwnPropertyDescriptor,er=Object.defineProperty,Za=Object.prototype,ld=[];Object.freeze(ld);var bw={};Object.freeze(bw);var aP=typeof Proxy<"u",lP=Object.toString();function xw(){aP||me("Proxy not available")}function kw(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Uo=function(){};function Un(e){return typeof e=="function"}function Yi(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Wc(e){return e!==null&&typeof e=="object"}function Pr(e){if(!Wc(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===lP}function Ow(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function el(e,t,n){er(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Dw(e,t,n){er(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Si(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Wc(r)&&r[n]===!0}}function gs(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function uP(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function mr(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Nw=typeof Object.getOwnPropertySymbols<"u";function cP(e){var t=Object.keys(e);if(!Nw)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Za.propertyIsEnumerable.call(e,r)})):t}var rs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Nw?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Vw(e){return e===null?null:typeof e=="object"?""+e:e}function wr(e,t){return Za.hasOwnProperty.call(e,t)}var fP=Object.getOwnPropertyDescriptors||function(t){var n={};return rs(t).forEach(function(r){n[r]=rc(t,r)}),n};function Qt(e,t){return!!(e&t)}function Xt(e,t,n){return n?e|=t:e&=~t,e}function Mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dP(r.key),r)}}function vs(e,t,n){return t&&Fv(e.prototype,t),n&&Fv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $o(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=pP(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji.apply(null,arguments)}function Lw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ud(e,t)}function ud(e,t){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ud(e,t)}function hP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dP(e){var t=hP(e,"string");return typeof t=="symbol"?t:t+""}function pP(e,t){if(e){if(typeof e=="string")return Mv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mv(e,t):void 0}}var Xn=Symbol("mobx-stored-annotations");function tr(e){function t(n,r){if(nl(r))return e.decorate_20223_(n,r);tl(n,r,e)}return Object.assign(t,e)}function tl(e,t,n){wr(e,Xn)||el(e,Xn,Ji({},e[Xn])),TP(n)||(e[Xn][t]=n)}function mP(e){return wr(e,Xn)||el(e,Xn,Ji({},e[Xn])),e[Xn]}function nl(e){return typeof e=="object"&&typeof e.kind=="string"}var ie=Symbol("mobx administration"),Ti=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=ye.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Jw(this)},t.reportChanged=function(){pn(),Zw(this),mn()},t.toString=function(){return this.name_},vs(e,[{key:"isBeingObserved",get:function(){return Qt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Qt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Qt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Xt(this.flags_,e.diffValueMask_,r===1)}}])}();Ti.isBeingObservedMask_=1;Ti.isPendingUnobservationMask_=2;Ti.diffValueMask_=4;var zp=Si("Atom",Ti);function Mw(e,t,n){t===void 0&&(t=Uo),n===void 0&&(n=Uo);var r=new Ti(e);return t!==Uo&&CC(r,t),n!==Uo&&iE(r,n),r}function gP(e,t){return e===t}function vP(e,t){return Yp(e,t)}function yP(e,t){return Yp(e,t,1)}function _P(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ic={identity:gP,structural:vP,default:_P,shallow:yP};function Zi(e,t,n){return qp(e)?e:Array.isArray(e)?rt.array(e,{name:n}):Pr(e)?rt.object(e,void 0,{name:n}):gs(e)?rt.map(e,{name:n}):mr(e)?rt.set(e,{name:n}):typeof e=="function"&&!La(e)&&!Ma(e)?Ow(e)?is(e):Va(n,e):e}function wP(e,t,n){if(e==null||os(e)||al(e)||Ai(e)||kn(e))return e;if(Array.isArray(e))return rt.array(e,{name:n,deep:!1});if(Pr(e))return rt.object(e,void 0,{name:n,deep:!1});if(gs(e))return rt.map(e,{name:n,deep:!1});if(mr(e))return rt.set(e,{name:n,deep:!1})}function qc(e){return e}function EP(e,t){return Yp(e,t)?t:e}var SP="override";function TP(e){return e.annotationType_===SP}function rl(e,t){return{annotationType_:e,options_:t,make_:AP,extend_:IP,decorate_20223_:RP}}function AP(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(La(n.value))return 1;var o=Fw(e,this,t,n,!1);return er(r,t,o),2}function IP(e,t,n,r){var i=Fw(e,this,t,n);return e.defineProperty_(t,i,r)}function RP(e,t){var n=t.kind,r=t.name,i=t.addInitializer,o=this,s=function(c){var d,p,m,_;return eo((d=(p=o.options_)==null?void 0:p.name)!=null?d:r.toString(),c,(m=(_=o.options_)==null?void 0:_.autoAction)!=null?m:!1)};if(n=="field")return function(u){var c,d=u;return La(d)||(d=s(d)),(c=o.options_)!=null&&c.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var l;return La(e)||(e=s(e)),(l=this.options_)!=null&&l.bound&&i(function(){var u=this,c=u[r].bind(u);c.isMobxAction=!0,u[r]=c}),e}me("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function PP(e,t,n,r){t.annotationType_,r.value}function Fw(e,t,n,r,i){var o,s,l,u,c,d,p;i===void 0&&(i=W.safeDescriptors),PP(e,t,n,r);var m=r.value;if((o=t.options_)!=null&&o.bound){var _;m=m.bind((_=e.proxy_)!=null?_:e.target_)}return{value:eo((s=(l=t.options_)==null?void 0:l.name)!=null?s:n.toString(),m,(u=(c=t.options_)==null?void 0:c.autoAction)!=null?u:!1,(d=t.options_)!=null&&d.bound?(p=e.proxy_)!=null?p:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function jw(e,t){return{annotationType_:e,options_:t,make_:CP,extend_:bP,decorate_20223_:xP}}function CP(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!wr(e.target_,t)||!Ma(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Ma(n.value))return 1;var o=Uw(e,this,t,n,!1,!1);return er(r,t,o),2}function bP(e,t,n,r){var i,o=Uw(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,o,r)}function xP(e,t){var n,r=t.name,i=t.addInitializer;return Ma(e)||(e=is(e)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,s=o[r].bind(o);s.isMobXFlow=!0,o[r]=s}),e}function kP(e,t,n,r){t.annotationType_,r.value}function Uw(e,t,n,r,i,o){o===void 0&&(o=W.safeDescriptors),kP(e,t,n,r);var s=r.value;if(Ma(s)||(s=is(s)),i){var l;s=s.bind((l=e.proxy_)!=null?l:e.target_),s.isMobXFlow=!0}return{value:s,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Hp(e,t){return{annotationType_:e,options_:t,make_:OP,extend_:DP,decorate_20223_:NP}}function OP(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function DP(e,t,n,r){return VP(e,this,t,n),e.defineComputedProperty_(t,Ji({},this.options_,{get:n.get,set:n.set}),r)}function NP(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var o=po(this)[ie],s=Ji({},n.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+r.toString()),o.values_.set(r,new $n(s))}),function(){return this[ie].getObservablePropValue_(r)}}function VP(e,t,n,r){t.annotationType_,r.get}function Qc(e,t){return{annotationType_:e,options_:t,make_:LP,extend_:MP,decorate_20223_:FP}}function LP(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function MP(e,t,n,r){var i,o;return jP(e,this),e.defineObservableProperty_(t,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:Zi,r)}function FP(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function s(l,u){var c,d,p=po(l)[ie],m=new li(u,(c=(d=n.options_)==null?void 0:d.enhancer)!=null?c:Zi,"ObservableObject."+i.toString(),!1);p.values_.set(i,m),o.add(l)}if(r=="accessor")return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[ie].getObservablePropValue_(i)},set:function(u){return o.has(this)||s(this,u),this[ie].setObservablePropValue_(i,u)},init:function(u){return o.has(this)||s(this,u),u}}}function jP(e,t,n,r){t.annotationType_}var UP="true",$P=$w();function $w(e){return{annotationType_:UP,options_:e,make_:BP,extend_:zP,decorate_20223_:HP}}function BP(e,t,n,r){var i,o;if(n.get)return Xc.make_(e,t,n,r);if(n.set){var s=eo(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:W.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(er(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&typeof n.value=="function"){var l;if(Ow(n.value)){var u,c=(u=this.options_)!=null&&u.autoBind?is.bound:is;return c.make_(e,t,n,r)}var d=(l=this.options_)!=null&&l.autoBind?Va.bound:Va;return d.make_(e,t,n,r)}var p=((i=this.options_)==null?void 0:i.deep)===!1?rt.ref:rt;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var m;n.value=n.value.bind((m=e.proxy_)!=null?m:e.target_)}return p.make_(e,t,n,r)}function zP(e,t,n,r){var i,o;if(n.get)return Xc.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:W.safeDescriptors?e.isPlainObject_:!0,set:eo(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var s;n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)}var l=((o=this.options_)==null?void 0:o.deep)===!1?rt.ref:rt;return l.extend_(e,t,n,r)}function HP(e,t){me("'"+this.annotationType_+"' cannot be used as a decorator")}var KP="observable",GP="observable.ref",WP="observable.shallow",qP="observable.struct",Bw={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Bw);function Zl(e){return e||Bw}var cd=Qc(KP),QP=Qc(GP,{enhancer:qc}),XP=Qc(WP,{enhancer:wP}),YP=Qc(qP,{enhancer:EP}),zw=tr(cd);function eu(e){return e.deep===!0?Zi:e.deep===!1?qc:ZP(e.defaultDecorator)}function JP(e){var t;return e?(t=e.defaultDecorator)!=null?t:$w(e):void 0}function ZP(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Zi}function Hw(e,t,n){if(nl(t))return cd.decorate_20223_(e,t);if(Yi(t)){tl(e,t,cd);return}return qp(e)?e:Pr(e)?rt.object(e,t,n):Array.isArray(e)?rt.array(e,t):gs(e)?rt.map(e,t):mr(e)?rt.set(e,t):typeof e=="object"&&e!==null?e:rt.box(e,t)}Cw(Hw,zw);var eC={box:function(t,n){var r=Zl(n);return new li(t,eu(r),r.name,!0,r.equals)},array:function(t,n){var r=Zl(n);return(W.useProxies===!1||r.proxy===!1?eb:HC)(t,eu(r),r.name)},map:function(t,n){var r=Zl(n);return new fE(t,eu(r),r.name)},set:function(t,n){var r=Zl(n);return new hE(t,eu(r),r.name)},object:function(t,n,r){return Ii(function(){return aE(W.useProxies===!1||(r==null?void 0:r.proxy)===!1?po({},r):jC({},r),t,n)})},ref:tr(QP),shallow:tr(XP),deep:zw,struct:tr(YP)},rt=Cw(Hw,eC),Kw="computed",tC="computed.struct",fd=Hp(Kw),nC=Hp(tC,{equals:ic.structural}),Xc=function(t,n){if(nl(n))return fd.decorate_20223_(t,n);if(Yi(n))return tl(t,n,fd);if(Pr(t))return tr(Hp(Kw,t));var r=Pr(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new $n(r)};Object.assign(Xc,fd);Xc.struct=tr(nC);var jv,Uv,oc=0,rC=1,iC=(jv=(Uv=rc(function(){},"name"))==null?void 0:Uv.configurable)!=null?jv:!1,$v={value:"action",configurable:!0,writable:!1,enumerable:!1};function eo(e,t,n,r){n===void 0&&(n=!1);function i(){return oC(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},iC&&($v.value=e,er(i,"name",$v)),i}function oC(e,t,n,r,i){var o=sC(e,t);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{aC(o)}}function sC(e,t,n,r){var i=!1,o=0,s=W.trackingDerivation,l=!t||!s;pn();var u=W.allowStateChanges;l&&(ho(),u=Kp(!0));var c=Wp(!0),d={runAsAction_:l,prevDerivation_:s,prevAllowStateChanges_:u,prevAllowStateReads_:c,notifySpy_:i,startTime_:o,actionId_:rC++,parentActionId_:oc};return oc=d.actionId_,d}function aC(e){oc!==e.actionId_&&me(30),oc=e.parentActionId_,e.error_!==void 0&&(W.suppressReactionErrors=!0),Gp(e.prevAllowStateChanges_),ca(e.prevAllowStateReads_),mn(),e.runAsAction_&&Er(e.prevDerivation_),W.suppressReactionErrors=!1}function Kp(e){var t=W.allowStateChanges;return W.allowStateChanges=e,t}function Gp(e){W.allowStateChanges=e}var li=function(e){function t(r,i,o,s,l){var u;return o===void 0&&(o="ObservableValue"),l===void 0&&(l=ic.default),u=e.call(this,o)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=o,u.equals=l,u.value_=i(r,void 0,o),u}Lw(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==W.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(fn(this)){var o=hn(this,{object:this,type:nr,newValue:i});if(!o)return W.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?W.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),Ln(this)&&Mn(this,{type:nr,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return ol(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:nr,newValue:this.value_,oldValue:void 0}),sl(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Vw(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Ti),lC=Si("ObservableValue",li),$n=function(){function e(n){this.dependenciesState_=ye.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ye.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new ac(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=sc.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||me(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=eo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?ic.structural:ic.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){dC(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&me(32,this.name_,this.derivation),W.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)hd(this)&&(this.warnAboutUntrackedRead_(),pn(),this.value_=this.computeValue_(!1),mn());else if(Jw(this),hd(this)){var r=W.trackingContext;this.keepAlive_&&!r&&(W.trackingContext=this),this.trackAndCompute()&&hC(this),W.trackingContext=r}var i=this.value_;if(Tu(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&me(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else me(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===ye.NOT_TRACKING_,o=this.computeValue_(!0),s=i||Tu(r)||Tu(o)||!this.equals_(r,o);return s&&(this.value_=o),s},t.computeValue_=function(r){this.isComputing=!0;var i=Kp(!1),o;if(r)o=Gw(this,this.derivation,this.scope_);else if(W.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(s){o=new ac(s)}return Gp(i),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(dd(this),this.value_=void 0)},t.observe_=function(r,i){var o=this,s=!0,l=void 0;return TC(function(){var u=o.get();if(!s||i){var c=ho();r({observableKind:"computed",debugObjectName:o.name_,type:nr,object:o,newValue:u,oldValue:l}),Er(c)}s=!1,l=u})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Vw(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},vs(e,[{key:"isComputing",get:function(){return Qt(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Qt(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Qt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Qt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Qt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Xt(this.flags_,e.diffValueMask_,r===1)}}])}();$n.isComputingMask_=1;$n.isRunningSetterMask_=2;$n.isBeingObservedMask_=4;$n.isPendingUnobservationMask_=8;$n.diffValueMask_=16;var il=Si("ComputedValue",$n),ye;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(ye||(ye={}));var sc;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(sc||(sc={}));var ac=function(t){this.cause=void 0,this.cause=t};function Tu(e){return e instanceof ac}function hd(e){switch(e.dependenciesState_){case ye.UP_TO_DATE_:return!1;case ye.NOT_TRACKING_:case ye.STALE_:return!0;case ye.POSSIBLY_STALE_:{for(var t=Wp(!0),n=ho(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(il(s)){if(W.disableErrorBoundaries)s.get();else try{s.get()}catch{return Er(n),ca(t),!0}if(e.dependenciesState_===ye.STALE_)return Er(n),ca(t),!0}}return qw(e),Er(n),ca(t),!1}}}function Gw(e,t,n){var r=Wp(!0);qw(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++W.runId;var i=W.trackingDerivation;W.trackingDerivation=e,W.inBatch++;var o;if(W.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(s){o=new ac(s)}return W.inBatch--,W.trackingDerivation=i,uC(e),ca(r),o}function uC(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ye.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var l=n[s];l.diffValue===0&&(l.diffValue=1,i!==s&&(n[i]=l),i++),l.dependenciesState_>r&&(r=l.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var u=t[o];u.diffValue===0&&Xw(u,e),u.diffValue=0}for(;i--;){var c=n[i];c.diffValue===1&&(c.diffValue=0,fC(c,e))}r!==ye.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function dd(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Xw(t[n],e);e.dependenciesState_=ye.NOT_TRACKING_}function Ww(e){var t=ho();try{return e()}finally{Er(t)}}function ho(){var e=W.trackingDerivation;return W.trackingDerivation=null,e}function Er(e){W.trackingDerivation=e}function Wp(e){var t=W.allowStateReads;return W.allowStateReads=e,t}function ca(e){W.allowStateReads=e}function qw(e){if(e.dependenciesState_!==ye.UP_TO_DATE_){e.dependenciesState_=ye.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ye.UP_TO_DATE_}}var Au=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Iu=!0,Qw=!1,W=function(){var e=Gc();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Iu=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Au().version&&(Iu=!1),Iu?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Au):(setTimeout(function(){Qw||me(35)},1),new Au)}();function cC(){if((W.pendingReactions.length||W.inBatch||W.isRunningReactions)&&me(36),Qw=!0,Iu){var e=Gc();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),W=new Au}}function fC(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Xw(e,t){e.observers_.delete(t),e.observers_.size===0&&Yw(e)}function Yw(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,W.pendingUnobservations.push(e))}function pn(){W.inBatch++}function mn(){if(--W.inBatch===0){eE();for(var e=W.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof $n&&n.suspend_())}W.pendingUnobservations=[]}}function Jw(e){var t=W.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&W.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&W.inBatch>0&&Yw(e),!1)}function Zw(e){e.lowestObserverState_!==ye.STALE_&&(e.lowestObserverState_=ye.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ye.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=ye.STALE_}))}function hC(e){e.lowestObserverState_!==ye.STALE_&&(e.lowestObserverState_=ye.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ye.POSSIBLY_STALE_?t.dependenciesState_=ye.STALE_:t.dependenciesState_===ye.UP_TO_DATE_&&(e.lowestObserverState_=ye.UP_TO_DATE_)}))}function dC(e){e.lowestObserverState_===ye.UP_TO_DATE_&&(e.lowestObserverState_=ye.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ye.UP_TO_DATE_&&(t.dependenciesState_=ye.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Cr=function(){function e(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ye.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=sc.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,W.pendingReactions.push(this),eE())},t.runReaction_=function(){if(!this.isDisposed){pn(),this.isScheduled=!1;var r=W.trackingContext;if(W.trackingContext=this,hd(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}W.trackingContext=r,mn()}},t.track=function(r){if(!this.isDisposed){pn(),this.isRunning=!0;var i=W.trackingContext;W.trackingContext=this;var o=Gw(this,r,void 0);W.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&dd(this),Tu(o)&&this.reportExceptionInDerivation_(o.cause),mn()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(W.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";W.suppressReactionErrors||console.error(o,r),W.globalReactionErrorHandlers.forEach(function(s){return s(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(pn(),dd(this),mn()))},t.getDisposer_=function(r){var i=this,o=function s(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[ie]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},vs(e,[{key:"isDisposed",get:function(){return Qt(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Qt(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Qt(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Qt(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Xt(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Qt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Xt(this.flags_,e.diffValueMask_,r===1)}}])}();Cr.isDisposedMask_=1;Cr.isScheduledMask_=2;Cr.isTrackPendingMask_=4;Cr.isRunningMask_=8;Cr.diffValueMask_=16;var pC=100,pd=function(t){return t()};function eE(){W.inBatch>0||W.isRunningReactions||pd(mC)}function mC(){W.isRunningReactions=!0;for(var e=W.pendingReactions,t=0;e.length>0;){++t===pC&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}W.isRunningReactions=!1}var lc=Si("Reaction",Cr);function gC(e){var t=pd;pd=function(r){return e(function(){return t(r)})}}function fa(){return!1}function vC(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var tE="action",yC="action.bound",nE="autoAction",_C="autoAction.bound",wC="<unnamed action>",md=rl(tE),EC=rl(yC,{bound:!0}),gd=rl(nE,{autoAction:!0}),SC=rl(_C,{autoAction:!0,bound:!0});function rE(e){var t=function(r,i){if(Un(r))return eo(r.name||wC,r,e);if(Un(i))return eo(r,i,e);if(nl(i))return(e?gd:md).decorate_20223_(r,i);if(Yi(i))return tl(r,i,e?gd:md);if(Yi(r))return tr(rl(e?nE:tE,{name:r,autoAction:e}))};return t}var Bo=rE(!1);Object.assign(Bo,md);var Va=rE(!0);Object.assign(Va,gd);Bo.bound=tr(EC);Va.bound=tr(SC);function La(e){return Un(e)&&e.isMobxAction===!0}function TC(e,t){var n,r,i,o;t===void 0&&(t=bw);var s=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,u;if(l)u=new Cr(s,function(){this.track(p)},t.onError,t.requiresObservable);else{var c=IC(t),d=!1;u=new Cr(s,function(){d||(d=!0,c(function(){d=!1,u.isDisposed||u.track(p)}))},t.onError,t.requiresObservable)}function p(){e(u)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||u.schedule_(),u.getDisposer_((o=t)==null?void 0:o.signal)}var AC=function(t){return t()};function IC(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:AC}var RC="onBO",PC="onBUO";function CC(e,t,n){return oE(RC,e,t,n)}function iE(e,t,n){return oE(PC,e,t,n)}function oE(e,t,n,r){var i=typeof r=="function"?ss(t,n):ss(t),o=Un(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var l=i[s];l&&(l.delete(o),l.size===0&&delete i[s])}}var bC="never",tu="always",xC="observed";function sE(e){e.isolateGlobalState===!0&&cC();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(W.useProxies=t===tu?!0:t===bC?!1:typeof Proxy<"u"),t==="ifavailable"&&(W.verifyProxies=!0),n!==void 0){var r=n===tu?tu:n===xC;W.enforceActions=r,W.allowStateChanges=!(r===!0||r===tu)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(W[i]=!!e[i])}),W.allowStateReads=!W.observableRequiresReaction,e.reactionScheduler&&gC(e.reactionScheduler)}function aE(e,t,n,r){var i=fP(t);return Ii(function(){var o=po(e,r)[ie];rs(i).forEach(function(s){o.extend_(s,i[s],n&&s in n?n[s]:!0)})}),e}function kC(e,t){return lE(ss(e,t))}function lE(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=OC(e.observing_).map(lE)),t}function OC(e){return Array.from(new Set(e))}var DC=0;function uE(){this.message="FLOW_CANCELLED"}uE.prototype=Object.create(Error.prototype);var qf=jw("flow"),NC=jw("flow.bound",{bound:!0}),is=Object.assign(function(t,n){if(nl(n))return qf.decorate_20223_(t,n);if(Yi(n))return tl(t,n,qf);var r=t,i=r.name||"<unnamed flow>",o=function(){var l=this,u=arguments,c=++DC,d=Bo(i+" - runid: "+c+" - init",r).apply(l,u),p,m=void 0,_=new Promise(function(C,x){var N=0;p=x;function w(V){m=void 0;var R;try{R=Bo(i+" - runid: "+c+" - yield "+N++,d.next).call(d,V)}catch(U){return x(U)}T(R)}function y(V){m=void 0;var R;try{R=Bo(i+" - runid: "+c+" - yield "+N++,d.throw).call(d,V)}catch(U){return x(U)}T(R)}function T(V){if(Un(V==null?void 0:V.then)){V.then(T,x);return}return V.done?C(V.value):(m=Promise.resolve(V.value),m.then(w,y))}w(void 0)});return _.cancel=Bo(i+" - runid: "+c+" - cancel",function(){try{m&&Bv(m);var C=d.return(void 0),x=Promise.resolve(C.value);x.then(Uo,Uo),Bv(x),p(new uE)}catch(N){p(N)}}),_};return o.isMobXFlow=!0,o},qf);is.bound=tr(NC);function Bv(e){Un(e.cancel)&&e.cancel()}function Ma(e){return(e==null?void 0:e.isMobXFlow)===!0}function VC(e,t){return e?t!==void 0?os(e)?e[ie].values_.has(t):!1:os(e)||!!e[ie]||zp(e)||lc(e)||il(e):!1}function qp(e){return VC(e)}function LC(e){if(os(e))return e[ie].ownKeys_();me(38)}function nu(e,t,n){return e.set(t,n),n}function Io(e,t){if(e==null||typeof e!="object"||e instanceof Date||!qp(e))return e;if(lC(e)||il(e))return Io(e.get(),t);if(t.has(e))return t.get(e);if(al(e)){var n=nu(t,e,new Array(e.length));return e.forEach(function(s,l){n[l]=Io(s,t)}),n}if(kn(e)){var r=nu(t,e,new Set);return e.forEach(function(s){r.add(Io(s,t))}),r}if(Ai(e)){var i=nu(t,e,new Map);return e.forEach(function(s,l){i.set(l,Io(s,t))}),i}else{var o=nu(t,e,{});return LC(e).forEach(function(s){Za.propertyIsEnumerable.call(e,s)&&(o[s]=Io(e[s],t))}),o}}function MC(e,t){return Io(e,new Map)}function gr(e,t){t===void 0&&(t=void 0),pn();try{return e.apply(t)}finally{mn()}}function Ao(e){return e[ie]}var FC={has:function(t,n){return Ao(t).has_(n)},get:function(t,n){return Ao(t).get_(n)},set:function(t,n,r){var i;return Yi(n)?(i=Ao(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return Yi(n)?(r=Ao(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=Ao(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return Ao(t).ownKeys_()},preventExtensions:function(t){me(13)}};function jC(e,t){var n,r;return xw(),e=po(e,t),(r=(n=e[ie]).proxy_)!=null?r:n.proxy_=new Proxy(e,FC)}function fn(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function ol(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),kw(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function hn(e,t){var n=ho();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&(t=r[i](t),t&&!t.type&&me(14),!!t);i++);return t}finally{Er(n)}}function Ln(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function sl(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),kw(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Mn(e,t){var n=ho(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](t);Er(n)}}function UC(e,t,n){return Ii(function(){var r,i=po(e,n)[ie];(r=t)!=null||(t=mP(e)),rs(t).forEach(function(o){return i.make_(o,t[o])})}),e}var Qf=Symbol("mobx-keys");function $C(e,t,n){return Pr(e)?aE(e,e,t,n):(Ii(function(){var r=po(e,n)[ie];if(!e[Qf]){var i=Object.getPrototypeOf(e),o=new Set([].concat(rs(e),rs(i)));o.delete("constructor"),o.delete(ie),el(i,Qf,o)}e[Qf].forEach(function(s){return r.make_(s,t&&s in t?t[s]:!0)})}),e)}var zv="splice",nr="update",BC=1e4,zC={get:function(t,n){var r=t[ie];return n===ie?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):wr(uc,n)?uc[n]:t[n]},set:function(t,n,r){var i=t[ie];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){me(15)}},Qp=function(){function e(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new Ti(n),this.enhancer_=function(s,l){return r(s,l,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return ol(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),sl(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&me("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),s=0;s<r-i;s++)o[s]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&me(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&gE(r+i+1)},t.spliceWithArray_=function(r,i,o){var s=this;this.atom_;var l=this.values_.length;if(r===void 0?r=0:r>l?r=l:r<0&&(r=Math.max(0,l+r)),arguments.length===1?i=l-r:i==null?i=0:i=Math.max(0,Math.min(i,l-r)),o===void 0&&(o=ld),fn(this)){var u=hn(this,{object:this.proxy_,type:zv,index:r,removedCount:i,added:o});if(!u)return ld;i=u.removedCount,o=u.added}if(o=o.length===0?o:o.map(function(p){return s.enhancer_(p,void 0)}),this.legacyMode_){var c=o.length-i;this.updateArrayLength_(l,c)}var d=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,i,o){if(o.length<BC){var s;return(s=this.values_).splice.apply(s,[r,i].concat(o))}else{var l=this.values_.slice(r,r+i),u=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var c=0;c<o.length;c++)this.values_[r+c]=o[c];for(var d=0;d<u.length;d++)this.values_[r+o.length+d]=u[d];return l}},t.notifyArrayChildUpdate_=function(r,i,o){var s=!this.owned_&&fa(),l=Ln(this),u=l||s?{observableKind:"array",object:this.proxy_,type:nr,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),l&&Mn(this,u)},t.notifyArraySplice_=function(r,i,o){var s=!this.owned_&&fa(),l=Ln(this),u=l||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:zv,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),l&&Mn(this,u)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&me(17,r,o.length),r<o.length){this.atom_;var s=o[r];if(fn(this)){var l=hn(this,{type:nr,object:this.proxy_,index:r,newValue:i});if(!l)return;i=l.newValue}i=this.enhancer_(i,s);var u=i!==s;u&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,s))}else{for(var c=new Array(r+1-o.length),d=0;d<c.length-1;d++)c[d]=void 0;c[c.length-1]=i,this.spliceWithArray_(o.length,0,c)}},e}();function HC(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),xw(),Ii(function(){var i=new Qp(n,t,r,!1);Dw(i.values_,ie,i);var o=new Proxy(i.values_,zC);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var uc={clear:function(){return this.splice(0)},replace:function(t){var n=this[ie];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=this[ie];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,n)}return s.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[ie].spliceWithArray_(t,n,r)},push:function(){for(var t=this[ie],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[ie].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[ie],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return W.trackingDerivation&&me(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){W.trackingDerivation&&me(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[ie],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};ke("at",rn);ke("concat",rn);ke("flat",rn);ke("includes",rn);ke("indexOf",rn);ke("join",rn);ke("lastIndexOf",rn);ke("slice",rn);ke("toString",rn);ke("toLocaleString",rn);ke("toSorted",rn);ke("toSpliced",rn);ke("with",rn);ke("every",Bn);ke("filter",Bn);ke("find",Bn);ke("findIndex",Bn);ke("findLast",Bn);ke("findLastIndex",Bn);ke("flatMap",Bn);ke("forEach",Bn);ke("map",Bn);ke("some",Bn);ke("toReversed",Bn);ke("reduce",cE);ke("reduceRight",cE);function ke(e,t){typeof Array.prototype[e]=="function"&&(uc[e]=t(e))}function rn(e){return function(){var t=this[ie];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Bn(e){return function(t,n){var r=this,i=this[ie];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[e](function(s,l){return t.call(n,s,l,r)})}}function cE(e){return function(){var t=this,n=this[ie];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,s,l){return i(o,s,l,t)},r[e].apply(r,arguments)}}var KC=Si("ObservableArrayAdministration",Qp);function al(e){return Wc(e)&&KC(e[ie])}var GC={},Zr="add",cc="delete",fE=function(){function e(n,r,i){var o=this;r===void 0&&(r=Zi),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ie]=GC,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Un(Map)||me(18),Ii(function(){o.keysAtom_=Mw("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!W.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var s=o=new li(this.has_(r),qc,"ObservableMap.key?",!1);this.hasMap_.set(r,s),iE(s,function(){return i.hasMap_.delete(r)})}return o.get()},t.set=function(r,i){var o=this.has_(r);if(fn(this)){var s=hn(this,{type:o?nr:Zr,object:this,newValue:i,name:r});if(!s)return this;i=s.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,fn(this)){var o=hn(this,{type:cc,object:this,name:r});if(!o)return!1}if(this.has_(r)){var s=fa(),l=Ln(this),u=l||s?{observableKind:"map",debugObjectName:this.name_,type:cc,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return gr(function(){var c;i.keysAtom_.reportChanged(),(c=i.hasMap_.get(r))==null||c.setNewValue_(!1);var d=i.data_.get(r);d.setNewValue_(void 0),i.data_.delete(r)}),l&&Mn(this,u),!0}return!1},t.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==W.UNCHANGED){var s=fa(),l=Ln(this),u=l||s?{observableKind:"map",debugObjectName:this.name_,type:nr,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),l&&Mn(this,u)}},t.addValue_=function(r,i){var o=this;this.keysAtom_,gr(function(){var c,d=new li(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,d),i=d.value_,(c=o.hasMap_.get(r))==null||c.setNewValue_(!0),o.keysAtom_.reportChanged()});var s=fa(),l=Ln(this),u=l||s?{observableKind:"map",debugObjectName:this.name_,type:Zr,object:this,name:r,newValue:i}:null;l&&Mn(this,u)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return Hv({next:function(){var s=i.next(),l=s.done,u=s.value;return{done:l,value:l?void 0:r.get(u)}}})},t.entries=function(){var r=this,i=this.keys();return Hv({next:function(){var s=i.next(),l=s.done,u=s.value;return{done:l,value:l?void 0:[u,r.get(u)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var o=$o(this),s;!(s=o()).done;){var l=s.value,u=l[0],c=l[1];r.call(i,c,u,this)}},t.merge=function(r){var i=this;return Ai(r)&&(r=new Map(r)),gr(function(){Pr(r)?cP(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var s=o[0],l=o[1];return i.set(s,l)}):gs(r)?(uP(r)||me(19,r),r.forEach(function(o,s){return i.set(s,o)})):r!=null&&me(20,r)}),this},t.clear=function(){var r=this;gr(function(){Ww(function(){for(var i=$o(r.keys()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},t.replace=function(r){var i=this;return gr(function(){for(var o=WC(r),s=new Map,l=!1,u=$o(i.data_.keys()),c;!(c=u()).done;){var d=c.value;if(!o.has(d)){var p=i.delete(d);if(p)l=!0;else{var m=i.data_.get(d);s.set(d,m)}}}for(var _=$o(o.entries()),C;!(C=_()).done;){var x=C.value,N=x[0],w=x[1],y=i.data_.has(N);if(i.set(N,w),i.data_.has(N)){var T=i.data_.get(N);s.set(N,T),y||(l=!0)}}if(!l)if(i.data_.size!==s.size)i.keysAtom_.reportChanged();else for(var V=i.data_.keys(),R=s.keys(),U=V.next(),S=R.next();!U.done;){if(U.value!==S.value){i.keysAtom_.reportChanged();break}U=V.next(),S=R.next()}i.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return sl(this,r)},t.intercept_=function(r){return ol(this,r)},vs(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Ai=Si("ObservableMap",fE);function Hv(e){return e[Symbol.toStringTag]="MapIterator",Jp(e)}function WC(e){if(gs(e)||Ai(e))return e;if(Array.isArray(e))return new Map(e);if(Pr(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return me(21,e)}var qC={},hE=function(){function e(n,r,i){var o=this;r===void 0&&(r=Zi),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[ie]=qC,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Un(Set)||me(22),this.enhancer_=function(s,l){return r(s,l,i)},Ii(function(){o.atom_=Mw(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;gr(function(){Ww(function(){for(var i=$o(r.data_.values()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},t.forEach=function(r,i){for(var o=$o(this),s;!(s=o()).done;){var l=s.value;r.call(i,l,l,this)}},t.add=function(r){var i=this;if(this.atom_,fn(this)){var o=hn(this,{type:Zr,object:this,newValue:r});if(!o)return this}if(!this.has(r)){gr(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var s=!1,l=Ln(this),u=l||s?{observableKind:"set",debugObjectName:this.name_,type:Zr,object:this,newValue:r}:null;l&&Mn(this,u)}return this},t.delete=function(r){var i=this;if(fn(this)){var o=hn(this,{type:cc,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var s=!1,l=Ln(this),u=l||s?{observableKind:"set",debugObjectName:this.name_,type:cc,object:this,oldValue:r}:null;return gr(function(){i.atom_.reportChanged(),i.data_.delete(r)}),l&&Mn(this,u),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,i=Array.from(this.keys()),o=Array.from(this.values());return Kv({next:function(){var l=r;return r+=1,l<o.length?{value:[i[l],o[l]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=0,o=Array.from(this.data_.values());return Kv({next:function(){return i<o.length?{value:r.dehanceValue_(o[i++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(mr(r)&&!kn(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(mr(r)&&!kn(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(mr(r)&&!kn(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(mr(r)&&!kn(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return kn(r)&&(r=new Set(r)),gr(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):mr(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&me("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return sl(this,r)},t.intercept_=function(r){return ol(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},vs(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),kn=Si("ObservableSet",hE);function Kv(e){return e[Symbol.toStringTag]="SetIterator",Jp(e)}var Gv=Object.create(null),Wv="remove",dE=function(){function e(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=$P),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new Ti("ObservableObject.keys"),this.isPlainObject_=Pr(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof $n)return o.set(i),!0;if(fn(this)){var s=hn(this,{type:nr,object:this.proxy_||this.target_,name:r,newValue:i});if(!s)return null;i=s.newValue}if(i=o.prepareNewValue_(i),i!==W.UNCHANGED){var l=Ln(this),u=!1,c=l||u?{type:nr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),l&&Mn(this,c)}return!0},t.get_=function(r){return W.trackingDerivation&&!wr(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,o){return o===void 0&&(o=!1),wr(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(r){if(!W.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new li(r in this.target_,qc,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Xn])!=null&&o[r])return;me(1,i.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==Za;){var l=rc(s,r);if(l){var u=i.make_(this,r,l,s);if(u===0)return;if(u===1)break}s=Object.getPrototypeOf(s)}Qv(this,i,r)}},t.extend_=function(r,i,o,s){if(s===void 0&&(s=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,s);var l=o.extend_(this,r,i,s);return l&&Qv(this,o,r),l},t.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{pn();var s=this.delete_(r);if(!s)return s;if(fn(this)){var l=hn(this,{object:this.proxy_||this.target_,name:r,type:Zr,newValue:i.value});if(!l)return null;var u=l.newValue;i.value!==u&&(i=Ji({},i,{value:u}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else er(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{mn()}return!0},t.defineObservableProperty_=function(r,i,o,s){s===void 0&&(s=!1),this.keysAtom_;try{pn();var l=this.delete_(r);if(!l)return l;if(fn(this)){var u=hn(this,{object:this.proxy_||this.target_,name:r,type:Zr,newValue:i});if(!u)return null;i=u.newValue}var c=qv(r),d={configurable:W.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,d))return!1}else er(this.target_,r,d);var p=new li(i,o,"ObservableObject.key",!1);this.values_.set(r,p),this.notifyPropertyAddition_(r,p.value_)}finally{mn()}return!0},t.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{pn();var s=this.delete_(r);if(!s)return s;if(fn(this)){var l=hn(this,{object:this.proxy_||this.target_,name:r,type:Zr,newValue:void 0});if(!l)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var u=qv(r),c={configurable:W.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,r,c))return!1}else er(this.target_,r,c);this.values_.set(r,new $n(i)),this.notifyPropertyAddition_(r,void 0)}finally{mn()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!wr(this.target_,r))return!0;if(fn(this)){var o=hn(this,{object:this.proxy_||this.target_,name:r,type:Wv});if(!o)return null}try{var s;pn();var l=Ln(this),u=!1,c=this.values_.get(r),d=void 0;if(!c&&(l||u)){var p;d=(p=rc(this.target_,r))==null?void 0:p.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(c&&(this.values_.delete(r),c instanceof li&&(d=c.value_),Zw(c)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(r in this.target_),l||u){var m={type:Wv,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&Mn(this,m)}}finally{mn()}return!0},t.observe_=function(r,i){return sl(this,r)},t.intercept_=function(r){return ol(this,r)},t.notifyPropertyAddition_=function(r,i){var o,s=Ln(this),l=!1;if(s||l){var u=s||l?{type:Zr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;s&&Mn(this,u)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),rs(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function po(e,t){var n;if(wr(e,ie))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",i=new dE(e,new Map,String(r),JP(t));return el(e,ie,i),e}var QC=Si("ObservableObjectAdministration",dE);function qv(e){return Gv[e]||(Gv[e]={get:function(){return this[ie].getObservablePropValue_(e)},set:function(n){return this[ie].setObservablePropValue_(e,n)}})}function os(e){return Wc(e)?QC(e[ie]):!1}function Qv(e,t,n){var r;(r=e.target_[Xn])==null||delete r[n]}var XC=mE(0),YC=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Xf=0,pE=function(){};function JC(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}JC(pE,Array.prototype);var Xp=function(e){function t(r,i,o,s){var l;return o===void 0&&(o="ObservableArray"),s===void 0&&(s=!1),l=e.call(this)||this,Ii(function(){var u=new Qp(o,i,s,!0);u.proxy_=l,Dw(l,ie,u),r&&r.length&&l.spliceWithArray(0,0,r),YC&&Object.defineProperty(l,"0",XC)}),l}Lw(t,e);var n=t.prototype;return n.concat=function(){this[ie].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),o.map(function(l){return al(l)?l.slice():l}))},n[Symbol.iterator]=function(){var r=this,i=0;return Jp({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},vs(t,[{key:"length",get:function(){return this[ie].getArrayLength_()},set:function(i){this[ie].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(pE);Object.entries(uc).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&el(Xp.prototype,t,n)});function mE(e){return{enumerable:!1,configurable:!0,get:function(){return this[ie].get_(e)},set:function(n){this[ie].set_(e,n)}}}function ZC(e){er(Xp.prototype,""+e,mE(e))}function gE(e){if(e>Xf){for(var t=Xf;t<e+100;t++)ZC(t);Xf=e}}gE(1e3);function eb(e,t,n){return new Xp(e,t,n)}function ss(e,t){if(typeof e=="object"&&e!==null){if(al(e))return t!==void 0&&me(23),e[ie].atom_;if(kn(e))return e.atom_;if(Ai(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||me(25,t,vd(e)),n}if(os(e)){if(!t)return me(26);var r=e[ie].values_.get(t);return r||me(27,t,vd(e)),r}if(zp(e)||il(e)||lc(e))return e}else if(Un(e)&&lc(e[ie]))return e[ie];me(28)}function vE(e,t){if(e||me(29),t!==void 0)return vE(ss(e,t));if(zp(e)||il(e)||lc(e)||Ai(e)||kn(e))return e;if(e[ie])return e[ie];me(24,e)}function vd(e,t){var n;if(t!==void 0)n=ss(e,t);else{if(La(e))return e.name;os(e)||Ai(e)||kn(e)?n=vE(e):n=ss(e)}return n.name_}function Ii(e){var t=ho(),n=Kp(!0);pn();try{return e()}finally{mn(),Gp(n),Er(t)}}var Xv=Za.toString;function Yp(e,t,n){return n===void 0&&(n=-1),yd(e,t,n)}function yd(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var s=Xv.call(e);if(s!==Xv.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Yv(e),t=Yv(t);var l=s==="[object Array]";if(!l){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(Un(u)&&u instanceof u&&Un(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var d=r.length;d--;)if(r[d]===e)return i[d]===t;if(r.push(e),i.push(t),l){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!yd(e[d],t[d],n-1,r,i))return!1}else{var p=Object.keys(e),m;if(d=p.length,Object.keys(t).length!==d)return!1;for(;d--;)if(m=p[d],!(wr(t,m)&&yd(e[m],t[m],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function Yv(e){return al(e)?e.slice():gs(e)||Ai(e)||mr(e)||kn(e)?Array.from(e.entries()):e}var Jv,tb=((Jv=Gc().Iterator)==null?void 0:Jv.prototype)||{};function Jp(e){return e[Symbol.iterator]=nb,Object.assign(Object.create(tb),e)}function nb(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Gc();typeof t[e]>"u"&&me("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:vC,extras:{getDebugName:vd},$mobx:ie});if(!L.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!UC)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function rb(e){e()}function ib(e){e||(e=rb),sE({reactionScheduler:e})}function ob(e){return kC(e)}var sb=1e4,ab=1e4,lb=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=sb),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,s){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,ab))}}),e}(),ub=typeof FinalizationRegistry<"u"?FinalizationRegistry:lb,_d=new ub(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),yE={exports:{}},_E={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=L;function cb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fb=typeof Object.is=="function"?Object.is:cb,hb=as.useState,db=as.useEffect,pb=as.useLayoutEffect,mb=as.useDebugValue;function gb(e,t){var n=t(),r=hb({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return pb(function(){i.value=n,i.getSnapshot=t,Yf(i)&&o({inst:i})},[e,n,t]),db(function(){return Yf(i)&&o({inst:i}),e(function(){Yf(i)&&o({inst:i})})},[e]),mb(n),n}function Yf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fb(e,n)}catch{return!0}}function vb(e,t){return t()}var yb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vb:gb;_E.useSyncExternalStore=as.useSyncExternalStore!==void 0?as.useSyncExternalStore:yb;yE.exports=_E;var _b=yE.exports;function Zv(e){e.reaction=new Cr("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function wb(e,t){t===void 0&&(t="observed");var n=ag.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(l){return _d.unregister(r),r.onStoreChange=l,r.reaction||(Zv(r),r.stateVersion=Symbol()),function(){var u;r.onStoreChange=null,(u=r.reaction)===null||u===void 0||u.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(Zv(i),_d.register(n,i,i)),ag.useDebugValue(i.reaction,ob),_b.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o,s;if(i.reaction.track(function(){try{o=e()}catch(l){s=l}}),s)throw s;return o}var Jf,Zf,wE=typeof Symbol=="function"&&Symbol.for,Eb=(Zf=(Jf=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Jf===void 0?void 0:Jf.configurable)!==null&&Zf!==void 0?Zf:!1,ey=wE?Symbol.for("react.forward_ref"):typeof L.forwardRef=="function"&&L.forwardRef(function(e){return null}).$$typeof,ty=wE?Symbol.for("react.memo"):typeof L.memo=="function"&&L.memo(function(e){return null}).$$typeof;function EE(e,t){var n;if(ty&&e.$$typeof===ty)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,i=e,o=e.displayName||e.name;if(ey&&e.$$typeof===ey&&(r=!0,i=e.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(l,u){return wb(function(){return i(l,u)},o)};return s.displayName=e.displayName,Eb&&Object.defineProperty(s,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(s.contextTypes=e.contextTypes),r&&(s=L.forwardRef(s)),s=L.memo(s),Tb(e,s),s}var Sb={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Tb(e,t){Object.keys(e).forEach(function(n){Sb[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var eh;ib(kp.unstable_batchedUpdates);eh=_d.finalizeAllImmediately;const Ab=EE(({testNumber:e,onComplete:t,model:n})=>{const[r,i]=L.useState([]),[o,s]=L.useState(null),[l,u]=L.useState(!1),[c,d]=L.useState(0),p=L.useRef(null),m=()=>{const N=n.getCurrentSound();if(!N){console.error("Inget giltigt ljud att spela");return}const w=`/noise/${N}`;console.log("Försöker spela ljud:",w),p.current&&p.current.pause();const y=new Audio(w);y.loop=!0,p.current=y,y.play().then(()=>console.log("Ljud spelas")).catch(T=>console.error("Fel vid uppspelning av ljud:",T))};L.useEffect(()=>(m(),n.pairs.length===0?console.error("Inga par är genererade i modellen."):(console.log("Model pairs i ShipTestView:",n.pairs),i(n.pairs)),s(Date.now()),()=>{p.current&&(p.current.pause(),p.current=null)}),[e,n.pairs]);const _=N=>{n.selectPair(N),i([...n.pairs])},C=()=>{const N=(Date.now()-o)/1e3;d(N),n.completeTest(N),p.current&&p.current.pause(),u(!0)},x=()=>{u(!1),t(c)};return j.jsxs("div",{children:[!l&&j.jsxs("div",{id:"testContainer",children:[r.map((N,w)=>j.jsxs("div",{onClick:()=>_(w),className:`pair ${N.selected?"selected":""}`,children:[j.jsx("img",{src:`/images/${N.left}.svg`,alt:"Left Ship",onError:()=>console.error(`Kunde inte ladda: /images/${N.left}.svg`)}),j.jsx("img",{src:`/images/${N.right}.svg`,alt:"Right Ship",onError:()=>console.error(`Kunde inte ladda: /images/${N.right}.svg`)})]},w)),j.jsx("button",{className:"finish-button",onClick:C,children:"Klart"})]}),l&&j.jsx("div",{className:"modal-overlay",children:j.jsx("div",{className:"modal-content",children:e<4?j.jsxs(j.Fragment,{children:[j.jsx("h2",{children:"Nu vidare till nästa test"}),j.jsx("button",{className:"next-button",onClick:x,children:"Nästa"})]}):j.jsxs(j.Fragment,{children:[j.jsx("h2",{children:"Testen är klara"}),j.jsx("button",{className:"next-button",onClick:x,children:"Gå till kontrollfrågor"})]})})})]})});function wd({model:e}){const t=Ya();L.useEffect(()=>{console.log("Genererar par för test:",e.testNumber),e.generatePairs(),console.log("Model pairs efter generatePairs:",e.pairs)},[e.testNumber]);const n=async r=>{const i=r.toFixed(2),o=e.correctSelections,s=e.incorrectSelections;await e.saveTestData(i,e.testNumber,o,s),e.testNumber<4?(e.startNextTest(),t(`/test/${e.testNumber}`)):t("/control-questions")};return j.jsx(Ab,{testNumber:e.testNumber,onComplete:n,model:e})}wd=EE(wd);function Ib({userData:e,timeTaken:t}){return j.jsxs("div",{className:"results-container",children:[j.jsx("h1",{className:"results-title",children:"Testresultat"}),j.jsxs("p",{className:"thanks-text",children:["Tack för din medverkan, ",e.fullName,"!"]}),j.jsx("p",{className:"results-subtitle",children:"Dina testresultat:"}),j.jsxs("table",{className:"results-table",children:[j.jsx("thead",{children:j.jsxs("tr",{children:[j.jsx("th",{children:"Testnummer"}),j.jsx("th",{children:"Tid (sekunder)"})]})}),j.jsx("tbody",{children:t.map((n,r)=>j.jsxs("tr",{children:[j.jsx("td",{children:r+1}),j.jsx("td",{children:n})]},r))})]})]})}function Rb({model:e}){return j.jsx(Ib,{userData:e.userData,timeTaken:e.timeTaken})}function Pb({formData:e,onChange:t,onSubmit:n}){return L.useEffect(()=>{document.querySelectorAll(".user-input").forEach(i=>{const o=()=>{i.value.trim()!==""?i.classList.add("filled"):i.classList.remove("filled")};return i.addEventListener("input",o),o(),()=>{i.removeEventListener("input",o)}})},[]),j.jsx("div",{className:"modal-overlay",children:j.jsxs("div",{className:"modal-content",children:[j.jsx("h2",{children:"Kontrollfrågor"}),j.jsxs("form",{onSubmit:n,children:[j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"usedHeadphones",children:"Använde du hörlurar vid testerna?"}),j.jsxs("select",{id:"usedHeadphones",name:"usedHeadphones",value:e.usedHeadphones,onChange:t,className:"user-input",children:[j.jsx("option",{value:"",children:"Välj"}),j.jsx("option",{value:"Ja",children:"Ja"}),j.jsx("option",{value:"Ja med noise canceling",children:"Ja med noise canceling"}),j.jsx("option",{value:"Nej",children:"Nej"})]})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"infoEnvironment",children:"Beskriv i vilken miljö du gjorde testerna:"}),j.jsx("input",{id:"infoEnvironment",name:"infoEnvironment",type:"text",value:e.infoEnvironment,onChange:t,className:"user-input"})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"unplannedDistractions",children:"Hände något oväntat under testets gång som kan ha påverkat resultatet?"}),j.jsx("input",{id:"unplannedDistractions",name:"unplannedDistractions",type:"text",value:e.unplannedDistractions,onChange:t,className:"user-input"})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"testDistractions",children:"Hur mycket distraktion fanns runt omkring? (1=lågt, 5=högt)"}),j.jsxs("select",{id:"testDistractions",name:"testDistractions",value:e.testDistractions,onChange:t,className:"user-input",children:[j.jsx("option",{value:"",children:"Välj 1 till 5"}),[1,2,3,4,5].map(r=>j.jsx("option",{value:r,children:r},r))]})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"clearVolume",children:"Kunde du höra ljuden tydligt?"}),j.jsxs("select",{id:"clearVolume",name:"clearVolume",value:e.clearVolume,onChange:t,className:"user-input",children:[j.jsx("option",{value:"",children:"Välj"}),j.jsx("option",{value:"Ja",children:"Ja"}),j.jsx("option",{value:"Nej",children:"Nej"})]})]}),j.jsxs("div",{className:"form-group",children:[j.jsx("label",{htmlFor:"volumeChange",children:"Ändrade du volymen någon gång under testet, om ja, under vilket test?"}),j.jsx("input",{id:"volumeChange",name:"volumeChange",type:"text",value:e.volumeChange,onChange:t,className:"user-input"})]}),j.jsx("button",{type:"submit",className:"login-button",children:"Gå till resultat"})]})]})})}function Cb({model:e}){const[t,n]=L.useState({usedHeadphones:"",infoEnvironment:"",clearVolume:"",testDistractions:"",unplannedDistractions:"",volumeChange:""}),r=Ya(),i=s=>{const{name:l,value:u}=s.target;n(c=>({...c,[l]:u})),console.log("Uppdaterat fält:",l,"med värde:",u)},o=async s=>{if(s.preventDefault(),Object.values(t).some(l=>!l)){alert("Fyll i alla fält innan du fortsätter.");return}try{e.saveControlQuestions(t),await Promise.all(e.timeTaken.map((l,u)=>e.saveTestData(l,u))),r("/results")}catch(l){console.error("Fel vid sparning av kontrollfrågor:",l),alert("Något gick fel. Försök igen.")}};return j.jsx(Pb,{formData:t,onChange:i,onSubmit:o})}function bb(e){return zR([{path:"/",element:j.jsx(rP,{})},{path:"/login",element:j.jsx(oP,{model:e})},{path:"/test/:testNumber",element:j.jsx(wd,{model:e})},{path:"/control-questions",element:j.jsx(Cb,{model:e})},{path:"/results",element:j.jsx(Rb,{model:e})}])}function xb({model:e}){return j.jsx(tP,{router:bb(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},kb=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],l=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,l=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,_=c&63;u||(_=64,s||(m=64)),r.push(n[d],n[p],n[m],n[_])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(SE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):kb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const p=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new Ob;const m=o<<2|l>>4;if(r.push(m),c!==64){const _=l<<4&240|c>>2;if(r.push(_),p!==64){const C=c<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(e){const t=SE(e);return TE.encodeByteArray(t,!0)},fc=function(e){return Db(e).replace(/\./g,"")},Nb=function(e){try{return TE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=()=>Vb().__FIREBASE_DEFAULTS__,Mb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Fb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Nb(e[1]);return t&&JSON.parse(t)},Zp=()=>{try{return Lb()||Mb()||Fb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},jb=e=>{var t,n;return(n=(t=Zp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Ub=e=>{const t=jb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},AE=()=>{var e;return(e=Zp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[fc(JSON.stringify(n)),fc(JSON.stringify(s)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hb(){var e;const t=(e=Zp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Gb(){return!Hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IE(){try{return typeof indexedDB=="object"}catch{return!1}}function RE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function Wb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="FirebaseError";class Ri extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=qb,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?Qb(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ri(i,l,r)}}function Qb(e,t){return e.replace(Xb,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Xb=/\{\$([^}]+)}/g;function hc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(ny(o)&&ny(s)){if(!hc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ny(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=1e3,Jb=2,Zb=4*60*60*1e3,ex=.5;function ry(e,t=Yb,n=Jb){const r=t*Math.pow(n,e),i=Math.round(ex*r*(Math.random()-.5)*2);return Math.min(Zb,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e){return e&&e._delegate?e._delegate:e}class br{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new $b;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rx(t))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ni){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ni){return this.instances.has(t)}getOptions(t=Ni){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nx(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ni){return this.component?this.component.multipleInstances?t:Ni:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nx(e){return e===Ni?void 0:e}function rx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const ox={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},sx=pe.INFO,ax={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},lx=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=ax[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class em{constructor(t){this.name=t,this._logLevel=sx,this._logHandler=lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ox[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}const ux=(e,t)=>t.some(n=>e instanceof n);let iy,oy;function cx(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fx(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,Ed=new WeakMap,CE=new WeakMap,th=new WeakMap,tm=new WeakMap;function hx(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ui(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&PE.set(n,e)}).catch(()=>{}),tm.set(t,e),t}function dx(e){if(Ed.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Ed.set(e,t)}let Sd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ed.get(e);if(t==="objectStoreNames")return e.objectStoreNames||CE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function px(e){Sd=e(Sd)}function mx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(nh(this),t,...n);return CE.set(r,t.sort?t.sort():[t]),ui(r)}:fx().includes(e)?function(...t){return e.apply(nh(this),t),ui(PE.get(this))}:function(...t){return ui(e.apply(nh(this),t))}}function gx(e){return typeof e=="function"?mx(e):(e instanceof IDBTransaction&&dx(e),ux(e,cx())?new Proxy(e,Sd):e)}function ui(e){if(e instanceof IDBRequest)return hx(e);if(th.has(e))return th.get(e);const t=gx(e);return t!==e&&(th.set(e,t),tm.set(t,e)),t}const nh=e=>tm.get(e);function bE(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),l=ui(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ui(s.result),u.oldVersion,u.newVersion,ui(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const vx=["get","getKey","getAll","getAllKeys","count"],yx=["put","add","delete","clear"],rh=new Map;function sy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rh.get(t))return rh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=yx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vx.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return rh.set(t,o),o}px(e=>({...e,get:(t,n,r)=>sy(t,n)||e.get(t,n,r),has:(t,n)=>!!sy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wx(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Td="@firebase/app",ay="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new em("@firebase/app"),Ex="@firebase/app-compat",Sx="@firebase/analytics-compat",Tx="@firebase/analytics",Ax="@firebase/app-check-compat",Ix="@firebase/app-check",Rx="@firebase/auth",Px="@firebase/auth-compat",Cx="@firebase/database",bx="@firebase/data-connect",xx="@firebase/database-compat",kx="@firebase/functions",Ox="@firebase/functions-compat",Dx="@firebase/installations",Nx="@firebase/installations-compat",Vx="@firebase/messaging",Lx="@firebase/messaging-compat",Mx="@firebase/performance",Fx="@firebase/performance-compat",jx="@firebase/remote-config",Ux="@firebase/remote-config-compat",$x="@firebase/storage",Bx="@firebase/storage-compat",zx="@firebase/firestore",Hx="@firebase/vertexai",Kx="@firebase/firestore-compat",Gx="firebase",Wx="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="[DEFAULT]",qx={[Td]:"fire-core",[Ex]:"fire-core-compat",[Tx]:"fire-analytics",[Sx]:"fire-analytics-compat",[Ix]:"fire-app-check",[Ax]:"fire-app-check-compat",[Rx]:"fire-auth",[Px]:"fire-auth-compat",[Cx]:"fire-rtdb",[bx]:"fire-data-connect",[xx]:"fire-rtdb-compat",[kx]:"fire-fn",[Ox]:"fire-fn-compat",[Dx]:"fire-iid",[Nx]:"fire-iid-compat",[Vx]:"fire-fcm",[Lx]:"fire-fcm-compat",[Mx]:"fire-perf",[Fx]:"fire-perf-compat",[jx]:"fire-rc",[Ux]:"fire-rc-compat",[$x]:"fire-gcs",[Bx]:"fire-gcs-compat",[zx]:"fire-fst",[Kx]:"fire-fst-compat",[Hx]:"fire-vertex","fire-js":"fire-js",[Gx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,Qx=new Map,Id=new Map;function ly(e,t){try{e.container.addComponent(t)}catch(n){xr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function mi(e){const t=e.name;if(Id.has(t))return xr.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,e);for(const n of dc.values())ly(n,e);for(const n of Qx.values())ly(n,e);return!0}function ll(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Yc("app","Firebase",Xx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=Wx;function xE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ad,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=AE()),!n)throw ci.create("no-options");const o=dc.get(i);if(o){if(hc(n,o.options)&&hc(r,o.config))return o;throw ci.create("duplicate-app",{appName:i})}const s=new ix(i);for(const u of Id.values())s.addComponent(u);const l=new Yx(n,r,s);return dc.set(i,l),l}function kE(e=Ad){const t=dc.get(e);if(!t&&e===Ad&&AE())return xE();if(!t)throw ci.create("no-app",{appName:e});return t}function rr(e,t,n){var r;let i=(r=qx[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${t}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xr.warn(l.join(" "));return}mi(new br(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebase-heartbeat-database",ek=1,Fa="firebase-heartbeat-store";let ih=null;function OE(){return ih||(ih=bE(Zx,ek,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(e=>{throw ci.create("idb-open",{originalErrorMessage:e.message})})),ih}async function tk(e){try{const n=(await OE()).transaction(Fa),r=await n.objectStore(Fa).get(DE(e));return await n.done,r}catch(t){if(t instanceof Ri)xr.warn(t.message);else{const n=ci.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xr.warn(n.message)}}}async function uy(e,t){try{const r=(await OE()).transaction(Fa,"readwrite");await r.objectStore(Fa).put(t,DE(e)),await r.done}catch(n){if(n instanceof Ri)xr.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function DE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=1024,rk=30*24*60*60*1e3;class ik{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cy();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=rk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cy(),{heartbeatsToSend:r,unsentEntries:i}=ok(this._heartbeatsCache.heartbeats),o=fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xr.warn(n),""}}}function cy(){return new Date().toISOString().substring(0,10)}function ok(e,t=nk){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fy(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IE()?RE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function fy(e){return fc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e){mi(new br("platform-logger",t=>new _x(t),"PRIVATE")),mi(new br("heartbeat",t=>new ik(t),"PRIVATE")),rr(Td,ay,e),rr(Td,ay,"esm2017"),rr("fire-js","")}ak("");var lk="firebase",uk="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(lk,uk,"app");const NE="@firebase/installations",nm="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=1e4,LE=`w:${nm}`,ME="FIS_v2",ck="https://firebaseinstallations.googleapis.com/v1",fk=60*60*1e3,hk="installations",dk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},no=new Yc(hk,dk,pk);function FE(e){return e instanceof Ri&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE({projectId:e}){return`${ck}/projects/${e}/installations`}function UE(e){return{token:e.token,requestStatus:2,expiresIn:gk(e.expiresIn),creationTime:Date.now()}}async function $E(e,t){const r=(await t.json()).error;return no.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BE({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function mk(e,{refreshToken:t}){const n=BE(e);return n.append("Authorization",vk(t)),n}async function zE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function gk(e){return Number(e.replace("s","000"))}function vk(e){return`${ME} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=jE(e),i=BE(e),o=t.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:ME,appId:e.appId,sdkVersion:LE},l={method:"POST",headers:i,body:JSON.stringify(s)},u=await zE(()=>fetch(r,l));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:UE(c.authToken)}}else throw await $E("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=/^[cdef][\w-]{21}$/,Rd="";function Ek(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=Sk(e);return wk.test(n)?n:Rd}catch{return Rd}}function Sk(e){return _k(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;function GE(e,t){const n=Jc(e);WE(n,t),Tk(n,t)}function WE(e,t){const n=KE.get(e);if(n)for(const r of n)r(t)}function Tk(e,t){const n=Ak();n&&n.postMessage({key:e,fid:t}),Ik()}let Ui=null;function Ak(){return!Ui&&"BroadcastChannel"in self&&(Ui=new BroadcastChannel("[Firebase] FID Change"),Ui.onmessage=e=>{WE(e.data.key,e.data.fid)}),Ui}function Ik(){KE.size===0&&Ui&&(Ui.close(),Ui=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="firebase-installations-database",Pk=1,ro="firebase-installations-store";let oh=null;function rm(){return oh||(oh=bE(Rk,Pk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ro)}}})),oh}async function pc(e,t){const n=Jc(e),i=(await rm()).transaction(ro,"readwrite"),o=i.objectStore(ro),s=await o.get(n);return await o.put(t,n),await i.done,(!s||s.fid!==t.fid)&&GE(e,t.fid),t}async function qE(e){const t=Jc(e),r=(await rm()).transaction(ro,"readwrite");await r.objectStore(ro).delete(t),await r.done}async function Zc(e,t){const n=Jc(e),i=(await rm()).transaction(ro,"readwrite"),o=i.objectStore(ro),s=await o.get(n),l=t(s);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&GE(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(e){let t;const n=await Zc(e.appConfig,r=>{const i=Ck(r),o=bk(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===Rd?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Ck(e){const t=e||{fid:Ek(),registrationStatus:0};return QE(t)}function bk(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(no.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=xk(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:kk(e)}:{installationEntry:t}}async function xk(e,t){try{const n=await yk(e,t);return pc(e.appConfig,n)}catch(n){throw FE(n)&&n.customData.serverCode===409?await qE(e.appConfig):await pc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function kk(e){let t=await hy(e.appConfig);for(;t.registrationStatus===1;)await HE(100),t=await hy(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await im(e);return r||n}return t}function hy(e){return Zc(e,t=>{if(!t)throw no.create("installation-not-found");return QE(t)})}function QE(e){return Ok(e)?{fid:e.fid,registrationStatus:0}:e}function Ok(e){return e.registrationStatus===1&&e.registrationTime+VE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk({appConfig:e,heartbeatServiceProvider:t},n){const r=Nk(e,n),i=mk(e,n),o=t.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:LE,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},u=await zE(()=>fetch(r,l));if(u.ok){const c=await u.json();return UE(c)}else throw await $E("Generate Auth Token",u)}function Nk(e,{fid:t}){return`${jE(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(e,t=!1){let n;const r=await Zc(e.appConfig,o=>{if(!XE(o))throw no.create("not-registered");const s=o.authToken;if(!t&&Mk(s))return o;if(s.requestStatus===1)return n=Vk(e,t),o;{if(!navigator.onLine)throw no.create("app-offline");const l=jk(o);return n=Lk(e,l),l}});return n?await n:r.authToken}async function Vk(e,t){let n=await dy(e.appConfig);for(;n.authToken.requestStatus===1;)await HE(100),n=await dy(e.appConfig);const r=n.authToken;return r.requestStatus===0?om(e,t):r}function dy(e){return Zc(e,t=>{if(!XE(t))throw no.create("not-registered");const n=t.authToken;return Uk(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Lk(e,t){try{const n=await Dk(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await pc(e.appConfig,r),n}catch(n){if(FE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await qE(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await pc(e.appConfig,r)}throw n}}function XE(e){return e!==void 0&&e.registrationStatus===2}function Mk(e){return e.requestStatus===2&&!Fk(e)}function Fk(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fk}function jk(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Uk(e){return e.requestStatus===1&&e.requestTime+VE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(e){const t=e,{installationEntry:n,registrationPromise:r}=await im(t);return r?r.catch(console.error):om(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(e,t=!1){const n=e;return await zk(n),(await om(n,t)).token}async function zk(e){const{registrationPromise:t}=await im(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e){if(!e||!e.options)throw sh("App Configuration");if(!e.name)throw sh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw sh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function sh(e){return no.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="installations",Kk="installations-internal",Gk=e=>{const t=e.getProvider("app").getImmediate(),n=Hk(t),r=ll(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Wk=e=>{const t=e.getProvider("app").getImmediate(),n=ll(t,YE).getImmediate();return{getId:()=>$k(n),getToken:i=>Bk(n,i)}};function qk(){mi(new br(YE,Gk,"PUBLIC")),mi(new br(Kk,Wk,"PRIVATE"))}qk();rr(NE,nm);rr(NE,nm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="analytics",Qk="firebase_id",Xk="origin",Yk=60*1e3,Jk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new em("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zt=new Yc("analytics","Analytics",Zk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(e){if(!e.startsWith(sm)){const t=Zt.create("invalid-gtag-resource",{gtagURL:e});return Bt.warn(t.message),""}return e}function JE(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function tO(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function nO(e,t){const n=tO("firebase-js-sdk-policy",{createScriptURL:eO}),r=document.createElement("script"),i=`${sm}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rO(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function iO(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const u=(await JE(n)).find(c=>c.measurementId===i);u&&await t[u.appId]}}catch(l){Bt.error(l)}e("config",i,o)}async function oO(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await JE(n);for(const u of s){const c=l.find(p=>p.measurementId===u),d=c&&t[c.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Bt.error(o)}}function sO(e,t,n,r){async function i(o,...s){try{if(o==="event"){const[l,u]=s;await oO(e,t,n,l,u)}else if(o==="config"){const[l,u]=s;await iO(e,t,n,r,l,u)}else if(o==="consent"){const[l,u]=s;e("consent",l,u)}else if(o==="get"){const[l,u,c]=s;e("get",l,u,c)}else if(o==="set"){const[l]=s;e("set",l)}else e(o,...s)}catch(l){Bt.error(l)}}return i}function aO(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=sO(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function lO(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(sm)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=30,cO=1e3;class fO{constructor(t={},n=cO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const ZE=new fO;function hO(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function dO(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:hO(r)},o=Jk.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let l="";try{const u=await s.json();!((t=u.error)===null||t===void 0)&&t.message&&(l=u.error.message)}catch{}throw Zt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function pO(e,t=ZE,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Zt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Zt.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new vO;return setTimeout(async()=>{l.abort()},n!==void 0?n:Yk),e1({appId:r,apiKey:i,measurementId:o},s,l,t)}async function e1(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=ZE){var o;const{appId:s,measurementId:l}=e;try{await mO(r,t)}catch(u){if(l)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:l};throw u}try{const u=await dO(e);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!gO(c)){if(i.deleteThrottleMetadata(s),l)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:l};throw u}const d=Number((o=c==null?void 0:c.customData)===null||o===void 0?void 0:o.httpStatus)===503?ry(n,i.intervalMillis,uO):ry(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,p),Bt.debug(`Calling attemptFetch again in ${d} millis`),e1(e,p,r,i)}}function mO(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Zt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function gO(e){if(!(e instanceof Ri)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class vO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function yO(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const o=await t,s=Object.assign(Object.assign({},r),{send_to:o});e("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(){if(IE())try{await RE()}catch(e){return Bt.warn(Zt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Bt.warn(Zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wO(e,t,n,r,i,o,s){var l;const u=pO(e);u.then(_=>{n[_.measurementId]=_.appId,e.options.measurementId&&_.measurementId!==e.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Bt.error(_)),t.push(u);const c=_O().then(_=>{if(_)return r.getId()}),[d,p]=await Promise.all([u,c]);lO(o)||nO(o,d.measurementId),i("js",new Date);const m=(l=s==null?void 0:s.config)!==null&&l!==void 0?l:{};return m[Xk]="firebase",m.update=!0,p!=null&&(m[Qk]=p),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(t){this.app=t}_delete(){return delete ha[this.app.options.appId],Promise.resolve()}}let ha={},py=[];const my={};let ah="dataLayer",SO="gtag",gy,t1,vy=!1;function TO(){const e=[];if(Kb()&&e.push("This is a browser extension environment."),Wb()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zt.create("invalid-analytics-context",{errorInfo:t});Bt.warn(n.message)}}function AO(e,t,n){TO();const r=e.options.appId;if(!r)throw Zt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zt.create("no-api-key");if(ha[r]!=null)throw Zt.create("already-exists",{id:r});if(!vy){rO(ah);const{wrappedGtag:o,gtagCore:s}=aO(ha,py,my,ah,SO);t1=o,gy=s,vy=!0}return ha[r]=wO(e,py,my,t,gy,ah,n),new EO(e)}function IO(e=kE()){e=to(e);const t=ll(e,mc);return t.isInitialized()?t.getImmediate():RO(e)}function RO(e,t={}){const n=ll(e,mc);if(n.isInitialized()){const i=n.getImmediate();if(hc(t,n.getOptions()))return i;throw Zt.create("already-initialized")}return n.initialize({options:t})}function PO(e,t,n,r){e=to(e),yO(t1,ha[e.app.options.appId],t,n,r).catch(i=>Bt.error(i))}const yy="@firebase/analytics",_y="0.10.11";function CO(){mi(new br(mc,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return AO(r,i,n)},"PUBLIC")),mi(new br("analytics-internal",e,"PRIVATE")),rr(yy,_y),rr(yy,_y,"esm2017");function e(t){try{const n=t.getProvider(mc).getImmediate();return{logEvent:(r,i,o)=>PO(n,r,i,o)}}catch(n){throw Zt.create("interop-component-reg-failed",{reason:n})}}}CO();var wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var am;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,v){function E(){}E.prototype=v.prototype,S.D=v.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(A,b,k){for(var I=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)I[lt-2]=arguments[lt];return v.prototype[b].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,E){E||(E=0);var A=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)A[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)A[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=S.g[0],E=S.g[1],b=S.g[2];var k=S.g[3],I=v+(k^E&(b^k))+A[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=k+(b^v&(E^b))+A[1]+3905402710&4294967295,k=v+(I<<12&4294967295|I>>>20),I=b+(E^k&(v^E))+A[2]+606105819&4294967295,b=k+(I<<17&4294967295|I>>>15),I=E+(v^b&(k^v))+A[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(k^E&(b^k))+A[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=k+(b^v&(E^b))+A[5]+1200080426&4294967295,k=v+(I<<12&4294967295|I>>>20),I=b+(E^k&(v^E))+A[6]+2821735955&4294967295,b=k+(I<<17&4294967295|I>>>15),I=E+(v^b&(k^v))+A[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(k^E&(b^k))+A[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=k+(b^v&(E^b))+A[9]+2336552879&4294967295,k=v+(I<<12&4294967295|I>>>20),I=b+(E^k&(v^E))+A[10]+4294925233&4294967295,b=k+(I<<17&4294967295|I>>>15),I=E+(v^b&(k^v))+A[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(k^E&(b^k))+A[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=k+(b^v&(E^b))+A[13]+4254626195&4294967295,k=v+(I<<12&4294967295|I>>>20),I=b+(E^k&(v^E))+A[14]+2792965006&4294967295,b=k+(I<<17&4294967295|I>>>15),I=E+(v^b&(k^v))+A[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(b^k&(E^b))+A[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=k+(E^b&(v^E))+A[6]+3225465664&4294967295,k=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(k^v))+A[11]+643717713&4294967295,b=k+(I<<14&4294967295|I>>>18),I=E+(k^v&(b^k))+A[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^k&(E^b))+A[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=k+(E^b&(v^E))+A[10]+38016083&4294967295,k=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(k^v))+A[15]+3634488961&4294967295,b=k+(I<<14&4294967295|I>>>18),I=E+(k^v&(b^k))+A[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^k&(E^b))+A[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=k+(E^b&(v^E))+A[14]+3275163606&4294967295,k=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(k^v))+A[3]+4107603335&4294967295,b=k+(I<<14&4294967295|I>>>18),I=E+(k^v&(b^k))+A[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^k&(E^b))+A[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=k+(E^b&(v^E))+A[2]+4243563512&4294967295,k=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(k^v))+A[7]+1735328473&4294967295,b=k+(I<<14&4294967295|I>>>18),I=E+(k^v&(b^k))+A[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(E^b^k)+A[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=k+(v^E^b)+A[8]+2272392833&4294967295,k=v+(I<<11&4294967295|I>>>21),I=b+(k^v^E)+A[11]+1839030562&4294967295,b=k+(I<<16&4294967295|I>>>16),I=E+(b^k^v)+A[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^k)+A[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=k+(v^E^b)+A[4]+1272893353&4294967295,k=v+(I<<11&4294967295|I>>>21),I=b+(k^v^E)+A[7]+4139469664&4294967295,b=k+(I<<16&4294967295|I>>>16),I=E+(b^k^v)+A[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^k)+A[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=k+(v^E^b)+A[0]+3936430074&4294967295,k=v+(I<<11&4294967295|I>>>21),I=b+(k^v^E)+A[3]+3572445317&4294967295,b=k+(I<<16&4294967295|I>>>16),I=E+(b^k^v)+A[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^k)+A[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=k+(v^E^b)+A[12]+3873151461&4294967295,k=v+(I<<11&4294967295|I>>>21),I=b+(k^v^E)+A[15]+530742520&4294967295,b=k+(I<<16&4294967295|I>>>16),I=E+(b^k^v)+A[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(b^(E|~k))+A[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=k+(E^(v|~b))+A[7]+1126891415&4294967295,k=v+(I<<10&4294967295|I>>>22),I=b+(v^(k|~E))+A[14]+2878612391&4294967295,b=k+(I<<15&4294967295|I>>>17),I=E+(k^(b|~v))+A[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~k))+A[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=k+(E^(v|~b))+A[3]+2399980690&4294967295,k=v+(I<<10&4294967295|I>>>22),I=b+(v^(k|~E))+A[10]+4293915773&4294967295,b=k+(I<<15&4294967295|I>>>17),I=E+(k^(b|~v))+A[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~k))+A[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=k+(E^(v|~b))+A[15]+4264355552&4294967295,k=v+(I<<10&4294967295|I>>>22),I=b+(v^(k|~E))+A[6]+2734768916&4294967295,b=k+(I<<15&4294967295|I>>>17),I=E+(k^(b|~v))+A[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~k))+A[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=k+(E^(v|~b))+A[11]+3174756917&4294967295,k=v+(I<<10&4294967295|I>>>22),I=b+(v^(k|~E))+A[2]+718787259&4294967295,b=k+(I<<15&4294967295|I>>>17),I=E+(k^(b|~v))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+k&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var E=v-this.blockSize,A=this.B,b=this.h,k=0;k<v;){if(b==0)for(;k<=E;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<v;)if(A[b++]=S.charCodeAt(k++),b==this.blockSize){i(this,A),b=0;break}}else for(;k<v;)if(A[b++]=S[k++],b==this.blockSize){i(this,A),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var E=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=E&255,E/=256;for(this.u(S),S=Array(16),v=E=0;4>v;++v)for(var A=0;32>A;A+=8)S[E++]=this.g[v]>>>A&255;return S};function o(S,v){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=v(S)}function s(S,v){this.h=v;for(var E=[],A=!0,b=S.length-1;0<=b;b--){var k=S[b]|0;A&&k==v||(E[b]=k,A=!1)}this.g=E}var l={};function u(S){return-128<=S&&128>S?o(S,function(v){return new s([v|0],0>v?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return N(c(-S));for(var v=[],E=1,A=0;S>=E;A++)v[A]=S/E|0,E*=4294967296;return new s(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return N(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(v,8)),A=p,b=0;b<S.length;b+=8){var k=Math.min(8,S.length-b),I=parseInt(S.substring(b,b+k),v);8>k?(k=c(Math.pow(v,k)),A=A.j(k).add(c(I))):(A=A.j(E),A=A.add(c(I)))}return A}var p=u(0),m=u(1),_=u(16777216);e=s.prototype,e.m=function(){if(x(this))return-N(this).m();for(var S=0,v=1,E=0;E<this.g.length;E++){var A=this.i(E);S+=(0<=A?A:4294967296+A)*v,v*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(x(this))return"-"+N(this).toString(S);for(var v=c(Math.pow(S,6)),E=this,A="";;){var b=V(E,v).g;E=w(E,b.j(v));var k=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=b,C(E))return k+A;for(;6>k.length;)k="0"+k;A=k+A}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function x(S){return S.h==-1}e.l=function(S){return S=w(this,S),x(S)?-1:C(S)?0:1};function N(S){for(var v=S.g.length,E=[],A=0;A<v;A++)E[A]=~S.g[A];return new s(E,~S.h).add(m)}e.abs=function(){return x(this)?N(this):this},e.add=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0,b=0;b<=v;b++){var k=A+(this.i(b)&65535)+(S.i(b)&65535),I=(k>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);A=I>>>16,k&=65535,I&=65535,E[b]=I<<16|k}return new s(E,E[E.length-1]&-2147483648?-1:0)};function w(S,v){return S.add(N(v))}e.j=function(S){if(C(this)||C(S))return p;if(x(this))return x(S)?N(this).j(N(S)):N(N(this).j(S));if(x(S))return N(this.j(N(S)));if(0>this.l(_)&&0>S.l(_))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,E=[],A=0;A<2*v;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var b=0;b<S.g.length;b++){var k=this.i(A)>>>16,I=this.i(A)&65535,lt=S.i(b)>>>16,Re=S.i(b)&65535;E[2*A+2*b]+=I*Re,y(E,2*A+2*b),E[2*A+2*b+1]+=k*Re,y(E,2*A+2*b+1),E[2*A+2*b+1]+=I*lt,y(E,2*A+2*b+1),E[2*A+2*b+2]+=k*lt,y(E,2*A+2*b+2)}for(A=0;A<v;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=v;A<2*v;A++)E[A]=0;return new s(E,0)};function y(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function T(S,v){this.g=S,this.h=v}function V(S,v){if(C(v))throw Error("division by zero");if(C(S))return new T(p,p);if(x(S))return v=V(N(S),v),new T(N(v.g),N(v.h));if(x(v))return v=V(S,N(v)),new T(N(v.g),v.h);if(30<S.g.length){if(x(S)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,A=v;0>=A.l(S);)E=R(E),A=R(A);var b=U(E,1),k=U(A,1);for(A=U(A,2),E=U(E,2);!C(A);){var I=k.add(A);0>=I.l(S)&&(b=b.add(E),k=I),A=U(A,1),E=U(E,1)}return v=w(S,b.j(v)),new T(b,v)}for(b=p;0<=S.l(v);){for(E=Math.max(1,Math.floor(S.m()/v.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),k=c(E),I=k.j(v);x(I)||0<I.l(S);)E-=A,k=c(E),I=k.j(v);C(k)&&(k=m),b=b.add(k),S=w(S,I)}return new T(b,S)}e.A=function(S){return V(this,S).h},e.and=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)&S.i(A);return new s(E,this.h&S.h)},e.or=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)|S.i(A);return new s(E,this.h|S.h)},e.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],A=0;A<v;A++)E[A]=this.i(A)^S.i(A);return new s(E,this.h^S.h)};function R(S){for(var v=S.g.length+1,E=[],A=0;A<v;A++)E[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(E,S.h)}function U(S,v){var E=v>>5;v%=32;for(var A=S.g.length-E,b=[],k=0;k<A;k++)b[k]=0<v?S.i(k+E)>>>v|S.i(k+E+1)<<32-v:S.i(k+E);return new s(b,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,am=s}).apply(typeof wy<"u"?wy:typeof self<"u"?self:typeof window<"u"?window:{});var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n1,ea,r1,Ru,Pd,i1,o1,s1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,h){return a==Array.prototype||a==Object.prototype||(a[f]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ru=="object"&&ru];for(var f=0;f<a.length;++f){var h=a[f];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,f){if(f)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var O=a[g];if(!(O in h))break e;h=h[O]}a=a[a.length-1],g=h[a],f=f(g),f!=g&&f!=null&&t(h,a,{configurable:!0,writable:!0,value:f})}}function o(a,f){a instanceof String&&(a+="");var h=0,g=!1,O={next:function(){if(!g&&h<a.length){var F=h++;return{value:f(F,a[F]),done:!1}}return g=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return o(this,function(f,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function c(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,h){return a.call.apply(a.bind,arguments)}function p(a,f,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,g),a.apply(f,O)}}return function(){return a.apply(f,arguments)}}function m(a,f,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function _(a,f){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,f){function h(){}h.prototype=f.prototype,a.aa=f.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,O,F){for(var G=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)G[Ie-2]=arguments[Ie];return f.prototype[O].apply(g,G)}}function x(a){const f=a.length;if(0<f){const h=Array(f);for(let g=0;g<f;g++)h[g]=a[g];return h}return[]}function N(a,f){for(let h=1;h<arguments.length;h++){const g=arguments[h];if(u(g)){const O=a.length||0,F=g.length||0;a.length=O+F;for(let G=0;G<F;G++)a[O+G]=g[G]}else a.push(g)}}class w{constructor(f,h){this.i=f,this.j=h,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function V(a){return V[" "](a),a}V[" "]=function(){};var R=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function U(a,f,h){for(const g in a)f.call(h,a[g],g,a)}function S(a,f){for(const h in a)f.call(void 0,a[h],h,a)}function v(a){const f={};for(const h in a)f[h]=a[h];return f}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,f){let h,g;for(let O=1;O<arguments.length;O++){g=arguments[O];for(h in g)a[h]=g[h];for(let F=0;F<E.length;F++)h=E[F],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function b(a){var f=1;a=a.split(":");const h=[];for(;0<f&&a.length;)h.push(a.shift()),f--;return a.length&&h.push(a.join(":")),h}function k(a){l.setTimeout(()=>{throw a},0)}function I(){var a=te;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class lt{constructor(){this.h=this.g=null}add(f,h){const g=Re.get();g.set(f,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Re=new w(()=>new zn,a=>a.reset());class zn{constructor(){this.next=this.g=this.h=null}set(f,h){this.h=f,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,q=!1,te=new lt,oe=()=>{const a=l.Promise.resolve(void 0);Ct=()=>{a.then(_e)}};var _e=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(h){k(h)}var f=Re;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}q=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const h=()=>{};l.addEventListener("test",h,f),l.removeEventListener("test",h,f)}catch{}return a}();function ut(a,f){if(we.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(R){e:{try{V(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else h=="mouseover"?f=a.fromElement:h=="mouseout"&&(f=a.toElement);this.relatedTarget=f,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:_n[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ut.aa.h.call(this)}}C(ut,we);var _n={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),uf=0;function ct(a,f,h,g,O){this.listener=a,this.proxy=null,this.src=f,this.type=h,this.capture=!!g,this.ha=O,this.key=++uf,this.da=this.fa=!1}function wn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Pi(a){this.src=a,this.g={},this.h=0}Pi.prototype.add=function(a,f,h,g,O){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var G=En(a,f,g,O);return-1<G?(f=a[G],h||(f.fa=!1)):(f=new ct(f,this.src,F,!!g,O),f.fa=h,a.push(f)),f};function ws(a,f){var h=f.type;if(h in a.g){var g=a.g[h],O=Array.prototype.indexOf.call(g,f,void 0),F;(F=0<=O)&&Array.prototype.splice.call(g,O,1),F&&(wn(f),a.g[h].length==0&&(delete a.g[h],a.h--))}}function En(a,f,h,g){for(var O=0;O<a.length;++O){var F=a[O];if(!F.da&&F.listener==f&&F.capture==!!h&&F.ha==g)return O}return-1}var Es="closure_lm_"+(1e6*Math.random()|0),Ss={};function Ts(a,f,h,g,O){if(g&&g.once)return pl(a,f,h,g,O);if(Array.isArray(f)){for(var F=0;F<f.length;F++)Ts(a,f[F],h,g,O);return null}return h=Ht(h),a&&a[on]?a.K(f,h,c(g)?!!g.capture:!!g,O):dl(a,f,h,!1,g,O)}function dl(a,f,h,g,O,F){if(!f)throw Error("Invalid event type");var G=c(O)?!!O.capture:!!O,Ie=Ci(a);if(Ie||(a[Es]=Ie=new Pi(a)),h=Ie.add(f,h,g,G,F),h.proxy)return h;if(g=cf(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)Nt||(O=G),O===void 0&&(O=!1),a.addEventListener(f.toString(),g,O);else if(a.attachEvent)a.attachEvent(Dr(f.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function cf(){function a(h){return f.call(a.src,a.listener,h)}const f=gl;return a}function pl(a,f,h,g,O){if(Array.isArray(f)){for(var F=0;F<f.length;F++)pl(a,f[F],h,g,O);return null}return h=Ht(h),a&&a[on]?a.L(f,h,c(g)?!!g.capture:!!g,O):dl(a,f,h,!0,g,O)}function ml(a,f,h,g,O){if(Array.isArray(f))for(var F=0;F<f.length;F++)ml(a,f[F],h,g,O);else g=c(g)?!!g.capture:!!g,h=Ht(h),a&&a[on]?(a=a.i,f=String(f).toString(),f in a.g&&(F=a.g[f],h=En(F,h,g,O),-1<h&&(wn(F[h]),Array.prototype.splice.call(F,h,1),F.length==0&&(delete a.g[f],a.h--)))):a&&(a=Ci(a))&&(f=a.g[f.toString()],a=-1,f&&(a=En(f,h,g,O)),(h=-1<a?f[a]:null)&&Sn(h))}function Sn(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[on])ws(f.i,a);else{var h=a.type,g=a.proxy;f.removeEventListener?f.removeEventListener(h,g,a.capture):f.detachEvent?f.detachEvent(Dr(h),g):f.addListener&&f.removeListener&&f.removeListener(g),(h=Ci(f))?(ws(h,a),h.h==0&&(h.src=null,f[Es]=null)):wn(a)}}}function Dr(a){return a in Ss?Ss[a]:Ss[a]="on"+a}function gl(a,f){if(a.da)a=!0;else{f=new ut(f,this);var h=a.listener,g=a.ha||a.src;a.fa&&Sn(a),a=h.call(g,f)}return a}function Ci(a){return a=a[Es],a instanceof Pi?a:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(a){return typeof a=="function"?a:(a[sn]||(a[sn]=function(f){return a.handleEvent(f)}),a[sn])}function Ye(){ue.call(this),this.i=new Pi(this),this.M=this,this.F=null}C(Ye,ue),Ye.prototype[on]=!0,Ye.prototype.removeEventListener=function(a,f,h,g){ml(this,a,f,h,g)};function Je(a,f){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=f.type||f,typeof f=="string")f=new we(f,a);else if(f instanceof we)f.target=f.target||a;else{var O=f;f=new we(g,a),A(f,O)}if(O=!0,h)for(var F=h.length-1;0<=F;F--){var G=f.g=h[F];O=vo(G,g,!0,f)&&O}if(G=f.g=a,O=vo(G,g,!0,f)&&O,O=vo(G,g,!1,f)&&O,h)for(F=0;F<h.length;F++)G=f.g=h[F],O=vo(G,g,!1,f)&&O}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var h=a.g[f],g=0;g<h.length;g++)wn(h[g]);delete a.g[f],a.h--}}this.F=null},Ye.prototype.K=function(a,f,h,g){return this.i.add(String(a),f,!1,h,g)},Ye.prototype.L=function(a,f,h,g){return this.i.add(String(a),f,!0,h,g)};function vo(a,f,h,g){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,F=0;F<f.length;++F){var G=f[F];if(G&&!G.da&&G.capture==h){var Ie=G.listener,ft=G.ha||G.src;G.fa&&ws(a.i,G),O=Ie.call(ft,g)!==!1&&O}}return O&&!g.defaultPrevented}function Tn(a,f,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function As(a){a.g=Tn(()=>{a.g=null,a.i&&(a.i=!1,As(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class vl extends ue{constructor(f,h){super(),this.m=f,this.l=h,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:As(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(a){ue.call(this),this.h=a,this.g={}}C(Nr,ue);var yl=[];function Is(a){U(a.g,function(f,h){this.g.hasOwnProperty(h)&&Sn(f)},a),a.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Is(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=l.JSON.stringify,_l=l.JSON.parse,Rs=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ps(){}Ps.prototype.h=null;function Cs(a){return a.h||(a.h=a.i())}function wl(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){we.call(this,"d")}C(Mr,we);function Fr(){we.call(this,"c")}C(Fr,we);var ur={},El=null;function P(){return El=El||new Ye}ur.La="serverreachability";function D(a){we.call(this,ur.La,a)}C(D,we);function M(a){const f=P();Je(f,new D(f))}ur.STAT_EVENT="statevent";function B(a,f){we.call(this,ur.STAT_EVENT,a),this.stat=f}C(B,we);function K(a){const f=P();Je(f,new B(f,a))}ur.Ma="timingevent";function ee(a,f){we.call(this,ur.Ma,a),this.size=f}C(ee,we);function ne(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function Z(a,f,h,g,O,F){a.info(function(){if(a.g)if(F)for(var G="",Ie=F.split("&"),ft=0;ft<Ie.length;ft++){var ve=Ie[ft].split("=");if(1<ve.length){var _t=ve[0];ve=ve[1];var wt=_t.split("_");G=2<=wt.length&&wt[1]=="type"?G+(_t+"="+ve+"&"):G+(_t+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+g+") [attempt "+O+"]: "+f+`
`+h+`
`+G})}function Q(a,f,h,g,O,F,G){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+O+"]: "+f+`
`+h+`
`+F+" "+G})}function re(a,f,h,g){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Pe(a,h)+(g?" "+g:"")})}function ae(a,f){a.info(function(){return"TIMEOUT: "+f})}X.prototype.info=function(){};function Pe(a,f){if(!a.g)return f;if(!f)return null;try{var h=JSON.parse(f);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var O=g[1];if(Array.isArray(O)&&!(1>O.length)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return Vr(h)}catch{return f}}var Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function Ve(){}C(Ve,Ps),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Ee=new Ve;function bt(a,f,h,g){this.j=a,this.i=f,this.l=h,this.R=g||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}var an={},Vt={};function bi(a,f,h){a.L=1,a.v=Il(fr(f)),a.m=h,a.P=!0,Ur(a,null)}function Ur(a,f){a.F=Date.now(),cr(a),a.A=fr(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Lm(h.i,"t",g),a.C=0,h=a.j.J,a.h=new jr,a.g=eg(a.j,h?f:null,!a.m),0<a.O&&(a.M=new vl(m(a.Y,a,a.g),a.O)),f=a.U,h=a.g,g=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(yl[0]=O.toString()),O=yl);for(var F=0;F<O.length;F++){var G=Ts(h,O[F],g||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),M(),Z(a.i,a.u,a.A,a.l,a.R,a.m)}bt.prototype.ca=function(a){a=a.target;const f=this.M;f&&hr(a)==3?f.j():this.Y(a)},bt.prototype.Y=function(a){try{if(a==this.g)e:{const wt=hr(this.g);var f=this.g.Ba();const Eo=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||zm(this.g)))){this.J||wt!=4||f==7||(f==8||0>=Eo?M(3):M(2)),qe(this);var h=this.g.Z();this.X=h;t:if(Hn(this)){var g=zm(this.g);a="";var O=g.length,F=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),Kn(this);var G="";break t}this.h.i=new l.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,a+=this.h.i.decode(g[f],{stream:!(F&&f==O-1)});g.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=h==200,Q(this.i,this.u,this.A,this.l,this.R,wt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ft=this.g;if((Ie=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ie)){var ve=Ie;break t}}ve=null}if(h=ve)re(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Le(this,h);else{this.o=!1,this.s=3,K(12),Kt(this),Kn(this);break e}}if(this.P){h=!0;let An;for(;!this.J&&this.C<G.length;)if(An=yo(this,G),An==Vt){wt==4&&(this.s=4,K(14),h=!1),re(this.i,this.l,null,"[Incomplete Response]");break}else if(An==an){this.s=4,K(15),re(this.i,this.l,G,"[Invalid Chunk]"),h=!1;break}else re(this.i,this.l,An,null),Le(this,An);if(Hn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||G.length!=0||this.h.h||(this.s=1,K(16),h=!1),this.o=this.o&&h,!h)re(this.i,this.l,G,"[Invalid Chunked Response]"),Kt(this),Kn(this);else if(0<G.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),gf(_t),_t.M=!0,K(11))}}else re(this.i,this.l,G,null),Le(this,G);wt==4&&Kt(this),this.o&&!this.J&&(wt==4?Xm(this.j,this):(this.o=!1,cr(this)))}else gS(this.g),h==400&&0<G.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),Kt(this),Kn(this)}}}catch{}finally{}};function Hn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function yo(a,f){var h=a.C,g=f.indexOf(`
`,h);return g==-1?Vt:(h=Number(f.substring(h,g)),isNaN(h)?an:(g+=1,g+h>f.length?Vt:(f=f.slice(g,g+h),a.C=g+h,f)))}bt.prototype.cancel=function(){this.J=!0,Kt(this)};function cr(a){a.S=Date.now()+a.I,Se(a,a.I)}function Se(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ne(m(a.ba,a),f)}function qe(a){a.B&&(l.clearTimeout(a.B),a.B=null)}bt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ae(this.i,this.A),this.L!=2&&(M(),K(17)),Kt(this),this.s=2,Kn(this)):Se(this,this.S-a)};function Kn(a){a.j.G==0||a.J||Xm(a.j,a)}function Kt(a){qe(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Is(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Le(a,f){try{var h=a.j;if(h.G!=0&&(h.g==a||ff(h.h,a))){if(!a.K&&ff(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(f)}catch{g=null}if(Array.isArray(g)&&g.length==3){var O=g;if(O[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)kl(h),bl(h);else break e;mf(h),K(18)}}else h.za=O[1],0<h.za-h.T&&37500>O[2]&&h.F&&h.v==0&&!h.C&&(h.C=ne(m(h.Za,h),6e3));if(1>=Pm(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else ki(h,11)}else if((a.K||h.g==a)&&kl(h),!y(f))for(O=h.Da.g.parse(f),f=0;f<O.length;f++){let ve=O[f];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];const _t=ve[3];_t!=null&&(h.la=_t,h.j.info("VER="+h.la));const wt=ve[4];wt!=null&&(h.Aa=wt,h.j.info("SVER="+h.Aa));const Eo=ve[5];Eo!=null&&typeof Eo=="number"&&0<Eo&&(g=1.5*Eo,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;const An=a.g;if(An){const Dl=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dl){var F=g.h;F.g||Dl.indexOf("spdy")==-1&&Dl.indexOf("quic")==-1&&Dl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(hf(F,F.h),F.h=null))}if(g.D){const vf=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(g.ya=vf,Oe(g.I,g.D,vf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var G=a;if(g.qa=Zm(g,g.J?g.ia:null,g.W),G.K){Cm(g.h,G);var Ie=G,ft=g.L;ft&&(Ie.I=ft),Ie.B&&(qe(Ie),cr(Ie)),g.g=G}else qm(g);0<h.i.length&&xl(h)}else ve[0]!="stop"&&ve[0]!="close"||ki(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ki(h,7):pf(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}M(4)}catch{}}var $r=class{constructor(a,f){this.g=a,this.map=f}};function bs(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sl(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Pm(a){return a.h?1:a.g?a.g.size:0}function ff(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function hf(a,f){a.g?a.g.add(f):a.h=f}function Cm(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}bs.prototype.cancel=function(){if(this.i=bm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function bm(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const h of a.g.values())f=f.concat(h.D);return f}return x(a.i)}function tS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],h=a.length,g=0;g<h;g++)f.push(a[g]);return f}f=[],h=0;for(g in a)f[h++]=a[g];return f}function nS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var h=0;h<a;h++)f.push(h);return f}f=[],h=0;for(const g in a)f[h++]=g;return f}}}function xm(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var h=nS(a),g=tS(a),O=g.length,F=0;F<O;F++)f.call(void 0,g[F],h&&h[F],a)}var km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rS(a,f){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),O=null;if(0<=g){var F=a[h].substring(0,g);O=a[h].substring(g+1)}else F=a[h];f(F,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function xi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof xi){this.h=a.h,Tl(this,a.j),this.o=a.o,this.g=a.g,Al(this,a.s),this.l=a.l;var f=a.i,h=new Os;h.i=f.i,f.g&&(h.g=new Map(f.g),h.h=f.h),Om(this,h),this.m=a.m}else a&&(f=String(a).match(km))?(this.h=!1,Tl(this,f[1]||"",!0),this.o=xs(f[2]||""),this.g=xs(f[3]||"",!0),Al(this,f[4]),this.l=xs(f[5]||"",!0),Om(this,f[6]||"",!0),this.m=xs(f[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}xi.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ks(f,Dm,!0),":");var h=this.g;return(h||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ks(f,Dm,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ks(h,h.charAt(0)=="/"?sS:oS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ks(h,lS)),a.join("")};function fr(a){return new xi(a)}function Tl(a,f,h){a.j=h?xs(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Al(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Om(a,f,h){f instanceof Os?(a.i=f,uS(a.i,a.h)):(h||(f=ks(f,aS)),a.i=new Os(f,a.h))}function Oe(a,f,h){a.i.set(f,h)}function Il(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function xs(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ks(a,f,h){return typeof a=="string"?(a=encodeURI(a).replace(f,iS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function iS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Dm=/[#\/\?@]/g,oS=/[#\?:]/g,sS=/[#\?]/g,aS=/[#\?@]/g,lS=/#/g;function Os(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Br(a){a.g||(a.g=new Map,a.h=0,a.i&&rS(a.i,function(f,h){a.add(decodeURIComponent(f.replace(/\+/g," ")),h)}))}e=Os.prototype,e.add=function(a,f){Br(this),this.i=null,a=_o(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(f),this.h+=1,this};function Nm(a,f){Br(a),f=_o(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Vm(a,f){return Br(a),f=_o(a,f),a.g.has(f)}e.forEach=function(a,f){Br(this),this.g.forEach(function(h,g){h.forEach(function(O){a.call(f,O,g,this)},this)},this)},e.na=function(){Br(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),h=[];for(let g=0;g<f.length;g++){const O=a[g];for(let F=0;F<O.length;F++)h.push(f[g])}return h},e.V=function(a){Br(this);let f=[];if(typeof a=="string")Vm(this,a)&&(f=f.concat(this.g.get(_o(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)f=f.concat(a[h])}return f},e.set=function(a,f){return Br(this),this.i=null,a=_o(this,a),Vm(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},e.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Lm(a,f,h){Nm(a,f),0<h.length&&(a.i=null,a.g.set(_o(a,f),x(h)),a.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var h=0;h<f.length;h++){var g=f[h];const F=encodeURIComponent(String(g)),G=this.V(g);for(g=0;g<G.length;g++){var O=F;G[g]!==""&&(O+="="+encodeURIComponent(String(G[g]))),a.push(O)}}return this.i=a.join("&")};function _o(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function uS(a,f){f&&!a.j&&(Br(a),a.i=null,a.g.forEach(function(h,g){var O=g.toLowerCase();g!=O&&(Nm(this,g),Lm(this,O,h))},a)),a.j=f}function cS(a,f){const h=new X;if(l.Image){const g=new Image;g.onload=_(zr,h,"TestLoadImage: loaded",!0,f,g),g.onerror=_(zr,h,"TestLoadImage: error",!1,f,g),g.onabort=_(zr,h,"TestLoadImage: abort",!1,f,g),g.ontimeout=_(zr,h,"TestLoadImage: timeout",!1,f,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else f(!1)}function fS(a,f){const h=new X,g=new AbortController,O=setTimeout(()=>{g.abort(),zr(h,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:g.signal}).then(F=>{clearTimeout(O),F.ok?zr(h,"TestPingServer: ok",!0,f):zr(h,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),zr(h,"TestPingServer: error",!1,f)})}function zr(a,f,h,g,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),g(h)}catch{}}function hS(){this.g=new Rs}function dS(a,f,h){const g=h||"";try{xm(a,function(O,F){let G=O;c(O)&&(G=Vr(O)),f.push(g+F+"="+encodeURIComponent(G))})}catch(O){throw f.push(g+"type="+encodeURIComponent("_badmap")),O}}function Rl(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Rl,Ps),Rl.prototype.g=function(){return new Pl(this.l,this.j)},Rl.prototype.i=function(a){return function(){return a}}({});function Pl(a,f){Ye.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Pl,Ye),e=Pl.prototype,e.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Ns(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Ds(this):Ns(this),this.readyState==3&&Mm(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,Ds(this))},e.Qa=function(a){this.g&&(this.response=a,Ds(this))},e.ga=function(){this.g&&Ds(this)};function Ds(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ns(a)}e.setRequestHeader=function(a,f){this.u.append(a,f)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var h=f.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=f.next();return a.join(`\r
`)};function Ns(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Fm(a){let f="";return U(a,function(h,g){f+=g,f+=":",f+=h,f+=`\r
`}),f}function df(a,f,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Fm(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Oe(a,f,h))}function ze(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ze,Ye);var pS=/^https?$/i,mS=["POST","PUT"];e=ze.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,f,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?Cs(this.o):Cs(Ee),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(F){jm(this,F);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var O in g)h.set(O,g[O]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const F of g.keys())h.set(F,g.get(F));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(F=>F.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mS,f,void 0))||g||O||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of h)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bm(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){jm(this,F)}};function jm(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Um(a),Cl(a)}function Um(a){a.A||(a.A=!0,Je(a,"complete"),Je(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Je(this,"complete"),Je(this,"abort"),Cl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cl(this,!0)),ze.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$m(this):this.bb())},e.bb=function(){$m(this)};function $m(a){if(a.h&&typeof s<"u"&&(!a.v[1]||hr(a)!=4||a.Z()!=2)){if(a.u&&hr(a)==4)Tn(a.Ea,0,a);else if(Je(a,"readystatechange"),hr(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var h;if(!(h=f)){var g;if(g=G===0){var O=String(a.D).match(km)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),g=!pS.test(O?O.toLowerCase():"")}h=g}if(h)Je(a,"complete"),Je(a,"success");else{a.m=6;try{var F=2<hr(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",Um(a)}}finally{Cl(a)}}}}function Cl(a,f){if(a.g){Bm(a);const h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Je(a,"ready");try{h.onreadystatechange=g}catch{}}}function Bm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function hr(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),_l(f)}};function zm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function gS(a){const f={};a=(a.g&&2<=hr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(y(a[g]))continue;var h=b(a[g]);const O=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const F=f[O]||[];f[O]=F,F.push(h)}S(f,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(a,f,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||f}function Hm(a){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,a),this.cb=Vs("retryDelaySeedMs",1e4,a),this.Wa=Vs("forwardChannelMaxRetries",2,a),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(a&&a.concurrentRequestLimit),this.Da=new hS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Hm.prototype,e.la=8,e.G=1,e.connect=function(a,f,h,g){K(0),this.W=a,this.H=f||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Zm(this,null,this.W),xl(this)};function pf(a){if(Km(a),a.G==3){var f=a.U++,h=fr(a.I);if(Oe(h,"SID",a.K),Oe(h,"RID",f),Oe(h,"TYPE","terminate"),Ls(a,h),f=new bt(a,a.j,f),f.L=2,f.v=Il(fr(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=f.v,h=!0),h||(f.g=eg(f.j,null),f.g.ea(f.v)),f.F=Date.now(),cr(f)}Jm(a)}function bl(a){a.g&&(gf(a),a.g.cancel(),a.g=null)}function Km(a){bl(a),a.u&&(l.clearTimeout(a.u),a.u=null),kl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function xl(a){if(!Sl(a.h)&&!a.s){a.s=!0;var f=a.Ga;Ct||oe(),q||(Ct(),q=!0),te.add(f,a),a.B=0}}function vS(a,f){return Pm(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ne(m(a.Ga,a,f),Ym(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new bt(this,this.j,a);let F=this.o;if(this.S&&(F?(F=v(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(O.H=F,F=null),this.P)e:{for(var f=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(f+=g,4096<f){f=h;break e}if(f===4096||h===this.i.length-1){f=h+1;break e}}f=1e3}else f=1e3;f=Wm(this,O,f),h=fr(this.I),Oe(h,"RID",a),Oe(h,"CVER",22),this.D&&Oe(h,"X-HTTP-Session-Id",this.D),Ls(this,h),F&&(this.O?f="headers="+encodeURIComponent(String(Fm(F)))+"&"+f:this.m&&df(h,this.m,F)),hf(this.h,O),this.Ua&&Oe(h,"TYPE","init"),this.P?(Oe(h,"$req",f),Oe(h,"SID","null"),O.T=!0,bi(O,h,null)):bi(O,h,f),this.G=2}}else this.G==3&&(a?Gm(this,a):this.i.length==0||Sl(this.h)||Gm(this))};function Gm(a,f){var h;f?h=f.l:h=a.U++;const g=fr(a.I);Oe(g,"SID",a.K),Oe(g,"RID",h),Oe(g,"AID",a.T),Ls(a,g),a.m&&a.o&&df(g,a.m,a.o),h=new bt(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Wm(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),hf(a.h,h),bi(h,g,f)}function Ls(a,f){a.H&&U(a.H,function(h,g){Oe(f,g,h)}),a.l&&xm({},function(h,g){Oe(f,g,h)})}function Wm(a,f,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var O=a.i;let F=-1;for(;;){const G=["count="+h];F==-1?0<h?(F=O[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Ie=!0;for(let ft=0;ft<h;ft++){let ve=O[ft].g;const _t=O[ft].map;if(ve-=F,0>ve)F=Math.max(0,O[ft].g-100),Ie=!1;else try{dS(_t,G,"req"+ve+"_")}catch{g&&g(_t)}}if(Ie){g=G.join("&");break e}}}return a=a.i.splice(0,h),f.D=a,g}function qm(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Ct||oe(),q||(Ct(),q=!0),te.add(f,a),a.v=0}}function mf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ne(m(a.Fa,a),Ym(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,Qm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ne(m(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),bl(this),Qm(this))};function gf(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Qm(a){a.g=new bt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=fr(a.qa);Oe(f,"RID","rpc"),Oe(f,"SID",a.K),Oe(f,"AID",a.T),Oe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(f,"TO",a.ja),Oe(f,"TYPE","xmlhttp"),Ls(a,f),a.m&&a.o&&df(f,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Il(fr(f)),h.m=null,h.P=!0,Ur(h,a)}e.Za=function(){this.C!=null&&(this.C=null,bl(this),mf(this),K(19))};function kl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Xm(a,f){var h=null;if(a.g==f){kl(a),gf(a),a.g=null;var g=2}else if(ff(a.h,f))h=f.D,Cm(a.h,f),g=1;else return;if(a.G!=0){if(f.o)if(g==1){h=f.m?f.m.length:0,f=Date.now()-f.F;var O=a.B;g=P(),Je(g,new ee(g,h)),xl(a)}else qm(a);else if(O=f.s,O==3||O==0&&0<f.X||!(g==1&&vS(a,f)||g==2&&mf(a)))switch(h&&0<h.length&&(f=a.h,f.i=f.i.concat(h)),O){case 1:ki(a,5);break;case 4:ki(a,10);break;case 3:ki(a,6);break;default:ki(a,2)}}}function Ym(a,f){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*f}function ki(a,f){if(a.j.info("Error code "+f),f==2){var h=m(a.fb,a),g=a.Xa;const O=!g;g=new xi(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Tl(g,"https"),Il(g),O?cS(g.toString(),h):fS(g.toString(),h)}else K(2);a.G=0,a.l&&a.l.sa(f),Jm(a),Km(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function Jm(a){if(a.G=0,a.ka=[],a.l){const f=bm(a.h);(f.length!=0||a.i.length!=0)&&(N(a.ka,f),N(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Zm(a,f,h){var g=h instanceof xi?fr(h):new xi(h);if(g.g!="")f&&(g.g=f+"."+g.g),Al(g,g.s);else{var O=l.location;g=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var F=new xi(null);g&&Tl(F,g),f&&(F.g=f),O&&Al(F,O),h&&(F.l=h),g=F}return h=a.D,f=a.ya,h&&f&&Oe(g,h,f),Oe(g,"VER",a.la),Ls(a,g),g}function eg(a,f,h){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new ze(new Rl({eb:h})):new ze(a.pa),f.Ha(a.J),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function tg(){}e=tg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ol(){}Ol.prototype.g=function(a,f){return new Gt(a,f)};function Gt(a,f){Ye.call(this),this.g=new Hm(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!y(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new wo(this)}C(Gt,Ye),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){pf(this.g)},Gt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Vr(a),a=h);f.i.push(new $r(f.Ya++,a)),f.G==3&&xl(f)},Gt.prototype.N=function(){this.g.l=null,delete this.j,pf(this.g),delete this.g,Gt.aa.N.call(this)};function ng(a){Mr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const h in f){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}C(ng,Mr);function rg(){Fr.call(this),this.status=1}C(rg,Fr);function wo(a){this.g=a}C(wo,tg),wo.prototype.ua=function(){Je(this.g,"a")},wo.prototype.ta=function(a){Je(this.g,new ng(a))},wo.prototype.sa=function(a){Je(this.g,new rg)},wo.prototype.ra=function(){Je(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,s1=function(){return new Ol},o1=function(){return P()},i1=ur,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,Ru=Be,Ce.COMPLETE="complete",r1=Ce,wl.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,ea=wl,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,n1=ze}).apply(typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{});const Ey="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new em("@firebase/firestore");function Ro(){return io.logLevel}function J(e,...t){if(io.logLevel<=pe.DEBUG){const n=t.map(lm);io.debug(`Firestore (${ys}): ${e}`,...n)}}function oo(e,...t){if(io.logLevel<=pe.ERROR){const n=t.map(lm);io.error(`Firestore (${ys}): ${e}`,...n)}}function gc(e,...t){if(io.logLevel<=pe.WARN){const n=t.map(lm);io.warn(`Firestore (${ys}): ${e}`,...n)}}function lm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e="Unexpected state"){const t=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+e;throw oo(t),new Error(t)}function Ge(e,t){e||he()}function xe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ri{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class xO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kO{constructor(t){this.t=t,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ge(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hi)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new a1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ge(t===null||typeof t=="string"),new At(t)}}class OO{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DO{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new OO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VO{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Ge(this.o===void 0);const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new NO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=LO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Te(e,t){return e<t?-1:e>t?1:0}function ls(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static now(){return at.fromMillis(Date.now())}static fromDate(t){return at.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new at(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Te(this.nanoseconds,t.nanoseconds):Te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(t){return new Me(t)}static min(){return new Me(new at(0,0))}static max(){return new Me(new at(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n,r){n===void 0?n=0:n>t.length&&he(),r===void 0?r=t.length-n:r>t.length-n&&he(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return qn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qn?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=qn.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return Math.sign(t.length-n.length)}static compareSegments(t,n){const r=qn.isNumericId(t),i=qn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?qn.extractNumericId(t).compare(qn.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return am.fromString(t.substring(4,t.length-2))}}class Ke extends qn{construct(t,n,r){return new Ke(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const MO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends qn{construct(t,n,r){return new mt(t,n,r)}static isValidIdentifier(t){return MO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(Ke.fromString(t))}static fromName(t){return new le(Ke.fromString(t).popFirst(5))}static empty(){return new le(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ke.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new Ke(t.slice()))}}function FO(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new gi(i,le.empty(),t)}function jO(e){return new gi(e.readTime,e.key,-1)}class gi{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new gi(Me.min(),le.empty(),-1)}static max(){return new gi(Me.max(),le.empty(),-1)}}function UO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=le.comparator(e.documentKey,t.documentKey),n!==0?n:Te(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(e){if(e.code!==H.FAILED_PRECONDITION||e.message!==$O)throw e;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,r)=>{n(t)})}static reject(t){return new $((n,r)=>{r(t)})}static waitFor(t){return new $((n,r)=>{let i=0,o=0,s=!1;t.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new $((r,i)=>{const o=t.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(t[c]).next(d=>{s[c]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(t,n){return new $((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function zO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}cm.oe=-1;function fm(e){return e==null}function vc(e){return e===0&&1/e==-1/0}function HO(e){return typeof e=="number"&&Number.isInteger(e)&&!vc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Sy(t)),t=GO(e.get(n),t);return Sy(t)}function GO(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Sy(e){return e+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _s(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function u1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t,n){this.comparator=t,this.root=n||dt.EMPTY}insert(t,n){return new zt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(t){return new zt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iu(this.root,t,this.comparator,!1)}getReverseIterator(){return new iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iu(this.root,t,this.comparator,!0)}}class iu{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=o??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new dt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const t=this.left.check();if(t!==this.right.check())throw he();return t+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,n,r,i,o){return this}insert(t,n,r){return new dt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.comparator=t,this.data=new zt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(t){return new Ay(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof vt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new vt(this.comparator);return n.data=t,n}}class Ay{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(mt.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new vt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ls(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WO("Invalid base64 string: "+o):o}}(t);return new or(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new or(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}or.EMPTY_BYTE_STRING=new or("");const qO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(e){if(Ge(!!e),typeof e=="string"){let t=0;const n=qO.exec(e);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pt(e.seconds),nanos:pt(e.nanos)}}function pt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function us(e){return typeof e=="string"?or.fromBase64String(e):or.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dm(e){const t=e.mapValue.fields.__previous_value__;return hm(t)?dm(t):t}function yc(e){const t=so(e.mapValue.fields.__local_write_time__.timestampValue);return new at(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,n,r,i,o,s,l,u,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class _c{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof _c&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ao(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hm(e)?4:YO(e)?9007199254740991:XO(e)?10:11:he()}function sr(e,t){if(e===t)return!0;const n=ao(e);if(n!==ao(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yc(e).isEqual(yc(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=so(i.timestampValue),l=so(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return us(i.bytesValue).isEqual(us(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return pt(i.geoPointValue.latitude)===pt(o.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return pt(i.integerValue)===pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=pt(i.doubleValue),l=pt(o.doubleValue);return s===l?vc(s)===vc(l):isNaN(s)&&isNaN(l)}return!1}(e,t);case 9:return ls(e.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Ty(s)!==Ty(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!sr(s[u],l[u])))return!1;return!0}(e,t);default:return he()}}function ja(e,t){return(e.values||[]).find(n=>sr(n,t))!==void 0}function cs(e,t){if(e===t)return 0;const n=ao(e),r=ao(t);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(e.booleanValue,t.booleanValue);case 2:return function(o,s){const l=pt(o.integerValue||o.doubleValue),u=pt(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return Iy(e.timestampValue,t.timestampValue);case 4:return Iy(yc(e),yc(t));case 5:return Te(e.stringValue,t.stringValue);case 6:return function(o,s){const l=us(o),u=us(s);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=Te(l[c],u[c]);if(d!==0)return d}return Te(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const l=Te(pt(o.latitude),pt(s.latitude));return l!==0?l:Te(pt(o.longitude),pt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ry(e.arrayValue,t.arrayValue);case 10:return function(o,s){var l,u,c,d;const p=o.fields||{},m=s.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=Te(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Ry(_,C)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===ou.mapValue&&s===ou.mapValue)return 0;if(o===ou.mapValue)return 1;if(s===ou.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Te(u[p],d[p]);if(m!==0)return m;const _=cs(l[u[p]],c[d[p]]);if(_!==0)return _}return Te(u.length,d.length)}(e.mapValue,t.mapValue);default:throw he()}}function Iy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Te(e,t);const n=so(e),r=so(t),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Ry(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=cs(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function fs(e){return Cd(e)}function Cd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=so(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return us(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return le.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Cd(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Cd(n.fields[s])}`;return i+"}"}(e.mapValue):he()}function Pu(e){switch(ao(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dm(e);return t?16+Pu(t):16;case 5:return 2*e.stringValue.length;case 6:return us(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Pu(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return _s(r.fields,(o,s)=>{i+=o.length+Pu(s)}),i}(e.mapValue);default:throw he()}}function bd(e){return!!e&&"integerValue"in e}function pm(e){return!!e&&"arrayValue"in e}function Cu(e){return!!e&&"mapValue"in e}function XO(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function da(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _s(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=da(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=da(e.arrayValue.values[n]);return t}return Object.assign({},e)}function YO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Cu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=da(n)}setAll(t){let n=mt.emptyPath(),r={},i=[];t.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=da(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Cu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){_s(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new On(da(this.value))}}function c1(e){const t=[];return _s(e.fields,(n,r)=>{const i=new mt([n]);if(Cu(r)){const o=c1(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t,n,r,i,o,s,l){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(t){return new xn(t,0,Me.min(),Me.min(),Me.min(),On.empty(),0)}static newFoundDocument(t,n,r,i){return new xn(t,1,n,Me.min(),r,i,0)}static newNoDocument(t,n){return new xn(t,2,n,Me.min(),Me.min(),On.empty(),0)}static newUnknownDocument(t,n){return new xn(t,3,n,Me.min(),Me.min(),On.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n){this.position=t,this.inclusive=n}}function Py(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(s.referenceValue),n.key):r=cs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n="asc"){this.field=t,this.dir=n}}function JO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{}class it extends f1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new eD(t,n,r):n==="array-contains"?new rD(t,r):n==="in"?new iD(t,r):n==="not-in"?new oD(t,r):n==="array-contains-any"?new sD(t,r):new it(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new tD(t,r):new nD(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cs(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends f1{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new vi(t,n)}matches(t){return h1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h1(e){return e.op==="and"}function d1(e){return ZO(e)&&h1(e)}function ZO(e){for(const t of e.filters)if(t instanceof vi)return!1;return!0}function xd(e){if(e instanceof it)return e.field.canonicalString()+e.op.toString()+fs(e.value);if(d1(e))return e.filters.map(t=>xd(t)).join(",");{const t=e.filters.map(n=>xd(n)).join(",");return`${e.op}(${t})`}}function p1(e,t){return e instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&sr(r.value,i.value)}(e,t):e instanceof vi?function(r,i){return i instanceof vi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&p1(s,i.filters[l]),!0):!1}(e,t):void he()}function m1(e){return e instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(e):e instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(m1).join(" ,")+"}"}(e):"Filter"}class eD extends it{constructor(t,n,r){super(t,n,r),this.key=le.fromName(r.referenceValue)}matches(t){const n=le.comparator(t.key,this.key);return this.matchesComparison(n)}}class tD extends it{constructor(t,n){super(t,"in",n),this.keys=g1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class nD extends it{constructor(t,n){super(t,"not-in",n),this.keys=g1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function g1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class rD extends it{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return pm(n)&&ja(n.arrayValue,this.value)}}class iD extends it{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ja(this.value.arrayValue,n)}}class oD extends it{constructor(t,n){super(t,"not-in",n)}matches(t){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ja(this.value.arrayValue,n)}}class sD extends it{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ja(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n=null,r=[],i=[],o=null,s=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function by(e,t=null,n=[],r=[],i=null,o=null,s=null){return new aD(e,t,n,r,i,o,s)}function mm(e){const t=xe(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>xd(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>fs(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>fs(r)).join(",")),t.ue=n}return t.ue}function gm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!JO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!p1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cy(e.startAt,t.startAt)&&Cy(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lD(e,t,n,r,i,o,s,l){return new ef(e,t,n,r,i,o,s,l)}function uD(e){return new ef(e)}function xy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function cD(e){return e.collectionGroup!==null}function pa(e){const t=xe(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new vt(mt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Ec(o,r))}),n.has(mt.keyField().canonicalString())||t.ce.push(new Ec(mt.keyField(),r))}return t.ce}function Ki(e){const t=xe(e);return t.le||(t.le=fD(t,pa(e))),t.le}function fD(e,t){if(e.limitType==="F")return by(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ec(i.field,o)});const n=e.endAt?new wc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wc(e.startAt.position,e.startAt.inclusive):null;return by(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function kd(e,t,n){return new ef(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function v1(e,t){return gm(Ki(e),Ki(t))&&e.limitType===t.limitType}function y1(e){return`${mm(Ki(e))}|lt:${e.limitType}`}function qs(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m1(i)).join(", ")}]`),fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}(Ki(e))}; limitType=${e.limitType})`}function vm(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of pa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=Py(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,pa(r),i)||r.endAt&&!function(s,l,u){const c=Py(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,pa(r),i))}(e,t)}function hD(e){return(t,n)=>{let r=!1;for(const i of pa(e)){const o=dD(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dD(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?cs(u,c):he()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){_s(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new zt(le.comparator);function Sc(){return pD}const _1=new zt(le.comparator);function su(...e){let t=_1;for(const n of e)t=t.insert(n.key,n);return t}function w1(e){let t=_1;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function $i(){return ma()}function E1(){return ma()}function ma(){return new mo(e=>e.toString(),(e,t)=>e.isEqual(t))}const mD=new zt(le.comparator),gD=new vt(le.comparator);function Rt(...e){let t=gD;for(const n of e)t=t.add(n);return t}const vD=new vt(Te);function yD(){return vD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(t)?"-0":t}}function S1(e){return{integerValue:""+e}}function _D(e,t){return HO(t)?S1(t):ym(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function wD(e,t,n){return e instanceof Tc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hm(o)&&(o=dm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Ua?A1(e,t):e instanceof $a?I1(e,t):function(i,o){const s=T1(i,o),l=ky(s)+ky(i.Pe);return bd(s)&&bd(i.Pe)?S1(l):ym(i.serializer,l)}(e,t)}function ED(e,t,n){return e instanceof Ua?A1(e,t):e instanceof $a?I1(e,t):n}function T1(e,t){return e instanceof Ac?function(r){return bd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Tc extends tf{}class Ua extends tf{constructor(t){super(),this.elements=t}}function A1(e,t){const n=R1(t);for(const r of e.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class $a extends tf{constructor(t){super(),this.elements=t}}function I1(e,t){let n=R1(t);for(const r of e.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class Ac extends tf{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function ky(e){return pt(e.integerValue||e.doubleValue)}function R1(e){return pm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function SD(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Ua&&i instanceof Ua||r instanceof $a&&i instanceof $a?ls(r.elements,i.elements,sr):r instanceof Ac&&i instanceof Ac?sr(r.Pe,i.Pe):r instanceof Tc&&i instanceof Tc}(e.transform,t.transform)}class TD{constructor(t,n){this.version=t,this.transformResults=n}}class Sr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Sr}static exists(t){return new Sr(void 0,t)}static updateTime(t){return new Sr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class nf{}function P1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new b1(e.key,Sr.none()):new cl(e.key,e.data,Sr.none());{const n=e.data,r=On.empty();let i=new vt(mt.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new go(e.key,r,new Dn(i.toArray()),Sr.none())}}function AD(e,t,n){e instanceof cl?function(i,o,s){const l=i.value.clone(),u=Dy(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):e instanceof go?function(i,o,s){if(!bu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=Dy(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(C1(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ga(e,t,n,r){return e instanceof cl?function(o,s,l,u){if(!bu(o.precondition,s))return l;const c=o.value.clone(),d=Ny(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof go?function(o,s,l,u){if(!bu(o.precondition,s))return l;const c=Ny(o.fieldTransforms,u,s),d=s.data;return d.setAll(C1(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(e,t,n,r):function(o,s,l){return bu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(e,t,n)}function ID(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=T1(r.transform,i||null);o!=null&&(n===null&&(n=On.empty()),n.set(r.field,o))}return n||null}function Oy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ls(r,i,(o,s)=>SD(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cl extends nf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends nf{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function C1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Dy(e,t,n){const r=new Map;Ge(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,l=t.data.field(o.field);r.set(o.field,ED(s,l,n[i]))}return r}function Ny(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,wD(o,s,t))}return r}class b1 extends nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RD extends nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&AD(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ga(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ga(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=E1();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=P1(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Rt())}isEqual(t){return this.batchId===t.batchId&&ls(this.mutations,t.mutations,(n,r)=>Oy(n,r))&&ls(this.baseMutations,t.baseMutations,(n,r)=>Oy(n,r))}}class _m{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ge(t.mutations.length===r.length);let i=function(){return mD}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _m(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,de;function bD(e){switch(e){default:return he();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function xD(e){if(e===void 0)return oo("GRPC error has no .code"),H.UNKNOWN;switch(e){case Qe.OK:return H.OK;case Qe.CANCELLED:return H.CANCELLED;case Qe.UNKNOWN:return H.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return H.INTERNAL;case Qe.UNAVAILABLE:return H.UNAVAILABLE;case Qe.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Qe.NOT_FOUND:return H.NOT_FOUND;case Qe.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Qe.ABORTED:return H.ABORTED;case Qe.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Qe.DATA_LOSS:return H.DATA_LOSS;default:return he()}}(de=Qe||(Qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new am([4294967295,4294967295],0);class kD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Od(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function DD(e,t){return Od(e,t.toTimestamp())}function Qo(e){return Ge(!!e),Me.fromTimestamp(function(n){const r=so(n);return new at(r.seconds,r.nanos)}(e))}function x1(e,t){return Dd(e,t).canonicalString()}function Dd(e,t){const n=function(i){return new Ke(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ND(e){const t=Ke.fromString(e);return Ge(BD(t)),t}function Nd(e,t){return x1(e.databaseId,t.path)}function VD(e){const t=ND(e);return t.length===4?Ke.emptyPath():MD(t)}function LD(e){return new Ke(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function MD(e){return Ge(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Vy(e,t,n){return{name:Nd(e,t),fields:n.value.mapValue.fields}}function FD(e,t){let n;if(t instanceof cl)n={update:Vy(e,t.key,t.value)};else if(t instanceof b1)n={delete:Nd(e,t.key)};else if(t instanceof go)n={update:Vy(e,t.key,t.data),updateMask:$D(t.fieldMask)};else{if(!(t instanceof RD))return he();n={verify:Nd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Tc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $a)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ac)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw he()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:DD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(e,t.precondition)),n}function jD(e,t){return e&&e.length>0?(Ge(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?Qo(i.updateTime):Qo(o);return s.isEqual(Me.min())&&(s=Qo(o)),new TD(s,i.transformResults||[])}(n,t))):[]}function UD(e){let t=VD(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let o=[];n.where&&(o=function(p){const m=k1(p);return m instanceof vi&&d1(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new Ec(Po(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,fm(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new wc(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,_=p.values||[];return new wc(_,m)}(n.endAt)),lD(t,i,s,o,l,"F",u,c)}function k1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Po(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Po(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Po(n.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Po(n.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(e):e.fieldFilter!==void 0?function(n){return it.create(Po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(r=>k1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(e):he()}function Po(e){return mt.fromServerFormat(e.fieldPath)}function $D(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function BD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.ht=t}}function HD(e){const t=UD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.ln=new GD}addToCollectionParentIndex(t,n){return this.ln.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.ln.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(gi.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(gi.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class GD{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new vt(Ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new vt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lt{static withCacheSize(t){return new Lt(t,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(41943040,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new hs(0)}static Qn(){return new hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My([e,t],[n,r]){const i=Te(e,n);return i===0?Te(t,r):i}class WD{constructor(t){this.Gn=t,this.buffer=new vt(My),this.zn=0}jn(){return++this.zn}Hn(t){const n=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();My(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){J("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await um(n)}await this.Yn(3e5)})}}class QD{constructor(t,n){this.Zn=t,this.params=n}calculateTargetCount(t,n){return this.Zn.Xn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return $.resolve(cm.oe);const r=new WD(n);return this.Zn.forEachTarget(t,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(t,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Zn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Zn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ly)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ly):this.tr(t,n))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,n){let r,i,o,s,l,u,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(t,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(t,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(c=Date.now(),Ro()<=pe.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function XD(e,t){return new QD(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.changes=new mo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,xn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&ga(r.mutation,i,Dn.empty(),at.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Rt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Rt()){const i=$i();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=su();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=$i();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Rt()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(t,n,r,i){let o=Sc();const s=ma(),l=function(){return ma()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof go)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),ga(d.mutation,c,d.mutation.getFieldMask(),at.now())):s.set(c.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new JD(d,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(t,n){const r=ma();let i=new zt((s,l)=>s-l),o=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Dn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||Rt()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=E1();d.forEach(m=>{if(!o.has(m)){const _=P1(n.get(m),r.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,p))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):cD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):$.resolve($i());let l=-1,u=o;return s.next(c=>$.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?$.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,u,c,Rt())).next(d=>({batchId:l,changes:w1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new le(n)).next(r=>{let i=su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=su();return this.indexManager.getCollectionParents(t,o).next(l=>$.forEach(l,u=>{const c=function(p,m){return new ef(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,xn.newInvalidDocument(d)))});let l=su();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&ga(d.mutation,c,Dn.empty(),at.now()),vm(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,n){return $.resolve(this.Tr.get(n))}saveBundleMetadata(t,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qo(i.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Ir.get(n))}saveNamedQuery(t,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:HD(i.bundledQuery),readTime:Qo(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.overlays=new zt(le.comparator),this.dr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=$i();return $.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.Tt(t,n,o)}),$.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const i=$i(),o=n.length+1,s=new le(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return $.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new zt((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=$i(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=$i(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return $.resolve(l)}Tt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new CD(n,r));let o=this.dr.get(n);o===void 0&&(o=Rt(),this.dr.set(n,o)),this.dr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.Er=new vt(tt.Ar),this.Rr=new vt(tt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(t,n){const r=new tt(t,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.gr(new tt(t,n))}pr(t,n){t.forEach(r=>this.removeReference(r,n))}yr(t){const n=new le(new Ke([])),r=new tt(n,t),i=new tt(n,t+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.Er.forEach(t=>this.gr(t))}gr(t){this.Er=this.Er.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const n=new le(new Ke([])),r=new tt(n,t),i=new tt(n,t+1);let o=Rt();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new tt(t,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class tt{constructor(t,n){this.key=t,this.br=n}static Ar(t,n){return le.comparator(t.key,n.key)||Te(t.br,n.br)}static Vr(t,n){return Te(t.br,n.br)||le.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new vt(tt.Ar)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new PD(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.vr=this.vr.add(new tt(l.key,o)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return $.resolve(s)}lookupMutationBatch(t,n){return $.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const l=this.Cr(s.br);o.push(l)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new vt(Te);return n.forEach(i=>{const o=new tt(i,0),s=new tt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],l=>{r=r.add(l.br)})}),$.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;le.isDocumentKey(o)||(o=o.child(""));const s=new tt(new le(o),0);let l=new vt(Te);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.br)),!0)},s),$.resolve(this.Mr(l))}Mr(t){const n=[];return t.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ge(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return $.forEach(n.mutations,i=>{const o=new tt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.vr=r})}Bn(t){}containsKey(t,n){const r=new tt(n,0),i=this.vr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Or(t,n){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const n=this.Fr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.Nr=t,this.docs=function(){return new zt(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(t,n){let r=Sc();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():xn.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Sc();const s=n.path,l=new le(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||UO(jO(d),r)<=0||(i.has(d.key)||vm(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(t,n,r,i){he()}Br(t,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new o2(this)}getSize(t){return $.resolve(this.size)}}class o2 extends YD{constructor(t){super(),this.hr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(t,i)):this.hr.removeEntry(r)}),$.waitFor(n)}getFromCache(t,n){return this.hr.getEntry(t,n)}getAllFromCache(t,n){return this.hr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.persistence=t,this.Lr=new mo(n=>mm(n),gm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.kr=0,this.qr=new wm,this.targetCount=0,this.Qr=hs.qn()}forEachTarget(t,n){return this.Lr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),$.resolve()}Un(t){this.Lr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Qr=new hs(n),this.highestTargetId=n),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,n){return this.Un(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Un(n),$.resolve()}removeTargetData(t,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Lr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Lr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.Lr.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this.qr.mr(n,r),$.resolve()}removeMatchingKeys(t,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.qr.yr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this.qr.Sr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,n){this.Kr={},this.overlays={},this.$r=new cm(0),this.Ur=!1,this.Ur=!0,this.Wr=new n2,this.referenceDelegate=t(this),this.Gr=new s2(this),this.indexManager=new KD,this.remoteDocumentCache=function(i){return new i2(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new zD(n),this.jr=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new t2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Kr[t.toKey()];return r||(r=new r2(n,this.referenceDelegate),this.Kr[t.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,n,r){J("MemoryPersistence","Starting transaction:",t);const i=new a2(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(t,n){return $.or(Object.values(this.Kr).map(r=>()=>r.containsKey(t,n)))}}class a2 extends BO{constructor(t){super(),this.currentSequenceNumber=t}}class Em{constructor(t){this.persistence=t,this.Zr=new wm,this.Xr=null}static ei(t){return new Em(t)}get ti(){if(this.Xr)return this.Xr;throw he()}addReference(t,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.ti.add(n.toString()),$.resolve()}removeTarget(t,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Hr(){this.Xr=new Set}Jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ti,r=>{const i=le.fromPath(r);return this.ni(t,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.Xr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ni(t,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(t){return 0}ni(t,n){return $.or([()=>$.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Yr(t,n)])}}class Ic{constructor(t,n){this.persistence=t,this.ri=new mo(r=>KO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=XD(this,n)}static ei(t,n){return new Ic(t,n)}Hr(){}Jr(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}Xn(t){const n=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}nr(t){let n=0;return this.er(t,r=>{n++}).next(()=>n)}er(t,n){return $.forEach(this.ri,(r,i)=>this.ir(t,r,i).next(o=>o?$.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(t,s=>this.ir(t,s,n).next(l=>{l||(r++,o.removeEntry(s,Me.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.ri.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,n,r){return this.ri.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.ri.set(n,t.currentSequenceNumber),$.resolve()}zr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Pu(t.data.value)),n}ir(t,n,r){return $.or([()=>this.persistence.Yr(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.ri.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(t,n){let r=Rt(),i=Rt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sm(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Gb()?8:zO(zb())>0?6:4}()}initialize(t,n){this.Zi=t,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Xi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new l2;return this.ts(t,n,s).next(l=>{if(o.result=l,this.Hi)return this.ns(t,n,s,l.size)})}).next(()=>o.result)}ns(t,n,r,i){return r.documentReadCount<this.Ji?(Ro()<=pe.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),$.resolve()):(Ro()<=pe.DEBUG&&J("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Ro()<=pe.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(n))):$.resolve())}Xi(t,n){if(xy(n))return $.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kd(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=Rt(...o);return this.Zi.getDocuments(t,s).next(l=>this.indexManager.getMinOffset(t,r).next(u=>{const c=this.rs(n,l);return this.ss(n,c,s,u.readTime)?this.Xi(t,kd(n,null,"F")):this.os(t,c,n,u)}))})))}es(t,n,r,i){return xy(n)||i.isEqual(Me.min())?$.resolve(null):this.Zi.getDocuments(t,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?$.resolve(null):(Ro()<=pe.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(n)),this.os(t,s,n,FO(i,-1)).next(l=>l))})}rs(t,n){let r=new vt(hD(t));return n.forEach((i,o)=>{vm(t,o)&&(r=r.add(o))}),r}ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(t,n,r){return Ro()<=pe.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",qs(n)),this.Zi.getDocumentsMatchingQuery(t,n,gi.min(),r)}os(t,n,r,i){return this.Zi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,n,r,i){this.persistence=t,this._s=n,this.serializer=i,this.us=new zt(Te),this.cs=new mo(o=>mm(o),gm),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(r)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.us))}}function f2(e,t,n,r){return new c2(e,t,n,r)}async function D1(e,t){const n=xe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=Rt();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:l}))})})}function h2(e,t){const n=xe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let _=$.resolve();return m.forEach(C=>{_=_.next(()=>d.getEntry(u,C)).next(x=>{const N=c.docVersions.get(C);Ge(N!==null),x.version.compareTo(N)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Rt();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function d2(e){const t=xe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Gr.getLastRemoteSnapshotVersion(n))}function p2(e,t){const n=xe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}class Fy{constructor(){this.activeTargetIds=yD()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class m2{constructor(){this._o=new Fy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,n,r){this.ao[t]=n}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new Fy,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function lh(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class _2 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const l=lh(),u=this.No(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(c,o,s),this.Lo(n,u,c,i).then(d=>(J("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw gc("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}ko(n,r,i,o,s,l){return this.Oo(n,r,i,o,s)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=v2[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Lo(t,n,r,i){const o=lh();return new Promise((s,l)=>{const u=new n1;u.setWithCredentials(!0),u.listenOnce(r1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ru.NO_ERROR:const d=u.getResponseJson();J(Tt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ru.TIMEOUT:J(Tt,`RPC '${t}' ${o} timed out`),l(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:const p=u.getStatus();if(J(Tt,`RPC '${t}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const C=function(N){const w=N.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(_.status);l(new se(C,_.message))}else l(new se(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new se(H.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{J(Tt,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(i);J(Tt,`RPC '${t}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(t,n,r){const i=lh(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=s1(),l=o1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");J(Tt,`Creating RPC '${t}' stream ${i}: ${d}`,u);const p=s.createWebChannel(d,u);let m=!1,_=!1;const C=new y2({Eo:N=>{_?J(Tt,`Not sending because RPC '${t}' stream ${i} is closed:`,N):(m||(J(Tt,`Opening RPC '${t}' stream ${i} transport.`),p.open(),m=!0),J(Tt,`RPC '${t}' stream ${i} sending:`,N),p.send(N))},Ao:()=>p.close()}),x=(N,w,y)=>{N.listen(w,T=>{try{y(T)}catch(V){setTimeout(()=>{throw V},0)}})};return x(p,ea.EventType.OPEN,()=>{_||(J(Tt,`RPC '${t}' stream ${i} transport opened.`),C.So())}),x(p,ea.EventType.CLOSE,()=>{_||(_=!0,J(Tt,`RPC '${t}' stream ${i} transport closed`),C.Do())}),x(p,ea.EventType.ERROR,N=>{_||(_=!0,gc(Tt,`RPC '${t}' stream ${i} transport errored:`,N),C.Do(new se(H.UNAVAILABLE,"The operation could not be completed")))}),x(p,ea.EventType.MESSAGE,N=>{var w;if(!_){const y=N.data[0];Ge(!!y);const T=y,V=(T==null?void 0:T.error)||((w=T[0])===null||w===void 0?void 0:w.error);if(V){J(Tt,`RPC '${t}' stream ${i} received error:`,V);const R=V.status;let U=function(E){const A=Qe[E];if(A!==void 0)return xD(A)}(R),S=V.message;U===void 0&&(U=H.INTERNAL,S="Unknown error status: "+R+" with message "+V.message),_=!0,C.Do(new se(U,S)),p.close()}else J(Tt,`RPC '${t}' stream ${i} received:`,y),C.vo(y)}}),x(l,i1.STAT_EVENT,N=>{N.stat===Pd.PROXY?J(Tt,`RPC '${t}' stream ${i} detected buffering proxy`):N.stat===Pd.NOPROXY&&J(Tt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(e){return new kD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n,r=1e3,i=1.5,o=6e4){this.li=t,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,n,r,i,o,s,l,u){this.li=t,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new N1(t,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(oo(n.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(n)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{t(()=>{const i=new se(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(t,n){const r=this.T_(this.Xo);this.stream=this.E_(t,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(t){return J("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return n=>{this.li.enqueueAndForget(()=>this.Xo===t?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E2 extends w2{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(t,n){return this.connection.qo("Write",t,n)}A_(t){return Ge(!!t.streamToken),this.lastStreamToken=t.streamToken,Ge(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){Ge(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const n=jD(t.writeResults,t.commitTime),r=Qo(t.commitTime);return this.listener.y_(r,n)}w_(){const t={};t.database=LD(this.serializer),this.c_(t)}g_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>FD(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(t,Dd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(H.UNKNOWN,o.toString())})}ko(t,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.ko(t,Dd(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(H.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class T2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oo(n),this.C_=!1):J("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{hl(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=xe(u);c.k_.add(4),await fl(c),c.K_.set("Unknown"),c.k_.delete(4),await of(c)}(this))})}),this.K_=new T2(r,i)}}async function of(e){if(hl(e))for(const t of e.q_)await t(!0)}async function fl(e){for(const t of e.q_)await t(!1)}function hl(e){return xe(e).k_.size===0}async function V1(e,t,n){if(!ul(t))throw t;e.k_.add(1),await fl(e),e.K_.set("Offline"),n||(n=()=>d2(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await of(e)})}function L1(e,t){return t().catch(n=>V1(e,n,t))}async function sf(e){const t=xe(e),n=yi(t);let r=t.B_.length>0?t.B_[t.B_.length-1].batchId:-1;for(;I2(t);)try{const i=await p2(t.localStore,r);if(i===null){t.B_.length===0&&n.a_();break}r=i.batchId,R2(t,i)}catch(i){await V1(t,i)}M1(t)&&F1(t)}function I2(e){return hl(e)&&e.B_.length<10}function R2(e,t){e.B_.push(t);const n=yi(e);n.s_()&&n.f_&&n.g_(t.mutations)}function M1(e){return hl(e)&&!yi(e).i_()&&e.B_.length>0}function F1(e){yi(e).start()}async function P2(e){yi(e).w_()}async function C2(e){const t=yi(e);for(const n of e.B_)t.g_(n.mutations)}async function b2(e,t,n){const r=e.B_.shift(),i=_m.from(r,t,n);await L1(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sf(e)}async function x2(e,t){t&&yi(e).f_&&await async function(r,i){if(function(s){return bD(s)&&s!==H.ABORTED}(i.code)){const o=r.B_.shift();yi(r).__(),await L1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await sf(r)}}(e,t),M1(e)&&F1(e)}async function Uy(e,t){const n=xe(e);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=hl(n);n.k_.add(3),await fl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await of(n)}async function k2(e,t){const n=xe(e);t?(n.k_.delete(2),await of(n)):t||(n.k_.add(2),await fl(n),n.K_.set("Unknown"))}function yi(e){return e.G_||(e.G_=function(n,r,i){const o=xe(n);return o.b_(),new E2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:P2.bind(null,e),po:x2.bind(null,e),p_:C2.bind(null,e),y_:b2.bind(null,e)}),e.q_.push(async t=>{t?(e.G_.__(),await sf(e)):(await e.G_.stop(),e.B_.length>0&&(J("RemoteStore",`Stopping write stream with ${e.B_.length} pending writes`),e.B_=[]))})),e.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,l=new Tm(t,n,s,i,o);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j1(e,t){if(oo("AsyncQueue",`${t}: ${e}`),ul(e))return new se(H.UNAVAILABLE,`${t}: ${e}`);throw e}class O2{constructor(){this.queries=$y(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=$y(),o.forEach((s,l)=>{for(const u of l.J_)u.onError(r)})})(this,new se(H.ABORTED,"Firestore shutting down"))}}function $y(){return new mo(e=>y1(e),v1)}function D2(e){e.X_.forEach(t=>{t.next()})}var By,zy;(zy=By||(By={})).na="default",zy.Cache="cache";class N2{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new mo(l=>y1(l),v1),this.Oa=new Map,this.Na=new Set,this.Ba=new zt(le.comparator),this.La=new Map,this.ka=new wm,this.qa={},this.Qa=new Map,this.Ka=hs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function V2(e,t,n){const r=j2(e);try{const i=await function(s,l){const u=xe(s),c=at.now(),d=l.reduce((_,C)=>_.add(C.key),Rt());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Sc(),x=Rt();return u.hs.getEntries(_,d).next(N=>{C=N,C.forEach((w,y)=>{y.isValidDocument()||(x=x.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(N=>{p=N;const w=[];for(const y of l){const T=ID(y,p.get(y.key).overlayedDocument);T!=null&&w.push(new go(y.key,T,c1(T.value.mapValue),Sr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,w,l)}).next(N=>{m=N;const w=N.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(_,N.batchId,w)})}).then(()=>({batchId:m.batchId,changes:w1(p)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.qa[s.currentUser.toKey()];c||(c=new zt(Te)),c=c.insert(l,u),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await af(r,i.changes),await sf(r.remoteStore)}catch(i){const o=j1(i,"Failed to persist write");n.reject(o)}}function Hy(e,t,n){const r=xe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const l=s.view.ea(t);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=xe(s);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.J_)m.ea(l)&&(c=!0)}),c&&D2(u)}(r.eventManager,t),i.length&&r.Ma.R_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function L2(e,t){const n=xe(e),r=t.batch.batchId;try{const i=await h2(n.localStore,t);$1(n,r,null),U1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await af(n,i)}catch(i){await um(i)}}async function M2(e,t,n){const r=xe(e);try{const i=await function(s,l){const u=xe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Ge(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,t);$1(r,t,n),U1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await af(r,i)}catch(i){await um(i)}}function U1(e,t){(e.Qa.get(t)||[]).forEach(n=>{n.resolve()}),e.Qa.delete(t)}function $1(e,t,n){const r=xe(e);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}async function af(e,t,n){const r=xe(e),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{s.push(r.Ua(u,t,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Sm.zi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(u,c){const d=xe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>$.forEach(c,m=>$.forEach(m.Wi,_=>d.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>$.forEach(m.Gi,_=>d.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!ul(p))throw p;J("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const _=d.us.get(m),C=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(C);d.us=d.us.insert(m,x)}}}(r.localStore,o))}async function F2(e,t){const n=xe(e);if(!n.currentUser.isEqual(t)){J("SyncEngine","User change. New user:",t.toKey());const r=await D1(n.localStore,t);n.currentUser=t,function(o,s){o.Qa.forEach(l=>{l.forEach(u=>{u.reject(new se(H.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await af(n,r.Ts)}}function j2(e){const t=xe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,t),t}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rf(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,n){return null}Ya(t,n){return null}Ha(t){return f2(this.persistence,new u2,t.initialUser,this.serializer)}ja(t){return new O1(Em.ei,this.serializer)}za(t){return new m2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class U2 extends Rc{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,n){Ge(this.persistence.referenceDelegate instanceof Ic);const r=this.persistence.referenceDelegate.garbageCollector;return new qD(r,t.asyncQueue,n)}ja(t){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new O1(r=>Ic.ei(r,n),this.serializer)}}class Vd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F2.bind(null,this.syncEngine),await k2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new O2}()}createDatastore(t){const n=rf(t.databaseInfo.databaseId),r=function(o){return new _2(o)}(t.databaseInfo);return function(o,s,l,u){return new S2(o,s,l,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,l){return new A2(r,i,o,s,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Hy(this.syncEngine,n,0),function(){return jy.p()?new jy:new g2}())}createSyncEngine(t,n){return function(i,o,s,l,u,c,d){const p=new N2(i,o,s,l,u,c);return d&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=xe(i);J("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await fl(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vd.provider={build:()=>new Vd};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=l1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=j1(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function ch(e,t){e.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D1(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ky(e,t){e.asyncQueue.verifyOperationInProgress();const n=await B2(e);J("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Uy(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Uy(t.remoteStore,i)),e._onlineComponents=t}async function B2(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await ch(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),await ch(e,new Rc)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await ch(e,new U2(void 0));return e._offlineComponents}async function z2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Ky(e,e._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Ky(e,new Vd))),e._onlineComponents}function H2(e){return z2(e).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(e,t,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function K2(e,t,n,r){if(t===!0&&r===!0)throw new se(H.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Wy(e){if(!le.isDocumentKey(e))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qy(e){if(le.isDocumentKey(e))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Am(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":he()}function Ld(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(e);throw new se(H.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}K2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bO;switch(r.type){case"firstParty":return new DO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Gy.get(n);r&&(J("ComponentProvider","Removing Datastore"),Gy.delete(n),r.terminate())}(this),Promise.resolve()}}function G2(e,t,n,r={}){var i;const o=(e=Ld(e,lf))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=At.MOCK_USER;else{l=Bb(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new At(c)}e._authCredentials=new xO(new a1(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Im(this.firestore,t,this._query)}}class ir{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ir(this.firestore,t,this._key)}}class fi extends Im{constructor(t,n,r){super(t,n,uD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ir(this.firestore,null,new le(t))}withConverter(t){return new fi(this.firestore,t,this._path)}}function W2(e,t,...n){if(e=to(e),z1("collection","path",t),e instanceof lf){const r=Ke.fromString(t,...n);return qy(r),new fi(e,null,r)}{if(!(e instanceof ir||e instanceof fi))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ke.fromString(t,...n));return qy(r),new fi(e.firestore,null,r)}}function fh(e,t,...n){if(e=to(e),arguments.length===1&&(t=l1.newId()),z1("doc","path",t),e instanceof lf){const r=Ke.fromString(t,...n);return Wy(r),new ir(e,null,new le(r))}{if(!(e instanceof ir||e instanceof fi))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ke.fromString(t,...n));return Wy(r),new ir(e.firestore,e instanceof fi?e.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new N1(this,"async_queue_retry"),this.fu=()=>{const r=uh();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=t;const n=uh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.du){this.du=!0,this.Vu=t||!1;const n=uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.du)return new Promise(()=>{});const n=new Hi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!ul(t))throw t;J("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const n=this.gu.then(()=>(this.Ru=!0,t().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw oo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(t,n,r){this.pu(),this.mu.indexOf(t)>-1&&(n=0);const i=Tm.createAndSchedule(this,t,n,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&he()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const n of this.Eu)if(n.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const n=this.Eu.indexOf(t);this.Eu.splice(n,1)}}class H1 extends lf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Xy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Xy(t),this._firestoreClient=void 0,await t}}}function q2(e,t){const n=typeof e=="object"?e:kE(),r=typeof e=="string"?e:t||"(default)",i=ll(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Ub("firestore");o&&G2(i,...o)}return i}function Q2(e){if(e._terminated)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||X2(e),e._firestoreClient}function X2(e){var t,n,r;const i=e._freezeSettings(),o=function(l,u,c,d){return new QO(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,B1(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new $2(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ba(or.fromBase64String(t))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ba(or.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Te(this._lat,t._lat)||Te(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=/^__.*__$/;class J2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new go(t,this.data,this.fieldMask,n,this.fieldTransforms):new cl(t,this.data,n,this.fieldTransforms)}}function Q1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Rm{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new Rm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xu({path:r,Nu:!1});return i.Bu(t),i}Lu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return Pc(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Bu(this.path.get(t))}Bu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(Q1(this.Mu)&&Y2.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class Z2{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||rf(t)}$u(t,n,r,i=!1){return new Rm({Mu:t,methodName:n,Ku:r,path:mt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eN(e){const t=e._freezeSettings(),n=rf(e._databaseId);return new Z2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tN(e,t,n,r,i,o={}){const s=e.$u(o.merge||o.mergeFields?2:0,t,n,i);Z1("Data must be an object, but it was:",s,r);const l=Y1(r,s);let u,c;if(o.merge)u=new Dn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const m=nN(t,p,n);if(!s.contains(m))throw new se(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oN(d,m)||d.push(m)}u=new Dn(d),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new J2(new On(l),u,c)}function X1(e,t){if(J1(e=to(e)))return Z1("Unsupported field value:",t,e),Y1(e,t);if(e instanceof G1)return function(r,i){if(!Q1(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=X1(l,i.ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=to(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _D(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:Od(i.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Od(i.serializer,o)}}if(r instanceof W1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ba)return{bytesValue:OD(i.serializer,r._byteString)};if(r instanceof ir){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:x1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof q1)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return ym(l.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Am(r)}`)}(e,t)}function Y1(e,t){const n={};return u1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_s(e,(r,i)=>{const o=X1(i,t.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function J1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof at||e instanceof W1||e instanceof Ba||e instanceof ir||e instanceof G1||e instanceof q1)}function Z1(e,t,n){if(!J1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Am(n);throw r==="an object"?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function nN(e,t,n){if((t=to(t))instanceof K1)return t._internalPath;if(typeof t=="string")return iN(e,t);throw Pc("Field path arguments must be of type string or ",e,!1,void 0,n)}const rN=new RegExp("[~\\*/\\[\\]]");function iN(e,t,n){if(t.search(rN)>=0)throw Pc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new K1(...t.split("."))._internalPath}catch{throw Pc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pc(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new se(H.INVALID_ARGUMENT,l+e+u)}function oN(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function hh(e,t,n){e=Ld(e,ir);const r=Ld(e.firestore,H1),i=sN(e.converter,t,n);return aN(r,[tN(eN(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Sr.none())])}function aN(e,t){return function(r,i){const o=new Hi;return r.asyncQueue.enqueueAndForget(async()=>V2(await H2(r),i,o)),o.promise}(Q2(e),t)}(function(t,n=!0){(function(i){ys=i})(Jx),mi(new br("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new H1(new kO(r.getProvider("auth-internal")),new VO(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),rr(Ey,"4.7.6",t),rr(Ey,"4.7.6","esm2017")})();const lN={apiKey:"AIzaSyBWU96nTYbIhXG267hnjqM2QEtpCoOuN-o",authDomain:"examensarbete-ea1a9.firebaseapp.com",databaseURL:"https://examensarbete-ea1a9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"examensarbete-ea1a9",storageBucket:"examensarbete-ea1a9.appspot.com",messagingSenderId:"436329343250",appId:"1:436329343250:web:a8529dbbb11ec1c88c2bcb",measurementId:"G-CP1TJLQKVG"},eS=xE(lN);IO(eS);const uN=q2(eS),cN=async(e,t,n,r,i,o,s,l,u)=>{try{const c=W2(uN,e.email);await hh(fh(c,"personal information"),e),await hh(fh(c,"control questions"),s);const p=r.replace(".mp3","");await hh(fh(c,p),{duration:n,incorrectSelections:o,correctSelections:i,soundFile:r,testNumber:t,totalPairs:l,identicalPairCount:u,timestamp:new Date().toISOString()}),console.log(`Resultat sparat under användare: ${e.email}, Dokument: ${p}`)}catch(c){console.error("Fel vid sparning av testresultat:",c)}};class fN{constructor(){this.userData={fullName:"",gender:"",age:"",year:"",program:"",email:""},this.controlData={usedHeadphones:"",testEnvironment:"",computerVolume:""},this.testNumber=1,this.timeTaken=[],this.pairs=[],this.correctSelections=0,this.missedIdenticalPairs=0,this.incorrectSelections=0,this.identicalPairCount=2,this.soundFiles=[],this.testSaved=!1,$C(this),this.initializeSounds()}initializeSounds(){const t=["no_noise1.mp3","low_entropy_noise2.mp3","medium_entropy_noise3.mp3","high_entropy_noise4.mp3"];this.soundFiles=[...t.sort(()=>Math.random()-.5)],console.log("Slumpad ljudordning:",this.soundFiles)}getCurrentSound(){return this.testNumber<1||this.testNumber>this.soundFiles.length?(console.warn("Ogiltigt testNumber:",this.testNumber),null):this.soundFiles[this.testNumber-1]}updateUserData(t){this.userData={...t}}saveControlQuestions(t){this.controlData={...t}}startTest(){this.generatePairs(),this.correctSelections=0,this.missedIdenticalPairs=0,this.incorrectSelections=0,this.testSaved=!1,this.startTimer()}generatePairs(){const t=["ship1","ship2"];this.identicalPairCount=100;const i=[],o=[];for(let _=0;_<100;_++){const C=t[_%t.length];i.push({left:C,right:C,selected:!1,isIdentical:!0})}for(let _=0;_<550-100;_++){const C=t[_%t.length],x=t[(_+1)%t.length];o.push({left:C,right:x,selected:!1,isIdentical:!1})}for(let _=i.length-1;_>0;_--){const C=Math.floor(Math.random()*(_+1));[i[_],i[C]]=[i[C],i[_]]}const s=new Set;let l=4,u=10,c=Math.floor(Math.random()*l);for(let _=0;_<100&&(c+=Math.floor(Math.random()*(u-l+1))+l,!(c>=550));_++)s.add(c);for(;s.size<100;){const _=Math.floor(Math.random()*550);s.add(_)}const d=[];let p=0,m=0;for(let _=0;_<550;_++)s.has(_)&&p<i.length?d.push(i[p++]):m<o.length&&d.push(o[m++]);this.pairs=d,console.log("Genererade par med varierad men balanserad fördelning:",this.pairs)}selectPair(t){const n=this.pairs[t];n.selected?(this.pairs[t].selected=!1,n.isIdentical?this.correctSelections-=1:this.incorrectSelections>0&&(this.incorrectSelections-=1)):(this.pairs[t].selected=!0,n.isIdentical?this.correctSelections+=1:(this.incorrectSelections+=1,console.log("Fel par markerat! incorrectSelections:",this.incorrectSelections)))}startTimer(){this.startTime=Date.now()}completeTest(t){const n=t.toFixed(2);this.timeTaken.push(n),this.testNumber===4&&console.log("Alla tester är klara!",this.timeTaken)}startNextTest(){this.testNumber<4?(this.testNumber+=1,console.log(`Startar nästa test, testnummer: ${this.testNumber}`),this.startTest()):console.log("Alla tester är klara!",this.timeTaken)}async saveTestData(t,n,r,i){const o=n??this.testNumber,s=MC(this.controlData),l=this.soundFiles[o-1];try{await cN(this.userData,o,t,l,r,i,s,this.pairs.length,this.identicalPairCount),console.log(`Resultat sparat för test ${o}`)}catch(u){console.error("Fel vid sparning av testresultat:",u)}}}const hN=new fN;sE({enforceActions:"never"});const dN=rt(hN);uw(document.getElementById("root")).render(j.jsx(xb,{model:dN}));
